function __vite__mapDeps(indexes) {
  if (!__vite__mapDeps.viteFileDeps) {
    __vite__mapDeps.viteFileDeps = ["assets/EditProfile-DbaDHdkI.js","assets/vendor-CrK3t5v_.js","assets/EditProfile-BIHIE8VJ.css"]
  }
  return indexes.map((i) => __vite__mapDeps.viteFileDeps[i])
}
import{A as Ml,r as f,u as cs,w as U,c as T,C as Tl,o as Ee,g as Me,T as Ll,S as ho,a as ds,b as c,t as _n,d as l,e as r,f as s,h as dt,i as xe,n as Be,j as E,k as P,l as h,m as b,p as D,q as N,s as fe,F as Y,v as J,x as Q,y as ae,z as H,B as sn,D as we,E as no,G as pn,H as Qt,I as Cl,J as vs,K as $e,L as Al,M as Kn,N as Ct,O as se,P as Hn,Q as In,R as No,U as Sl,V as ht,W as Pt,X as mt,Y as Pl,Z as Xt,_ as $n,$ as fs,a0 as Do,a1 as xl,a2 as Hl,a3 as ps,a4 as ct,a5 as hs,a6 as kn,a7 as ms,a8 as dn,a9 as en,aa as Bt,ab as Il,ac as El,ad as Vt,ae as Bl,af as gs,ag as Uo,ah as ys,ai as Vl,aj as Ol,ak as _s,al as Fl,am as Nl,an as mo,ao as go,ap as Dl,aq as Ul,ar as zl}from"./vendor-CrK3t5v_.js";(function(){const n=document.createElement("link").relList;if(n&&n.supports&&n.supports("modulepreload"))return;for(const a of document.querySelectorAll('link[rel="modulepreload"]'))o(a);new MutationObserver(a=>{for(const i of a)if(i.type==="childList")for(const u of i.addedNodes)u.tagName==="LINK"&&u.rel==="modulepreload"&&o(u)}).observe(document,{childList:!0,subtree:!0});function t(a){const i={};return a.integrity&&(i.integrity=a.integrity),a.referrerPolicy&&(i.referrerPolicy=a.referrerPolicy),a.crossOrigin==="use-credentials"?i.credentials="include":a.crossOrigin==="anonymous"?i.credentials="omit":i.credentials="same-origin",i}function o(a){if(a.ep)return;a.ep=!0;const i=t(a);fetch(a.href,i)}})();const jl="modulepreload",Rl=function(e){return"/app/themes/tg/dist/"+e},zo={},ql=function(n,t,o){let a=Promise.resolve();if(t&&t.length>0){const i=document.getElementsByTagName("link"),u=document.querySelector("meta[property=csp-nonce]"),v=(u==null?void 0:u.nonce)||(u==null?void 0:u.getAttribute("nonce"));a=Promise.all(t.map(y=>{if(y=Rl(y),y in zo)return;zo[y]=!0;const d=y.endsWith(".css"),p=d?'[rel="stylesheet"]':"";if(!!o)for(let $=i.length-1;$>=0;$--){const k=i[$];if(k.href===y&&(!d||k.rel==="stylesheet"))return}else if(document.querySelector(`link[href="${y}"]${p}`))return;const m=document.createElement("link");if(m.rel=d?"stylesheet":jl,d||(m.as="script",m.crossOrigin=""),m.href=y,v&&m.setAttribute("nonce",v),document.head.appendChild(m),d)return new Promise(($,k)=>{m.addEventListener("load",$),m.addEventListener("error",()=>k(new Error(`Unable to preload CSS for ${y}`)))})}))}return a.then(()=>n()).catch(i=>{const u=new Event("vite:preloadError",{cancelable:!0});if(u.payload=i,window.dispatchEvent(u),!u.defaultPrevented)throw i})},Xe=new Ml({id:"tg-rmwxr",skipLocationRequest:!0,baseUrl:"https://us-east-1.aws.services.cloud.mongodb.com"}),ee=f(null);var us;(us=Xe.currentUser)!=null&&us.isLoggedIn&&(ee.value=Xe.currentUser);const C=f(null),Oe=f(!1),_t=cs("aky",null);U(C,()=>{var e;_t.value=(e=C.value)==null?void 0:e.aky});const X=T(()=>!!ee.value),It=T(()=>ee.value&&C.value&&(C.value.editProfileSelect||C.value.editProfileId)),$s=T(()=>C.value?C.value.editProfileSelect?"/edit-profiles":C.value.editProfileId?`/author-area/${C.value.editProfileId}`:"/author-area":""),Pe=T(()=>{var e;return!!(ee.value&&((e=C.value)!=null&&e.isAdmin))}),Je=T(()=>{var e;return!!(ee.value&&Array.isArray((e=C.value)==null?void 0:e.allowedProfiles)&&C.value.allowedProfiles.length)});function ks(e){return e&&Je.value&&C.value.allowedProfiles.includes(e)}const vt=T(()=>{var e;return!!(ee.value&&((e=C.value)!=null&&e.isSubscriptionActive))}),yo=T(()=>{var e;return!!(ee.value&&((e=C.value)!=null&&e.isPastDue))}),tt=T(()=>!!(ee.value&&_t.value)),_o=T(()=>!0),Yl=T(()=>!0),$o=f(!1);bs();async function qe(){return new Promise(e=>{Oe.value&&e();const n=U(Oe,t=>{t&&(n(),e())})})}async function bs(){if(C.value){Oe.value=!0;return}if(!ee.value){Oe.value=!0;return}try{C.value=await ee.value.functions.userData()}catch{}finally{Oe.value=!0}}async function ws(e,n,t){ge.value=!0;let o="fail",a=0,i="";e=String(e).toLowerCase();try{const u=Tl.emailPassword(e,n);ee.value=await Xe.logIn(u),o="success",Oe.value=!1,C.value=null,t||await bs()}catch(u){a=+u.statusCode,i=u.error}return ge.value=!1,{status:o,code:a,error:i}}async function jo(){if(Oe.value=!1,C.value=null,ee.value){ge.value=!0;try{await ee.value.logOut()}catch{}ee.value=null,ge.value=!1}localStorage.clear(),sessionStorage.clear(),window.location.href="/"}async function Gl(e,n){ge.value=!0;let t="fail",o=0,a="";try{const i=await ws(e,n,!0);ge.value=!0,i.status==="success"&&(await Xe.deleteUser(Xe.currentUser),t="success",ee.value=null,Oe.value=!1,C.value=null,localStorage.clear(),sessionStorage.clear())}catch(i){o=+i.statusCode,a=i.error}return ge.value=!1,{status:t,code:o,error:a}}async function Kl(e,n,t,o,a){ge.value=!0;let i="fail",u=0;e=String(e).toLowerCase();try{if(await Xe.emailPasswordAuth.registerUser({email:e,password:n}),i="success",t||o)try{await Ee("/api/tg/new-user-data",{method:"POST",body:{email:e,location:o,newsletters:t,membershipIntent:a}})}catch{}}catch(v){u=+v.statusCode}return ge.value=!1,{status:i,code:u}}async function Zl(){ge.value=!0;let e="fail",n=0;const t=new URLSearchParams(window.location.search),o=t.get("token"),a=t.get("tokenId");if(o&&a)try{const i=await Xe.emailPasswordAuth.confirmUser({token:o,tokenId:a});e="success"}catch(i){n=+i.statusCode}return ge.value=!1,{status:e,code:n}}async function Ms(e){ge.value=!0;let n="fail",t=0;e=String(e).toLowerCase();try{const o=await Xe.emailPasswordAuth.retryCustomConfirmation({email:e});n="success"}catch(o){t=+o.statusCode}return ge.value=!1,{status:n,code:t}}async function Ts(e){ge.value=!0;let n="fail",t=0;e=String(e).toLowerCase();try{const o=`${Math.floor(Math.random()*1e7)}`,a=await Xe.emailPasswordAuth.callResetPasswordFunction({email:e,password:o});n="success"}catch(o){t=+o.statusCode}return ge.value=!1,{status:n,code:t}}async function Wl(e){ge.value=!0;let n="fail",t=0;const o=new URLSearchParams(window.location.search),a=o.get("token"),i=o.get("tokenId");if(a&&i&&e)try{const u=await Xe.emailPasswordAuth.resetPassword({token:a,tokenId:i,password:e});n="success"}catch(u){t=+u.statusCode}return ge.value=!1,{status:n,code:t}}Me.registerPlugin(Ll,ho);function Jl(e){const n=ds({});for(const t in e)n[t]=!1;n.current=T(()=>{const t=[];for(const o in n)o!=="current"&&n[o]&&t.push(o);return t.join(",")});for(const t in e){const o=window.matchMedia(e[t]),a=({matches:i})=>{n[t]=i};o.addListener(a),a(o)}return n}function Ot(e){if(!(e.metaKey||e.altKey||e.ctrlKey||e.shiftKey)&&!e.defaultPrevented&&!(e.button!==void 0&&e.button!==0)){if(e.currentTarget&&e.currentTarget.getAttribute){const n=e.currentTarget.getAttribute("target");if(/\b_blank\b/i.test(n))return}return e.preventDefault&&e.preventDefault(),!0}}function Ue(e){let n="An error occurred";if(e!=null&&e.error)try{n=JSON.parse(e.error).message}catch{n=String(e.error)}else if(e!=null&&e.message)return e.message;return n}function Ql(e,n){if(!e)return 0;let t=0,o=0;e=e instanceof HTMLElement?[e]:Array.from(e);e:for(const a of e)if(a.children){for(const i of a.children)if(t+=i.offsetHeight,n&&++o>=n)break e}return t}function Ls(e){if(e=_n(e),!e)return[];let n=[];if(Array.isArray(e))for(const t of e)n=n.concat(Array.from(t.getElementsByTagName("img")));else n=Array.from(e.getElementsByTagName("img"));return n}function ko(e,n,t){const o=Ls(e);if(!o.length){t&&n();return}o.forEach(a=>{a.complete?n(a):(a.addEventListener("load",()=>{n(a)}),a.addEventListener("error",()=>{n(a)}))})}function Xl(e,n,t){const o=Ls(e);if(!o.length){t&&n(o);return}let a=o.length;const i=()=>{a--,a<=0&&n(o)};o.forEach(u=>{u.complete?i():(u.addEventListener("load",i),u.addEventListener("error",i))})}function ea(e,n){if(e=c(e),!e)return!1;const t=window.document;let{top:o,right:a,bottom:i,left:u,width:v,height:y}=e.getBoundingClientRect();const d=window.innerWidth||t.documentElement.clientWidth,p=window.innerHeight||t.documentElement.clientHeight;n!=null&&n.offsetY&&(o-=n.offsetY,i-=n.offsetY);const g=o<=p&&u<=d&&i>=0&&a>=0,m=o>=0&&u>=0&&i<=p&&a<=d,$=o<0&&i>p&&y>p;return{isVisible:g,isInside:m,isOverflowY:$,pastTop:i<p}}function Ro(e){return e&&(new DOMParser().parseFromString(e,"text/html").body.textContent||"")}function at(e){return e&&(e=e.replace(/(?:\r\n|\r|\n)/g,"<br>"),e)}function ta(e){if(!e)return"";const n=e.split(" ");let t=n[0].substring(0,1);return n.length>1&&(t+=n[n.length-1].substring(0,1)),t}function oo(e,n,t){if(!Array.isArray(e))return String(e);t||(t=n);const o=[];for(let i of e)i===null||i===!1||(i=String(i),i!==""&&o.push(i));let a="";for(let i=0;i<o.length;i++)i&&(a+=i===o.length-1?t:n),a+=o[i];return a}function wt(e){if(e.country)return oo(e.country,", "," & ");if(Array.isArray(e.locations)){const n=e.locations.map(t=>t.country);return oo(n,", "," & ")}return""}function na(e){if(Array.isArray(e.locations)){const n=e.locations.map(t=>{const o=t.city||t.locality||"";return de(o,t.country,", ")});return oo(n," & ")}return wt(e)}function de(e,n,t,o,a,i){return[].concat(n).forEach(u=>{u=Cs(u,o,a,i),u&&(e&&t&&(e+=t),e+=u)}),e}function bo(e,n,t,o,a,i){return[].concat(n).forEach(u=>{u=Cs(u,o,a,i),u&&(e&&t&&(e=t+e),e=u+e)}),e}function Cs(e,n,t,o){return e?(n||"")+e+(t||""):o}function oa(){let e=12,n="col-1";co&&(e=2,n="col-6");const t=document.body;if(!t.baselineGrid){let a="";a+='<div class="baseline-grid-lines-y"></div>',a+='<div class="baseline-grid-lines-x">',a+='<div class="container">',a+='<div class="row">';const i=`<div class="${n}"><div class="baseline-grid-col-content"></div></div>`;for(let u=0;u<e;u++)a+=i;a+="</div>",a+="</div>",a+="</div>",a+='<div class="control-baseline"></div>',t.baselineGrid=document.createElement("div"),t.baselineGrid.className="baseline-grid",t.baselineGrid.innerHTML=a,t.baselineGridY=t.baselineGrid.getElementsByClassName("baseline-grid-lines-y")[0],t.baselineLineY=document.createElement("div"),t.baselineLineY.className="baseline-line-y ",t.controlBaseline=t.baselineGrid.getElementsByClassName("control-baseline")[0],t.appendChild(t.baselineGrid)}const o=t.offsetHeight;if(t.classList.contains("baseline-grid-active"))for(t.classList.remove("baseline-grid-active");t.baselineGridY.lastChild;)t.baselineGridY.removeChild(t.baselineGridY.lastChild);else{t.classList.add("baseline-grid-active");const a=t.controlBaseline.offsetHeight,i=Math.ceil(o/a);for(let u=0;u<i;u++)t.baselineGridY.appendChild(t.baselineLineY.cloneNode())}}function sa(){const e=document.body.offsetWidth/8,n=16,t=4,o=document.body;if(!o.grid){let i="";i+='<div class="grid-lines-y"></div>',i+='<div class="grid-lines-x">';let u=!1,v=!1;for(let y=-3;y<e-3;y++)u=y%n===0,v=y%t!==0,i+=`<div class="grid-line-x ${u?"hit":""} ${v?"subhit":""}"></div>`;i+="</div>",o.grid=document.createElement("div"),o.grid.className="grid",o.grid.innerHTML=i,o.gridY=o.grid.getElementsByClassName("grid-lines-y")[0],o.lineY=document.createElement("div"),o.lineY.className="grid-line-y",o.appendChild(o.grid)}const a=o.offsetHeight;if(o.classList.contains("grid-active"))for(o.classList.remove("grid-active");o.gridY.lastChild;)o.gridY.removeChild(o.gridY.lastChild);else{o.classList.add("grid-active");const i=o.grid.getElementsByClassName("grid-line-x")[0].offsetWidth;let u=Math.ceil(a/i);u<12&&(u=12);for(let v=0;v<u;v++)o.gridY.appendChild(o.lineY.cloneNode())}}const ke=!!("ontouchstart"in window||window.DocumentTouch&&document instanceof DocumentTouch);function la(){document.addEventListener("DOMContentLoaded",()=>{document.readyState==="interactive"&&document.body.addEventListener("keydown",e=>{e.code==="KeyW"&&(e.shiftKey&&e.altKey?sa():e.altKey&&oa())})})}const aa=[{name:"xxl",minWidth:1400},{name:"xl",minWidth:1200},{name:"lg",minWidth:992},{name:"md",minWidth:768},{name:"sm",minWidth:576},{name:"default"}],ia=window.matchMedia("(color-gamut: p3)").matches;function ra(e){return e=ua(e),e?(e.startsWith("/")&&(e=e.substring(1)),`https://videos.typographicposters.com/animated-poster/${e}`):""}function ua(e){if(!e||!e.includes("."))return"";const n=e.split(".");return n.pop(),n.push("jpg"),n.join(".")}function it(e,n,t,o){return e?e.imageTag?e.imageTag:`<picture>${Ft(e,n,t,o)}</picture>`:""}function Ft(e,n,t,o){if(!e)return"";(typeof e=="string"||e instanceof String)&&(e={path:e});let a="";typeof n=="string"&&(n={default:n});for(const i of aa){if(!n[i.name])continue;const u=n[i.name],v=i.minWidth?` media="(min-width: ${i.minWidth}px)"`:"";i.name==="default"?O.xxl||O.xxxl?a+=`<img src="${lt(e.path,u,u==="thumb"?1:2)}"${t?' loading="lazy"':""} alt="${Ro(o||e.caption||"")}"${v}${e.width?` width="${e.width}"`:""}${e.height?` height="${e.height}"`:""}>`:a+=`<img srcset="${qo(e.path,u)}"${t?' loading="lazy"':""} alt="${Ro(o||e.caption||"")}"${v}${e.width?` width="${e.width}"`:""}${e.height?` height="${e.height}"`:""}>`:O.xxl||O.xxxl?a+=`<source srcset="${lt(e.path,u,u==="thumb"?1:2)}"${v}>`:a+=`<source srcset="${qo(e.path,u)}"${v}>`}return a}function qo(e,n,t,o){return n==="original"||n==="animated-poster"||n==="thumb"||o?lt(e,n,1,t,n==="original"||n==="animated-poster"?!1:void 0):`${lt(e,n,1,t)} 1x, ${lt(e,n,2,t)} 2x`}const ca=new Date().getDate();function lt(e,n,t,o,a){if(!e)return"";e.startsWith("/")&&(e=e.substring(1));const i=[];t||(t=1);const u=a!==void 0?a:ia;if(i.push(n+(t!==1?`-${t}x`:"")+((u&&n)!=="thumb"?"-p3":"")),o||(o="jpg"),o){const v=e.split(".");v.pop(),v.push(o),i.push(v.join("."))}else i.push(e);return n==="animated-poster"?`https://videos.typographicposters.com/${i.join("/")}`:X.value?`https://media.typographicposters.com/${i.join("/")}`:O.mobile||O.md||O.lg||ca>=22?`https://videos.typographicposters.com/${i.join("/")}`:`https://images.typographicposters.com/${i.join("/")}`}function tn(e,n){const t=e.lastIndexOf(".");return`${e.substr(0,t<0?e.length:t)}.${n}`}function ft(e,n){return e?`${n?"https://www.typographicposters.com":""}/collections/${e.id}`:""}function As(e,n){return e?e.userId?`${n?"https://www.typographicposters.com":""}/collections/user/${e.userId}`:ft(e,n):""}function da(){return"My collections on typo/graphic posters"}function va(e){if(!e)return"";let n=`

`;return n+="Check out my collections typo/graphic posters:",n+=`
${As(e,!0)}`,n}function fa(e){return!e||!e.icon?"":lt(e.icon,"poster",1,"jpg",!0)}function pa(e){return e?`Poster collection “${e.name}” on typo/graphic posters`:""}function ha(e){if(!e)return"";let n=`

`;return n+=`Check out this collection on typo/graphic posters:

`,n+=e.name,n+=`
${ft(e,!0)}`,n}const te=(e,n)=>{const t=e.__vccOpts||e;for(const[o,a]of n)t[o]=a;return t},ma={},ga={focusable:"false",preserveAspectRatio:"xMidYMid meet",xmlns:"http://www.w3.org/2000/svg",width:"32",height:"32",viewBox:"0 0 32 32","aria-hidden":"true",class:"icon share-icon"},ya=s("path",{d:"M20.59 9.41 17 5.83V18h-2V5.83l-3.59 3.58L10 8l6-6 6 6-1.41 1.41z"},null,-1),_a=s("path",{d:"M24 13h-3v2h3v11H8V15h3v-2H8c-1.1 0-2 .9-2 2v11c0 1.1.9 2 2 2h16c1.1 0 2-.9 2-2V15c0-1.1-.9-2-2-2Z"},null,-1),$a=s("title",null,"Share",-1),ka=[ya,_a,$a];function ba(e,n){return l(),r("svg",ga,ka)}const Ss=te(ma,[["render",ba]]);function wa(e,n){return new Intl.NumberFormat(n==="brl"?"pt-BR":"en-US",{style:"currency",currency:n}).format(e/100)}function En(e){return e?(e=String(e),e.startsWith("http")||(e=`http://${e}`),e):""}const Ma=["facebook","instagram","twitter","pinterest","linkedin"];function wo(e){if(e=En(e),!e)return"";let n="";try{e=new URL(e),n=e.hostname.toLowerCase();for(const t of Ma)if(n.includes(t)){n=t;break}n.startsWith("www.")&&(n=n.slice(4))}catch{}return n}function hn(e,n){return e?n&&e.id?`/${e.id}`:e.website?En(e.website):e.instagramUser?`https://www.instagram.com/${e.instagramUser}`:e.twitterUser?`https://twitter.com/${e.twitterUser}`:"":""}function Bn(e,n){return`${n?"https://www.typographicposters.com":""}/${e.id}${e.linkYear?`?year=${e.linkYear}`:""}`}function Ta(e){if(!e)return"";let n="";switch(e.category){case"studio":n="studio profile";break;case"designer":break;default:e.category&&(n=e.category.replace("-"," "));break}return n}function Ps(e){if(!e)return"";let n="";return e.category==="designer"?(n=de(n,e.year,"","* "),n=de(n,e.deceasedYear," ","† ")):e.endYear&&e.year?n=`est. ${e.year}—${e.endYear}`:n=de(n,e.year,"","established in "),n=de(n,e.formattedDate,"<br>"),n=de(n,xs(e)," / "),n=bo(n,at(e.directors),"<br>"),n}function La(e){if(!e)return"";let n="";return e.category==="designer"?(n=de(n,e.year),n=de(n,e.deceasedYear,"","—")):e.endYear&&e.year?n=`est. ${e.year}—${e.endYear}`:n=de(n,e.year,"","est. "),n}function xs(e){if(!e)return"";if(e.cityCountry)return e.cityCountry;let n="";return n=de(n,e.city),n=de(n,wt(e),", "),n}function Ca(e){if(!e)return"";let n="";const t=Array.isArray(e.websites)?e.websites.slice():[];e.instagramUser&&!e.instagramHidden&&t.push(`https://www.instagram.com/${e.instagramUser}`),e.twitterUser&&!e.twitterHidden&&t.push(`https://twitter.com/${e.twitterUser}`);for(let o of t){o=En(o);const a=wo(o);try{o=new URL(o),n=de(n,a," / ",`<a href="${o.href}" rel="noopener" target="_blank">`,"</a>")}catch{}}return n}function fT(e){if(e)switch(e.category){case"exhibition":return"Exhibition Profile";case"museum":return"Museum Profile";case"art-gallery":return"Gallery Profile";case"music-venue":return"Venue Profile";case"studio":return"Studio Profile"}return"Profile"}function pT(e,n){if(e)switch(e.category){case"designer":return n?"Date of Decease":"Birth Date";case"exhibition":return n?"Closing Date":"Opening Date";default:return n?"Closure Date":"Establishment Date"}return n?"End Date":"Start Date"}function hT(e,n){if(e)switch(e.category){case"designer":return n?"Year of Decease":"Birth Year";default:return n?"Closure Year":"Establishment Year"}return n?"End Year":"Start Year"}function Hs(e){return!e||!e.studioPicture?"":it({path:e.studioPicture,width:800,height:494},{default:"studio-mobile",md:"studio"},!1,`design studio of ${e.name}, ${xs(e)}`)}function Aa(e){return e!=null&&e.studioPicture?lt(e.studioPicture,"studio",2,"jpg",!0):""}function Sa(e){return`${e.name} - typo/graphic posters`}function Pa(e){if(!e)return"";let n=`

`;return n+=e.name,n+=`
${Bn(e,!0)}`,n}function Vn(e,n){return e?`${n?"https://www.typographicposters.com":""}/${e.profileId}/${e.id}`:""}function Mo(e,n){if(!e)return"";let t="";if(e.profileName&&!n&&(!e.profileCategory||e.profileCategory==="designer"||e.profileCategory==="studio")&&(t+=e.profileName),Array.isArray(e.authors))for(let o=0;o<e.authors.length;o++){const a=e.authors[o];a.name&&(t&&(t+=o===e.authors.length-1?" & ":", "),t+=a.name)}return t}function bn(e,n){var o,a;if(!e)return"";let t="";if(e.profileId==="kieler-woche"||!e.title&&((o=e.crosslinkFromValues)==null?void 0:o.id)==="kieler-woche"){if((a=e.awards)!=null&&a.find(i=>i.id==="kieler-woche")?t=de(t,"winner","",n?"<b>":"",n?"</b>":""):t=de(t,"proposal"),e.year===2021)return"adjusted design from 2020"}else t=de(t,e.title,"","“","”");return t=de(t,e.year,", "),t}function Is(e,n,t){if(!e)return"";let o="";return["digital","not printed"].includes(e.printProcess)||(o=de(o,e.printProcess)),o=de(o,Es(e,n),", "),o=de(o,t?na(e):wt(e),n?`
`:"<br>"),o}function mT(e){if(!e)return"";let n="";return n=de(n,e.year," "),n=de(n,Mo(e),e.year?", ":" ",""),n}function xa(e,n){if(!e)return"";let t="";return["digital","not printed"].includes(e.printProcess)||(t=de(t,e.printProcess)),t=de(t,Es(e,!0,!0),", "),n||(t=bo(t,wt(e)," / ")),t}function Yo(e,n){let t="";const o=String((e==null?void 0:e.profileCategory)||"designer");if(n)switch(o){case"exhibition":t="as seen on the ";break;case"designer":case"studio":t="with ";break;default:t="for ";break}return o==="education"?"":o==="competition"?"view more of":`${t}${o.replace("-"," ")}`}function Es(e,n,t){if(!e)return"";let o="";if(e.sizeW&&e.sizeH&&(o+=`${e.sizeW} × ${e.sizeH}${t?"":" mm"}`),e.size&&e.size!=="custom"){let a;switch(t?"none":e.size){case"f4":a="F4 Weltformat";break;case"f200":a="F200 Cityformat";break;case"f200l":a="F200L Cityformat";break;case"f12":a="F12 Billboard";break;case"clp":a="City Lights";break;case"2a0":a="Double A0";break;default:a=e.size.toUpperCase();break}o=de(o,a," ","(",")")}return!n&&o&&(o=`<span class="lining-numbers">${o}</span>`),o}function Ha(e){if(!e)return"";let n="©";return n=de(n,e.year," "),n=de(n,Mo(e),e.year?", ":" ",""),n+=". all&nbsp;rights&nbsp;reserved.",n}function Bs(e){if(!e)return"";const n=Mo(e);if(!n)return"";let t="";return t=de(t,e.title,"","“","”"),t=de(t,e.year,", "),t=de(t,n,", ","by "),e.profileCategory&&e.profileCategory!=="designer"&&e.profileCategory!=="studio"&&(t=de(t,e.profileName," ","for ")),t}function Ia(e){var n,t,o;return e.filePath||(n=e.image)!=null&&n.path?e.filePath||((t=e.image)==null?void 0:t.path):`${e.profileId}/${e.fileName||((o=e.image)==null?void 0:o.fileName)}`}function We(e,n,t,o){return e?(n||(n="poster"),Ft(e.image,n,!t,o?"":Bs(e))):""}function Ea(e){return e?lt(Ia(e),"poster",1,"jpg",!0):""}function Ba(e){return e?`${Bs(e)} - typo/graphic posters`:""}function Va(e){if(!e)return"";let n=`

${e.profileName}
${bn(e)}`;return n=de(n,Is(e,!0),`
`),n+=`

${Vn(e,!0)}`,n}const Zn=f(null);function ln({isOpen:e,popup:n,button:t,offsetParent:o,offsetParentPosition:a}){const i=f(0),u=f(!0),v=Math.floor(Math.random()*1e5),y=dt(()=>{if(!n.value||u.value)return;const m=t.value.getBoundingClientRect(),$=m.left+m.width/2,k=n.value.offsetWidth/2,S=Math.ceil($+k+8),_=Math.ceil($-k-8);S>window.innerWidth?i.value=Math.ceil(window.innerWidth-S):_<0?i.value=_*-1:i.value=0,o&&(a.value==="bottom"?n.value.parentElement.style.top=`${m.bottom+window.scrollY}px`:n.value.parentElement.style.top=`${m.top+window.scrollY}px`,n.value.parentElement.style.left=`${$}px`)},100);xe("resize",y),xe(document.body,"click",()=>{e.value=!1}),U(Zn,()=>{Zn.value!==v&&(e.value=!1)});const d=()=>{!o||!n.value||Me.to(n.value.parentElement,{duration:.24,opacity:0,y:8})},p=m=>{!o||!n.value||(m?Me.fromTo(n.value.parentElement,{opacity:0,y:8},{duration:.24,opacity:1,y:0}):Me.to(n.value.parentElement,{duration:.24,opacity:1,y:0}))},g=()=>{e.value?(Be(y),p()):d()};return U(e,()=>{e.value&&(u.value=!1,Zn.value=v),g()},{immediate:!0}),U(t,()=>{e.value?(Be(y),p(!0)):d()}),{offset:i,neverOpened:u,refresh:g}}const Oa={props:{title:{type:String,default:"Share on Instagram"}}},Fa={focusable:"false",preserveAspectRatio:"xMidYMid meet",xmlns:"http://www.w3.org/2000/svg",width:"32",height:"32",viewBox:"0 0 32 32","aria-hidden":"true",class:"social-icon instagram"},Na=s("circle",{cx:"22.406",cy:"9.594",r:"1.44"},null,-1),Da=s("path",{d:"M16 9.838A6.162 6.162 0 1022.162 16 6.162 6.162 0 0016 9.838zM16 20a4 4 0 114-4 4 4 0 01-4 4z"},null,-1),Ua=s("path",{d:"M16 6.162c3.204 0 3.584.012 4.849.07a6.642 6.642 0 012.228.413 3.975 3.975 0 012.278 2.278 6.642 6.642 0 01.413 2.228c.058 1.265.07 1.645.07 4.85s-.012 3.583-.07 4.848a6.642 6.642 0 01-.413 2.228 3.975 3.975 0 01-2.278 2.278 6.642 6.642 0 01-2.228.413c-1.265.058-1.645.07-4.849.07s-3.584-.012-4.849-.07a6.642 6.642 0 01-2.228-.413 3.975 3.975 0 01-2.278-2.278 6.642 6.642 0 01-.413-2.228c-.058-1.265-.07-1.645-.07-4.849s.012-3.584.07-4.849a6.642 6.642 0 01.413-2.228 3.975 3.975 0 012.278-2.278 6.642 6.642 0 012.228-.413c1.265-.058 1.645-.07 4.849-.07M16 4c-3.259 0-3.668.014-4.948.072a8.807 8.807 0 00-2.912.558 6.136 6.136 0 00-3.51 3.51 8.807 8.807 0 00-.558 2.913C4.014 12.333 4 12.74 4 16s.014 3.668.072 4.948a8.807 8.807 0 00.558 2.912 6.136 6.136 0 003.51 3.51 8.807 8.807 0 002.913.558c1.28.058 1.688.072 4.947.072s3.668-.014 4.948-.072a8.807 8.807 0 002.913-.558 6.136 6.136 0 003.51-3.51 8.807 8.807 0 00.557-2.913C27.986 19.667 28 19.26 28 16s-.014-3.668-.072-4.948a8.807 8.807 0 00-.558-2.912 6.136 6.136 0 00-3.51-3.51 8.807 8.807 0 00-2.913-.557C19.667 4.013 19.26 4 16 4z"},null,-1);function za(e,n,t,o,a,i){return l(),r("svg",Fa,[Na,Da,Ua,s("title",null,E(t.title),1)])}const To=te(Oa,[["render",za]]),ja={props:{title:{type:String,default:"Share on Facebook"}}},Ra={focusable:"false",preserveAspectRatio:"xMidYMid meet",xmlns:"http://www.w3.org/2000/svg",width:"32",height:"32",viewBox:"0 0 32 32","aria-hidden":"true",class:"social-icon"},qa=s("path",{d:"M26.67 4H5.33A1.34 1.34 0 004 5.33v21.34A1.34 1.34 0 005.33 28h11.49v-9.28H13.7v-3.63h3.12v-2.67c0-3.1 1.89-4.79 4.67-4.79.93 0 1.86 0 2.79.14V11h-1.91c-1.51 0-1.8.72-1.8 1.77v2.31h3.6l-.47 3.63h-3.13V28h6.1A1.34 1.34 0 0028 26.67V5.33A1.34 1.34 0 0026.67 4z"},null,-1);function Ya(e,n,t,o,a,i){return l(),r("svg",Ra,[qa,s("title",null,E(t.title),1)])}const Vs=te(ja,[["render",Ya]]),Ga={props:{title:{type:String,default:"Share on Twitter"}}},Ka={focusable:"false",preserveAspectRatio:"xMidYMid meet",xmlns:"http://www.w3.org/2000/svg",width:"32",height:"32",viewBox:"0 0 32 32","aria-hidden":"true",class:"social-icon twitter"},Za=s("path",{d:"M11.92 24.94A12.76 12.76 0 0024.76 12.1v-.59A9.4 9.4 0 0027 9.18a9.31 9.31 0 01-2.59.71 4.56 4.56 0 002-2.5 8.89 8.89 0 01-2.86 1.1 4.52 4.52 0 00-7.7 4.11 12.79 12.79 0 01-9.3-4.71 4.51 4.51 0 001.4 6 4.47 4.47 0 01-2-.56v.05a4.53 4.53 0 003.55 4.45 4.53 4.53 0 01-2 .08A4.51 4.51 0 0011.68 21a9.05 9.05 0 01-5.61 2A9.77 9.77 0 015 22.91a12.77 12.77 0 006.92 2"},null,-1);function Wa(e,n,t,o,a,i){return l(),r("svg",Ka,[Za,s("title",null,E(t.title),1)])}const Lo=te(Ga,[["render",Wa]]),Ja={props:{title:{type:String,default:"Share on Pinterest"}}},Qa={focusable:"false",preserveAspectRatio:"xMidYMid meet",xmlns:"http://www.w3.org/2000/svg",width:"32",height:"32",viewBox:"0 0 32 32","aria-hidden":"true",class:"social-icon"},Xa=s("path",{d:"M16 2a14 14 0 00-5.1 27 13.24 13.24 0 010-4l1.65-7a5.05 5.05 0 01-.38-2c0-1.94 1.13-3.4 2.53-3.4a1.76 1.76 0 011.77 2c0 1.2-.76 3-1.16 4.66a2 2 0 002.08 2.53c2.48 0 4.4-2.63 4.4-6.41a5.53 5.53 0 00-5.85-5.7 6.06 6.06 0 00-6.32 6.08 5.42 5.42 0 001 3.19.44.44 0 01.1.4c-.11.44-.35 1.4-.39 1.59s-.21.31-.47.19c-1.75-.82-2.84-3.37-2.84-5.43 0-4.41 3.21-8.47 9.25-8.47 4.85 0 8.63 3.46 8.63 8.09 0 4.82-3 8.7-7.27 8.7a3.76 3.76 0 01-3.21-1.6l-.87 3.33a15.55 15.55 0 01-1.74 3.67A14.17 14.17 0 0016 30a14 14 0 000-28"},null,-1);function ei(e,n,t,o,a,i){return l(),r("svg",Qa,[Xa,s("title",null,E(t.title),1)])}const Os=te(Ja,[["render",ei]]),ti={props:{title:{type:String,default:"Share on Tumblr"}}},ni={focusable:"false",preserveAspectRatio:"xMidYMid meet",xmlns:"http://www.w3.org/2000/svg",width:"32",height:"32",viewBox:"0 0 32 32","aria-hidden":"true",class:"social-icon"},oi=s("path",{d:"M22.6 28h-4c-3.59 0-6.3-1.86-6.3-6.3v-7.12H9v-3.86A7.17 7.17 0 0 0 14.3 4h3.76v6.12h4.36v4.46h-4.36v6.2c0 1.86.94 2.49 2.42 2.49h2.12Z"},null,-1);function si(e,n,t,o,a,i){return l(),r("svg",ni,[oi,s("title",null,E(t.title),1)])}const li=te(ti,[["render",si]]),ai={props:{title:{type:String,default:"Send by Email"}}},ii={focusable:"false",preserveAspectRatio:"xMidYMid meet",xmlns:"http://www.w3.org/2000/svg",width:"32",height:"32",viewBox:"0 0 32 32","aria-hidden":"true",class:"social-icon"},ri=s("path",{d:"M28 6H4a2 2 0 00-2 2v16a2 2 0 002 2h24a2 2 0 002-2V8a2 2 0 00-2-2zm-2.2 2L16 14.78 6.2 8zM4 24V8.91l11.43 7.91a1 1 0 001.14 0L28 8.91V24z"},null,-1);function ui(e,n,t,o,a,i){return l(),r("svg",ii,[ri,s("title",null,E(t.title),1)])}const ci=te(ai,[["render",ui]]),di={focusable:"false",preserveAspectRatio:"xMidYMid meet",xmlns:"http://www.w3.org/2000/svg",width:"32",height:"32",viewBox:"0 0 32 32","aria-hidden":"true",class:"icon close-icon"},vi=s("polygon",{points:"24 9.4 22.6 8 16 14.6 9.4 8 8 9.4 14.6 16 8 22.6 9.4 24 16 17.4 22.6 24 24 22.6 17.4 16 24 9.4"},null,-1),fi=["innerHTML"],Nt={__name:"CloseIcon",props:{title:{type:String,default:"Close"}},setup(e){return(n,t)=>(l(),r("svg",di,[vi,s("title",{innerHTML:e.title},null,8,fi)]))}},pi={class:"copy-text"},hi=["innerHTML"],mi={class:"copy-message"},gi=["innerHTML"],yi={key:1},_i={__name:"CopyText",props:{text:String,label:{type:String,default:"copy"},escapeText:Boolean},setup(e){const n=e,t=!!(navigator!=null&&navigator.clipboard),o=f(!1),a=T(()=>o.value?"copied!":n.label);let i=null;const u=async()=>{try{const v="text/plain",y=new Blob([n.text.replace("<br>","\r")],{type:v}),d=[new ClipboardItem({[v]:y})];await navigator.clipboard.write(d),o.value=!0,i&&clearTimeout(i),i=setTimeout(()=>{o.value=!1},2e3)}catch{}};return(v,y)=>(l(),r("div",pi,[t?(l(),r("button",{key:0,class:P(["copy-button",{success:o.value}]),type:"button",onClick:u,innerHTML:a.value},null,10,hi)):h("",!0),s("h6",mi,[e.escapeText?(l(),r("span",yi,E(e.text),1)):(l(),r("span",{key:0,innerHTML:e.text},null,8,gi))])]))}},$i={props:{title:{type:String,default:"Copy Link"}}},ki={focusable:"false",preserveAspectRatio:"xMidYMid meet",xmlns:"http://www.w3.org/2000/svg",width:"32",height:"32",viewBox:"0 0 32 32","aria-hidden":"true",class:"social-icon"},bi=s("path",{d:"M29.25,6.76a6,6,0,0,0-8.5,0l1.42,1.42a4,4,0,1,1,5.67,5.67l-8,8a4,4,0,1,1-5.67-5.66l1.41-1.42-1.41-1.42-1.42,1.42a6,6,0,0,0,0,8.5A6,6,0,0,0,17,25a6,6,0,0,0,4.27-1.76l8-8A6,6,0,0,0,29.25,6.76Z"},null,-1),wi=s("path",{d:"M4.19,24.82a4,4,0,0,1,0-5.67l8-8a4,4,0,0,1,5.67,0A3.94,3.94,0,0,1,19,14a4,4,0,0,1-1.17,2.85L15.71,19l1.42,1.42,2.12-2.12a6,6,0,0,0-8.51-8.51l-8,8a6,6,0,0,0,0,8.51A6,6,0,0,0,7,28a6.07,6.07,0,0,0,4.28-1.76L9.86,24.82A4,4,0,0,1,4.19,24.82Z"},null,-1);function Mi(e,n,t,o,a,i){return l(),r("svg",ki,[bi,wi,s("title",null,E(t.title),1)])}const Ti=te($i,[["render",Mi]]),Li=["href"],Ci={class:"popup-icon animated"},Ai={__name:"ShareCopyLink",props:{url:String},setup(e){const n=e,t=!!(navigator!=null&&navigator.clipboard),o=f(!1),a=T(()=>o.value?"copied!":"copy link");let i=null;const u=async v=>{if(Ot(v),!t){ze.push(n.url);return}try{const y="text/plain",d=new Blob([n.url],{type:y}),p=[new ClipboardItem({[y]:d})];await navigator.clipboard.write(p),o.value=!0,i&&clearTimeout(i),i=setTimeout(()=>{o.value=!1},2e3)}catch{}};return(v,y)=>(l(),r("a",{href:e.url,onClick:N(u,["stop"])},[s("button",{type:"button",class:P(["popup-pill",{green:o.value}])},[s("div",Ci,[b(Ti)]),D(" "+E(a.value),1)],2)],8,Li))}},Go={ShareIcon:Ss,ShareInstagram:To,ShareFacebook:Vs,ShareTwitter:Lo,SharePinterest:Os,ShareTumblr:li,ShareEmail:ci,CopyText:_i,ShareCopyLink:Ai,CloseIcon:Nt},Z=f(null),mn=f(null),Co=f("top"),so=f(null),On=f(!1),Fn=f(!1),Ao=f(null),Fs=f(null),ut=f(null),yt=f(""),Ae=f(null),Ne=f(null),Kt=f(""),be="https://images.typographicposters.com",{offset:Si,refresh:So}=ln({isOpen:Fn,popup:Ao,button:Fs,offsetParent:!0,offsetParentPosition:Co});function Pi(e){mn.value=e.intent,Co.value=e.position||"top",so.value=c(e.scrollTarget),Fs.value=c(e.button),Z.value=c(e.item),Fn.value=!0,On.value=!1,So()}function xi(){Fn.value=!1}function Hi(){On.value=!1,So()}function Ii(e,n){e.stopPropagation(),n==="Instagram"&&(e.preventDefault(),On.value=!0,ke&&(so.value?Me.to(so.value,{duration:.42,scrollTo:{y:0}}):Me.to(window,{duration:.42,scrollTo:{y:Ao.value,offsetY:98}})),So())}U(Z,()=>{var v,y,d,p;if(ut.value=[],yt.value="",Ae.value=[],Ne.value=[],Kt.value="",!Z.value)return;let e="",n="",t="";switch(mn.value){case"poster":yt.value=Vn(Z.value,!0),e=Ba(Z.value),n=Ea(Z.value),t=Va(Z.value);break;case"profile":yt.value=Bn(Z.value,!0),e=Sa(Z.value),n=Aa(Z.value),t=Pa(Z.value);break;case"collection":yt.value=ft(Z.value,!0),e=pa(Z.value),n=fa(Z.value),t=ha(Z.value);break;case"my-collections":yt.value=As(Z.value,!0),e=da(),n=null,t=va(Z.value);break}const o=encodeURIComponent(yt.value);let a=[].concat(Z.value.tags,Z.value.profileId,"typographic","poster","typography");if(a=a.filter(g=>g),a=a.map(g=>String(g).toLowerCase().replaceAll("-","").replaceAll(" ","")),a=[...new Set(a)],mn.value==="profile")Ae.value.push(`${be}/instagram-grid-white-p3/${Z.value.id}.jpg`),Ae.value.push(`${be}/instagram-grid-gray-p3/${Z.value.id}.jpg`),Ae.value.push(`${be}/instagram-grid-dark-p3/${Z.value.id}.jpg`),Ae.value.push(`${be}/instagram-grid-black-p3/${Z.value.id}.jpg`),Ne.value.push(`${be}/instagram-story-grid-white-p3/${Z.value.id}.jpg`),Ne.value.push(`${be}/instagram-story-grid-gray-p3/${Z.value.id}.jpg`),Ne.value.push(`${be}/instagram-story-grid-dark-p3/${Z.value.id}.jpg`),Ne.value.push(`${be}/instagram-story-grid-black-p3/${Z.value.id}.jpg`);else if(mn.value==="poster"){if(Ae.value.push(`${be}/instagram-white-p3/${Z.value.id}.jpg`),Ae.value.push(`${be}/instagram-gray-p3/${Z.value.id}.jpg`),Ae.value.push(`${be}/instagram-dark-p3/${Z.value.id}.jpg`),Ae.value.push(`${be}/instagram-black-p3/${Z.value.id}.jpg`),(v=Z.value.series)!=null&&v.length)for(let g=1;g<=Math.min(Z.value.series.length,7);g++)Ae.value.push(`${be}/instagram-white-p3/${Z.value.id}-series${g}.jpg`),Ae.value.push(`${be}/instagram-gray-p3/${Z.value.id}-series${g}.jpg`),Ae.value.push(`${be}/instagram-dark-p3/${Z.value.id}-series${g}.jpg`),Ae.value.push(`${be}/instagram-black-p3/${Z.value.id}-series${g}.jpg`);if(Ne.value.push(`${be}/instagram-story-white-p3/${Z.value.id}.jpg`),Ne.value.push(`${be}/instagram-story-gray-p3/${Z.value.id}.jpg`),Ne.value.push(`${be}/instagram-story-dark-p3/${Z.value.id}.jpg`),Ne.value.push(`${be}/instagram-story-black-p3/${Z.value.id}.jpg`),(y=Z.value.series)!=null&&y.length)for(let g=1;g<=Math.min(Z.value.series.length,7);g++)Ne.value.push(`${be}/instagram-story-white-p3/${Z.value.id}-series${g}.jpg`),Ne.value.push(`${be}/instagram-story-gray-p3/${Z.value.id}-series${g}.jpg`),Ne.value.push(`${be}/instagram-story-dark-p3/${Z.value.id}-series${g}.jpg`),Ne.value.push(`${be}/instagram-story-black-p3/${Z.value.id}-series${g}.jpg`)}Z.value.instagramUser&&(Kt.value=`by @${Z.value.instagramUser}`),Kt.value=de(Kt.value,"Visit the entire collection at @typographicposters","<br>"),(d=Ae.value)!=null&&d[0]&&ut.value.push({key:"Instagram",isExternal:!0,href:Ae.value[0]});let i=`https://www.pinterest.com/pin/create/button/?url=${o}`;n&&(i+=`&media=${encodeURIComponent(n)}`),e&&(i+=`&description=${encodeURIComponent(e)}`),ut.value.push({key:"Pinterest",isExternal:!0,href:i});let u=`https://twitter.com/intent/tweet?url=${o}&lang=en&via=tgposters`;if(a.length&&(u+=`&hashtags=${encodeURIComponent(a.join(","))}`),e&&(u+=`&text=${encodeURIComponent(e)}`,Z.value.twitterUser&&(u+=encodeURIComponent(` @${Z.value.twitterUser}`))),ut.value.push({key:"Twitter",isExternal:!0,href:u}),(p=Ae.value)!=null&&p[1]){let g=`https://www.tumblr.com/widgets/share/tool?shareSource=legacy&canonicalUrl=${o}`;g+=`&posttype=photo&content=${encodeURIComponent(Ae.value[1])}`,e&&(g+=`&caption=${encodeURIComponent(e)}`),g+=`&tags=${encodeURIComponent(a.join(","))}`,ut.value.push({key:"Tumblr",isExternal:!0,href:g})}ut.value.push({key:"Facebook",isExternal:!0,href:`https://www.facebook.com/sharer/sharer.php?u=${o}`}),ut.value.push({key:"Email",href:`mailto:?subject=${e}&body=${encodeURIComponent(t)}`})});const Ei={components:Go,setup(){return U(rn,xi),{pills:ut,url:yt,instagramPosts:Ae,instagramStories:Ne,instagramMessage:Kt,popup:Ao,offset:Si,position:Co,isOpen:Fn,click:Ii,isActiveInstagram:On,closeIntagram:Hi,components:Go,isTouch:ke}}},Bi=["href","target","onClick"],Vi={type:"button",class:"popup-pill"},Oi={class:"popup-icon animated"},Fi={key:0,class:"instagram-share"},Ni={class:"no-spacingf"},Di=s("small",null,"Square post (1:1)",-1),Ui=["src"],zi={key:0},ji=["src"],Ri=s("small",{class:"no-spacing padding-bottom-1"}," also please add this credits: ",-1);function qi(e,n,t,o,a,i){const u=fe("ShareCopyLink"),v=fe("CloseIcon"),y=fe("CopyText");return l(),r("div",{class:"share-popup-wrap",onClick:n[1]||(n[1]=N(()=>{},["stop","prevent"]))},[s("div",{ref:"popup",class:P(["popup flex share-popup",[o.position,{open:o.isOpen}]]),style:we({"--offset":`${o.offset}px`})},[(l(!0),r(Y,null,J(o.pills,d=>Q((l(),r("a",{key:d.key,href:d.href,target:d.isExternal?"_blank":"_self",rel:"noopener",onClick:p=>o.click(p,d.key)},[s("button",Vi,[s("div",Oi,[(l(),H(sn(o.components[`Share${d.key}`])))]),D(" "+E(d.key),1)])],8,Bi)),[[ae,!o.isActiveInstagram]])),128)),Q(b(u,{url:o.url},null,8,["url"]),[[ae,!o.isActiveInstagram]]),o.isActiveInstagram?(l(),r("div",Fi,[s("button",{type:"button",class:"close-button",onClick:n[0]||(n[0]=N((...d)=>o.closeIntagram&&o.closeIntagram(...d),["stop"]))},[b(v)]),s("p",Ni," To share, save "+E(o.instagramPosts.length>1?"any of these images":"this image")+" to your "+E(o.isTouch?"device":"computer")+", then publish on Instagram. ",1),Di,s("div",{class:P(["images",{single:o.instagramPosts.length<=2}])},[(l(!0),r(Y,null,J(o.instagramPosts,d=>(l(),r("img",{key:d,src:d},null,8,Ui))),128))],2),o.instagramStories.length?(l(),r("small",zi,"Instagram Story (16:9)")):h("",!0),o.instagramStories.length?(l(),r("div",{key:1,class:P(["images",{single:o.instagramStories.length<=2,several:o.instagramStories.length>4}])},[(l(!0),r(Y,null,J(o.instagramStories,d=>(l(),r("img",{key:d,src:d},null,8,ji))),128))],2)):h("",!0),Ri,b(y,{text:o.instagramMessage},null,8,["text"])])):h("",!0)],6)])}const Yi=te(Ei,[["render",qi]]),pt={__name:"ShareButton",props:{item:Object,intent:String,position:String,iconOnly:Boolean,scrollTarget:null},setup(e){const n=f(null);return(t,o)=>(l(),r("div",{ref_key:"button",ref:n,class:"share-button color-link",onClick:o[0]||(o[0]=N(a=>c(Pi)({item:e.item,intent:e.intent,position:e.position,scrollTarget:e.scrollTarget,button:n.value}),["stop","prevent"]))},[D(E(e.iconOnly?"":"Share")+" ",1),b(Ss)],512))}},Gt=f(null),wn=f(null),lo=f(null);let Wn=null,Ko=null;function Ns(){_t.value?(!Gt.value||Ko!==_t.value)&&(Ko=_t.value,Gt.value=no("2E01Z8E01W",_t.value),wn.value=Gt.value.initIndex("posters"),lo.value=Gt.value.initIndex("profiles")):(Wn||(Wn=no("2E01Z8E01W","fb62316158237010747749a803548a90").initIndex("profiles")),Gt.value=null,wn.value=null,lo.value=Wn)}U(_t,Ns);const ye=cs("view",{size:"medium",sizeProfiles:"medium",sizeProfilesPhotos:"medium",sizeCollections:"medium",animated:"click"});function Gi(){ye.value.size=ye.value.size==="small"?"medium":ye.value.size==="medium"?"large":"small"}function Ki(){ye.value.sizeProfiles=ye.value.sizeProfiles==="small"?"medium":ye.value.sizeProfiles==="medium"?"large":"small"}function Zi(){ye.value.sizeProfilesPhotos=ye.value.sizeProfilesPhotos==="small"?"medium":ye.value.sizeProfilesPhotos==="medium"?"large":"small"}function Wi(){ye.value.sizeCollections=ye.value.sizeCollections==="small"?"medium":ye.value.sizeCollections==="medium"?"large":"small"}function Zo(){ye.value.animated=ye.value.animated==="always"?"click":"always"}const Ji=T(()=>ye.value.animated==="click"?"only on click":ye.value.animated);function Nn({intent:e,features:n,items:t,total:o,appendTarget:a,tagChoices:i,activeTags:u,defaultMessage:v,layout:y,forceSortOrder:d}){var Ye,je,At,rt,St,cn,Ge,Yt;Ns();let p=null,g=null;n||(n={}),n.q&&(p=pn("q"),g=f(p.value||""),U(g,()=>{p.value=g.value||void 0}));let m=null,$=null;if(n.tags){const _e=n.tagsKey||"tags",oe=n.tagsAllowMultiple!==void 0?!!n.tagsAllowMultiple:!0,ce=pn(_e);m=f(ce.value?`${ce.value}`.split(","):[]),i=i||[],$=Ke=>{const Ce=m.value.indexOf(Ke);oe?Ce>=0?m.value.splice(Ce,1):m.value.push(Ke):(m.value=[],Ce===-1&&m.value.push(Ke))},Qt(()=>{ce.value=m.value.length?m.value.join(","):void 0})}let k=null,S=null,_=null;if(n.colors){const _e=pn("color");k=f(_e.value?String(_e.value).split(","):[]),S=oe=>{const ce=k.value.indexOf(oe);ce>=0?k.value.splice(ce,1):k.value.push(oe)},_=(oe,ce)=>{k.value.length>oe&&(k.value[oe]=ce)},Qt(()=>{_e.value=k.value.length?k.value.join(","):void 0})}const M=f(!1),A=T(()=>!tt.value&&!vt.value&&!["profiles","profile-posters"].includes(e)||!X.value?!1:!!(n.q&&(g!=null&&g.value)||n.filters&&u.value.length||n.tags&&m.value.length||n.colors&&k.value.length)),w=T(()=>{if(d!=null&&d.value)return 999;if(e==="profiles")return 1e3;if(e==="collections")return 12;let _e=ye.value.size;return e==="profile-posters"&&(_e=ye.value.sizeProfiles),O.xxxl?_e==="large"?32:_e==="small"?42:30:O.md||O.mobile||_e==="large"?24:_e==="small"?30:32}),L=Cl([]);!A.value&&t&&(L.value=t),L.value.length&&L.value.length>w.value&&(L.value=L.value.slice(0,w.value));const x=f(+o),G=f(0),ie=T(()=>G.value*w.value),W=T(()=>x.value?Math.floor(x.value/w.value):0),z=T(()=>G.value<W.value),ue=(At=(je=(Ye=re.value)==null?void 0:Ye.stats)==null?void 0:je.profilesCount)==null?void 0:At.toLocaleString(),F=(cn=(St=(rt=re.value)==null?void 0:rt.stats)==null?void 0:St.postersCount)==null?void 0:cn.toLocaleString(),B=(Yt=(Ge=re.value)==null?void 0:Ge.stats)==null?void 0:Yt.countriesCount,I=T(()=>{if(M.value)return"searching...";if(e==="profiles"){if(A.value)return(y==null?void 0:y.value)==="photos"?x.value===1?"1 profile with studio photo found":x.value>1?!g.value&&u.value.length===1?`${x.value} profiles with studio photos`:`${x.value} profiles with studio photos found`:"No profiles with studio photos found":x.value===1?"1 profile found":x.value>1?`${x.value} profiles found`:"No profiles found";if(v)return v;if(ue&&B)return`${ue} profiles from ${B} different countries`}return e==="collections"?v||"listing all public collections ordered by last update":A.value?(y==null?void 0:y.value)==="photos"?x.value===1?"1 poster with photo gallery found":x.value>1?`${x.value} posters with photo gallery found`:"No posters with photo gallery found":x.value===1?"1 poster found":x.value>1?`${x.value} posters found`:"No posters found":v||(F&&B?`${F} posters from ${B} different countries`:"")}),V=T(()=>{var _e;return(_e=k==null?void 0:k.value)!=null&&_e.length&&I.value!=="No posters found"?"&nbsp;":I.value}),R=T(()=>"");let K=null;g&&U(g,()=>{K&&clearTimeout(K),K=setTimeout(()=>{ne()},300)});let q=0,pe=null;const me=f(null);async function ne(_e){var Ke;M.value=!0,!tt.value&&e!=="profiles"&&await qe(),_e?G.value++:(G.value=0,q=0);const oe=`${g==null?void 0:g.value}_${Math.floor(Math.random()*1e7)}`;me.value=oe,st.value=null;const ce=await pe(oe);if(!(oe!==me.value&&!_e)){if(st.value=(ce==null?void 0:ce.queryID)||null,(Ke=ce==null?void 0:ce.hits)!=null&&Ke.length){if(ce.hits=ce.hits.map(Ce=>(Ce.objectID&&(Ce.id=Ce.objectID),Ce.position=++q,Ce)),_e)if(ce.hits=ce.hits.filter(Ce=>!L.value.find(gt=>gt.id===Ce.id)),a)if(ce.hits=ce.hits.filter(Ce=>!a.value.find(gt=>gt.id===Ce.id)),L.value.length<w.value){const Ce=w.value-L.value.length,gt=ce.hits.slice(0,Ce),wl=ce.hits.slice(Ce);L.value=L.value.concat(gt),a.value=a.value.concat(wl)}else a.value=a.value.concat(ce.hits);else L.value=L.value.concat(ce.hits);else L.value=ce.hits,a&&(a.value=[]);x.value=ce.total||ce.nbHits}else _e||Le();M.value=!1}}const Le=()=>{L.value=[],a&&(a.value=[]),G.value=0,x.value=0},le=()=>{ne(!0)},ve=()=>{!M.value&&z.value&&le()};async function he(_e){for(;z.value&&!_e(L.value);)await ne(!0)}const Te=_e=>{var oe,ce,Ke;pe=_e,(!L.value.length||g!=null&&g.value||(oe=k==null?void 0:k.value)!=null&&oe.length||(ce=m==null?void 0:m.value)!=null&&ce.length||(Ke=u==null?void 0:u.value)!=null&&Ke.length)&&(Le(),ne()),k&&U([k,k.value],()=>{ne()}),m&&U([m,m.value],()=>{ne()}),u&&U(u,()=>{ne()})};if(!X.value){const _e=U(X,()=>{X.value&&(ne(),_e())})}return{q:g,tags:m,tagChoices:i,setTag:$,colors:k,setColor:S,changeColor:_,currentItems:L,currentPage:G,itemsPerPage:w,skip:ie,loadMore:le,tryToLoadMore:ve,hasMorePages:z,loadAllUntil:he,message:V,caption:R,isSearching:A,isLoading:M,setSearchHandler:Te,targetRequestId:me}}let vn=!1;async function Qi(){var e;return Tt?vn||(await qe(),(e=C.value)!=null&&e.aky&&(vs("init",{appId:"2E01Z8E01W",apiKey:C.value.aky}),vn=!0),vn):!1}async function Xi(e,n,t,o){let a="Poster Clicked";t?a=`Profile;${a}`:o&&(a=`Collection;${a}`),await Dn({event:"click",target:"posters",posterId:e,profileId:t,collectionId:o,algoliaIndex:"posters",eventName:a,position:n})}async function er(e,n,t){await Dn({event:"collect",target:"posters",posterId:n,collectionId:e,algoliaIndex:"posters",eventName:"Poster Collected",position:t})}async function tr(e,n,t){await Dn({event:"like",target:e,posterId:e==="posters"?n:null,profileId:e==="profiles"?n:null,algoliaIndex:e,eventName:"Like",position:t})}async function ao(e,n){await Dn({event:"click",target:"profiles",profileId:e,algoliaIndex:"profiles",eventName:"Profile Clicked",position:n})}async function Dn(e){var t;if(!(!await Qi()||!((t=C.value)!=null&&t.id)||!ee.value)&&["posters","profiles"].includes(e.algoliaIndex)&&e.eventName){const o=e.algoliaIndex==="posters"?e.posterId:e.profileId,a={userToken:C.value.id,index:e.algoliaIndex,eventName:e.eventName,objectIDs:[o]};let i;switch(e.event){case"view":i="viewedObjectIDs";break;case"click":i="clickedObjectIDs",e.position&&st.value&&(a.queryID=st.value,a.positions=[e.position],i="clickedObjectIDsAfterSearch");break;case"collect":case"like":i="convertedObjectIDs",st.value&&(a.queryID=st.value,i="convertedObjectIDsAfterSearch");break}i&&o&&vs(i,a)}}const nr={focusable:"false",preserveAspectRatio:"xMidYMid meet",xmlns:"http://www.w3.org/2000/svg",width:"32",height:"32",viewBox:"0 0 32 32","aria-hidden":"true",class:"icon like-icon"},or=s("path",{d:"M22.45 6a5.47 5.47 0 0 1 3.91 1.64 5.7 5.7 0 0 1 0 8L16 26.13 5.64 15.64a5.7 5.7 0 0 1 0-8 5.48 5.48 0 0 1 7.82 0l2.54 2.6 2.53-2.58A5.44 5.44 0 0 1 22.45 6m0-2a7.47 7.47 0 0 0-5.34 2.24L16 7.36l-1.11-1.12a7.49 7.49 0 0 0-10.68 0 7.72 7.72 0 0 0 0 10.82L16 29l11.79-11.94a7.72 7.72 0 0 0 0-10.82A7.49 7.49 0 0 0 22.45 4Z"},null,-1),sr=["innerHTML"],kt={__name:"LikeIcon",props:{title:{type:String,default:"Click to Like"}},setup(e){return(n,t)=>(l(),r("svg",nr,[or,e.title?(l(),r("title",{key:0,innerHTML:e.title},null,8,sr)):h("",!0)]))}},lr={},ar={focusable:"false",preserveAspectRatio:"xMidYMid meet",xmlns:"http://www.w3.org/2000/svg",width:"32",height:"32",viewBox:"0 0 32 32","aria-hidden":"true",class:"icon"},ir=s("path",{d:"M22.5 4c-2 0-3.9.8-5.3 2.2L16 7.4l-1.1-1.1c-2.9-3-7.7-3-10.6-.1l-.1.1c-3 3-3 7.8 0 10.8L16 29l11.8-11.9c3-3 3-7.8 0-10.8C26.4 4.8 24.5 4 22.5 4z"},null,-1),rr=s("title",null,"You liked!",-1),ur=[ir,rr];function cr(e,n){return l(),r("svg",ar,ur)}const Wo=te(lr,[["render",cr]]),dr={type:"button",class:"tag no-spacing"},vr=["innerHTML"],an={__name:"Like",props:{target:String,id:String,posterPosition:Number,pill:Boolean,textAndIcon:Boolean},setup(e){const n=e,t=T(()=>{var v,y;return!X.value||!((y=(v=C.value)==null?void 0:v.likes)!=null&&y[n.target])?!1:C.value.likes[n.target].indexOf(n.id)!==-1}),o=f(!1),a=f(""),i=async()=>{if(!o.value){if(!X.value){Ve();return}a.value="",o.value=!0;try{if(await ee.value.functions.userLikeToggle({target:n.target,id:n.id,fromSearch:!!st.value}))t.value||(C.value.likes[n.target]||(C.value.likes[n.target]=[]),C.value.likes[n.target].unshift(n.id),tr(n.target,n.id,n.posterPosition));else if(t.value){const v=C.value.likes[n.target].indexOf(n.id);C.value.likes[n.target].splice(v,1)}}catch(u){a.value=Ue(u)}o.value=!1}};return(u,v)=>(l(),r("div",{class:P(["like",{disabled:c(X)&&!c(C),loading:o.value}])},[e.textAndIcon?(l(),r("div",{key:0,class:"toggle-like-pill color-link",onClick:N(i,["stop","prevent"])},[D(E(o.value?"wait":t.value?"liked":"like")+" ",1),Q(b(kt,null,null,512),[[ae,!t.value]]),Q(b(Wo,null,null,512),[[ae,t.value]])])):e.pill?(l(),r("div",{key:2,class:"toggle-like-pill color-link",onClick:N(i,["stop","prevent"])},[Q(s("div",null,[D(" Like "),b(kt)],512),[[ae,!t.value]]),Q(s("button",dr," Liked ",512),[[ae,t.value]])])):(l(),r("div",{key:1,class:"toggle-like",onClick:N(i,["stop","prevent"])},[Q(b(kt,null,null,512),[[ae,!t.value]]),Q(b(Wo,null,null,512),[[ae,t.value]])])),a.value?(l(),r("small",{key:3,innerHTML:a.value},null,8,vr)):h("",!0)],2))}},fr={},pr={focusable:"false",preserveAspectRatio:"xMidYMid meet",xmlns:"http://www.w3.org/2000/svg",width:"32",height:"32",viewBox:"0 0 32 32","aria-hidden":"true",class:"icon"},hr=s("polygon",{points:"26,20 24,20 24,24 20,24 20,26 24,26 24,30 26,30 26,26 30,26 30,24 26,24"},null,-1),mr=s("path",{d:"M28,8H16l-3.4-3.4C12.2,4.2,11.7,4,11.2,4H4C2.9,4,2,4.9,2,6v20c0,1.1,0.9,2,2,2h14v-2H4V6h7.2l3.4,3.4l0.6,0.6H28v8h2v-8	C30,8.9,29.1,8,28,8z"},null,-1),gr=s("title",null,"Add to your Collection",-1),yr=[hr,mr,gr];function _r(e,n){return l(),r("svg",pr,yr)}const Jo=te(fr,[["render",_r]]),$r={},kr={focusable:"false",preserveAspectRatio:"xMidYMid meet",xmlns:"http://www.w3.org/2000/svg",width:"32",height:"32",viewBox:"0 0 32 32","aria-hidden":"true",class:"icon"},br=s("path",{d:"M11.2 4H4c-1.1 0-2 .9-2 2v20c0 1.1.9 2 2 2h24c1.1 0 2-.9 2-2V10c0-1.1-.9-2-2-2H16l-3.4-3.4c-.4-.4-.9-.6-1.4-.6z"},null,-1),wr=s("title",null,"Already on your collection",-1),Mr=[br,wr];function Tr(e,n){return l(),r("svg",kr,Mr)}const Lr=te($r,[["render",Tr]]),Cr={},Ar={focusable:"false",preserveAspectRatio:"xMidYMid meet",xmlns:"http://www.w3.org/2000/svg",width:"32",height:"32",viewBox:"0 0 32 32","aria-hidden":"true",class:"icon"},Sr=s("path",{d:"M30.94 15.66A16.69 16.69 0 0 0 16 5 16.69 16.69 0 0 0 1.06 15.66a1 1 0 0 0 0 .68A16.69 16.69 0 0 0 16 27a16.69 16.69 0 0 0 14.94-10.66 1 1 0 0 0 0-.68ZM16 25c-5.3 0-10.9-3.93-12.93-9C5.1 10.93 10.7 7 16 7s10.9 3.93 12.93 9C26.9 21.07 21.3 25 16 25Z"},null,-1),Pr=s("path",{d:"M16 10a6 6 0 1 0 6 6 6 6 0 0 0-6-6Zm0 10a4 4 0 1 1 4-4 4 4 0 0 1-4 4Z"},null,-1),xr=[Sr,Pr];function Hr(e,n){return l(),r("svg",Ar,xr)}const Ir=te(Cr,[["render",Hr]]),Er={},Br={focusable:"false",preserveAspectRatio:"xMidYMid meet",xmlns:"http://www.w3.org/2000/svg",width:"32",height:"32",viewBox:"0 0 32 32","aria-hidden":"true",class:"icon"},Vr=s("path",{d:"m5.24 22.51 1.43-1.42A14.06 14.06 0 0 1 3.07 16C5.1 10.93 10.7 7 16 7a12.38 12.38 0 0 1 4 .72l1.55-1.56A14.72 14.72 0 0 0 16 5 16.69 16.69 0 0 0 1.06 15.66a1 1 0 0 0 0 .68 16 16 0 0 0 4.18 6.17Z"},null,-1),Or=s("path",{d:"M12 15.73a4 4 0 0 1 3.7-3.7l1.81-1.82a6 6 0 0 0-7.33 7.33ZM30.94 15.66a16.4 16.4 0 0 0-5.74-7.44L30 3.41 28.59 2 2 28.59 3.41 30l5.1-5.1A15.29 15.29 0 0 0 16 27a16.69 16.69 0 0 0 14.94-10.66 1 1 0 0 0 0-.68ZM20 16a4 4 0 0 1-6 3.44L19.44 14a4 4 0 0 1 .56 2Zm-4 9a13.05 13.05 0 0 1-6-1.58l2.54-2.54a6 6 0 0 0 8.35-8.35l2.87-2.87A14.54 14.54 0 0 1 28.93 16C26.9 21.07 21.3 25 16 25Z"},null,-1),Fr=[Vr,Or];function Nr(e,n){return l(),r("svg",Br,Fr)}const Dr=te(Er,[["render",Nr]]),Mn=f(!1),Jn=f(null),Ur=f([]);let Qo=!1;async function gT(e){if(!Qo)try{Ur.value=await ee.value.functions.profileAwardsList(e),Qo=!0}catch{}}const zr=f([]);let Xo=!1;async function yT(e){if(!Xo)try{zr.value=await ee.value.functions.profileAuthorsList(e),Xo=!0}catch{}}function jt({props:e,emit:n,valueIn:t,valueOut:o,watchValue:a,isEmpty:i}){t||(t=k=>k),o||(o=k=>k),i||(i=T(()=>Array.isArray(u.value)&&u.value.length===0?!0:!u.value));const u=T(()=>t(_n(e.modelValue))),v=`${e.name}_${e.type}_${Math.floor(Math.random()*1e5)}`,y=T(()=>e.label+(e.tooltip?` <span class="hint--${e.tooltipPosition} hint--${e.tooltipSize}" aria-label="${e.tooltip}">(info)</span>`:"")+(e.required&&e.requiredLabel&&i.value?'<span class="form-required"> required</span>':"")+(e.errorMessage?` <span class="form-error-message">${e.errorMessage}</span>`:""));e.defaultValue!==""&&e.defaultValue!==void 0&&(e.modelValue===null||e.modelValue===void 0||e.modelValue==="")&&d(e.defaultValue);const d=k=>{n("update:modelValue",o(_n(k)))},p=k=>{d(k.target.value)},g=k=>{Mn.value=!1,n("blur",k.target)},m=k=>{Mn.value=!0};a&&U(u,a);const $=f(null);return e.focusOnMounted&&!ke&&$e(()=>{setTimeout(()=>{$.value&&$.value.focus()},200)}),{uniqueId:v,labelComputed:y,value:u,update:d,onInput:p,onBlur:g,onFocus:m,isEmpty:i,input:$}}const Un={inheritAttrs:!1,emits:Po(),props:xo()};function Po(){return["update:modelValue","blur"]}function xo(){return{classes:{type:String,default:""},modelValue:{type:null,required:!0},defaultValue:{type:null,default:""},type:{type:String,default:"text"},name:{type:String,default:""},label:{type:String,default:""},instructions:{type:String,default:""},tooltip:{type:String,default:""},tooltipPosition:{type:String,default:"top"},tooltipSize:{type:String,default:"medium"},required:Boolean,requiredLabel:{type:Boolean,default:!0},autocomplete:{type:String,default:""},disabled:Boolean,maxlength:{type:Number,default:null},prepend:{type:String,default:""},append:{type:String,default:""},placeholder:{type:String,default:""},errorField:{type:String,default:""},errorMessage:{type:String,default:""},focusOnMounted:Boolean,canHide:Boolean,hide:Boolean}}const jr=["for","innerHTML"],Rr=["innerHTML"],qr={class:"field-input-row"},Yr=["innerHTML"],Gr=["id","value","name","type","required","disabled","autocomplete","placeholder","maxlength"],Kr=["aria-label"],Zr={class:"icons"},He={__name:"TextField",props:{...xo(),useHidden:Boolean,hidden:Boolean},emits:Po().concat("update:hidden"),setup(e,{emit:n}){const t=e,o=n,{uniqueId:a,labelComputed:i,value:u,onInput:v,onBlur:y,onFocus:d,input:p}=jt({props:t,emit:o});function g(){o("update:hidden",!t.hidden)}return(m,$)=>(l(),r("div",{class:P(["field text-field",{active:!!m.modelValue,error:m.errorField&&m.errorField===m.name,"with-instructions":!!m.instructions,"can-hide":m.canHide,hide:m.hide}])},[c(i)?(l(),r("label",{key:0,for:c(a),innerHTML:c(i)},null,8,jr)):h("",!0),m.instructions?(l(),r("h6",{key:1,class:"instructions",innerHTML:m.instructions},null,8,Rr)):h("",!0),s("div",qr,[m.prepend?(l(),r("div",{key:0,class:"field-input-prepend",innerHTML:m.prepend},null,8,Yr)):h("",!0),Al(m.$slots,"prepend"),s("input",{id:c(a),ref_key:"input",ref:p,value:c(u),name:m.name,class:"field-input",type:m.type?m.type:"text",required:m.required,disabled:m.disabled?m.disabled:null,autocomplete:m.autocomplete?m.autocomplete:null,autocorrect:"off",spellcheck:"false",placeholder:m.placeholder,maxlength:m.maxlength||null,onInput:$[0]||($[0]=(...k)=>c(v)&&c(v)(...k)),onBlur:$[1]||($[1]=(...k)=>c(y)&&c(y)(...k)),onFocus:$[2]||($[2]=(...k)=>c(d)&&c(d)(...k))},null,40,Gr),e.useHidden?(l(),r("button",{key:1,class:"field-input-toggle hint--left hint--medium-large",type:"button","aria-label":e.hidden?"will be hidden on your page":"will be visible on your page",onClick:g},[s("div",Zr,[Q(b(Ir,null,null,512),[[ae,!e.hidden]]),Q(b(Dr,null,null,512),[[ae,e.hidden]])])],8,Kr)):h("",!0)])],2))}},Wr=["innerHTML"],Jr=["onClick","innerHTML"],Qr={__name:"Dropdown",props:{value:null,options:[Array,Object],instructions:String,filterByValue:null,watchInput:null},emits:["select"],setup(e,{expose:n,emit:t}){const o=e,a=t,i=f(!1),u=Math.floor(Math.random()*1e5);n({open:g,close:m,toggle:$,isOpen:i});const v=T(()=>{if(Array.isArray(o.options))return o.options.map(M=>({value:M,label:M,lookup:o.filterByValue?Kn(M).toLowerCase():null}));const _=[];for(const M in o.options)_.push({value:M,label:o.options[M],lookup:o.filterByValue?Kn(o.options[M]).toLowerCase():null});return _}),y=T(()=>{if(!o.filterByValue||v.value.find(A=>A.value===o.filterByValue))return v.value;const M=Kn(String(o.filterByValue).trim()).toLowerCase().split(" ");return M.length?v.value.filter(A=>{let w=!0;for(const L of M)A.lookup.includes(L)||(w=!1);return w}):v.value});function d(_){a("select",_),m()}let p;function g(_){Jn.value=u,p&&(clearTimeout(p),p=null),_&&_.stopPropagation(),i.value=!0}function m(){i.value=!1}function $(){i.value?m():g()}function k(){p&&(clearTimeout(p),p=null),p=setTimeout(m,1e3)}const S=U(Jn,()=>{Jn.value!==u&&m()});return document.body.addEventListener("click",m),$e(async()=>{await Be(),o.watchInput&&(o.watchInput.addEventListener("focus",g),o.watchInput.addEventListener("input",g),o.watchInput.addEventListener("click",g))}),Ct(()=>{S(),document.body.removeEventListener("click",m),o.watchInput&&(o.watchInput.removeEventListener("focus",g),o.watchInput.removeEventListener("input",g),o.watchInput.removeEventListener("click",g))}),(_,M)=>(l(),r("div",{class:P(["dropdown-list",{open:i.value&&y.value.length}]),onMouseenter:g,onMouseleave:k},[e.instructions?(l(),r("div",{key:0,class:"item instructions",innerHTML:e.instructions},null,8,Wr)):h("",!0),(l(!0),r(Y,null,J(y.value,A=>(l(),r("div",{key:A.value,class:P(["item",{selected:Array.isArray(e.value)?e.value.includes(A.value):e.value===A.value}]),onClick:N(()=>{d(A.value)},["stop","prevent"]),innerHTML:A.label},null,10,Jr))),128))],34))}},Xr=["for","innerHTML"],eu=["innerHTML"],tu={class:"tag"},nu={class:"name"},ou=["onClick"],su=["id","name"],Ds={__name:"TagsField",props:{...xo(),options:[Array,Object],optionsInstructions:String},emits:Po(),setup(e,{emit:n}){const t=e,o=n,{uniqueId:a,labelComputed:i,value:u,update:v,onInput:y,isEmpty:d,input:p}=jt({props:t,emit:o,valueIn(w){return Array.isArray(w)?w:[]},valueOut(w){return w.map(L=>String(L).trim()).filter(L=>!!L)}});function g(){v(u.value)}const m=f("");function $(){if(m.value){const w=u.value.slice();w.push(m.value),v(w),m.value=""}}function k(w){const L=u.value.slice();L.splice(w,1),v(L)}function S(){p.value.removeEventListener("keydown",M),$()}function _(){p.value.addEventListener("keydown",M)}function M(w){w.code==="Enter"&&(w.preventDefault(),$())}Ct(()=>{p.value.removeEventListener("keydown",M)});function A(w){const L=u.value.slice();L.push(w),v(L)}return(w,L)=>(l(),r("div",{class:P(["field tags-field",[w.classes,{active:!!w.modelValue,error:w.errorField&&w.errorField===w.name,"with-instructions":!!w.instructions,"can-hide":w.canHide,hide:w.hide}]])},[c(i)?(l(),r("label",{key:0,for:c(a),innerHTML:c(i)},null,8,Xr)):h("",!0),w.instructions?(l(),r("h6",{key:1,class:"instructions",innerHTML:w.instructions},null,8,eu)):h("",!0),b(c(In),{class:"tags",list:c(u),"item-key":"name",handle:".name","force-fallback":!0,"fallback-tolerance":2,onEnd:g},{item:se(({element:x,index:G})=>[s("div",tu,[s("div",nu,E(x),1),s("div",{class:"remove",onClick:N(ie=>k(G),["stop"])}," × ",8,ou)])]),footer:se(()=>[Q(s("input",{id:c(a),ref_key:"input",ref:p,"onUpdate:modelValue":L[0]||(L[0]=x=>m.value=x),name:w.name,class:"input",type:"text",autocomplete:"off",autocorrect:"off",spellcheck:"false",onBlur:S,onFocus:_},null,40,su),[[Hn,m.value]])]),_:1},8,["list"]),e.options?(l(),H(Qr,{key:2,options:e.options,instructions:e.optionsInstructions,"filter-by-value":m.value,"watch-input":c(p),value:c(u),onSelect:A},null,8,["options","instructions","filter-by-value","watch-input","value"])):h("",!0)],2))}},lu={mixins:[Un],props:{rows:{type:Number,default:1}},setup(e,{emit:n}){const t=jt({props:e,emit:n}),o=f(null);return $e(()=>{o.value&&(No(o.value),U(t.value,()=>{Be(()=>{No.update(o.value)})}))}),{textarea:o,...t}}},au=["for","innerHTML"],iu=["innerHTML"],ru=["id","value","name","rows","required","disabled"];function uu(e,n,t,o,a,i){return l(),r("div",{class:P(["field textarea-field",[e.classes,{active:!!e.modelValue,error:e.errorField&&e.errorField===e.name,"with-instructions":!!e.instructions}]])},[e.labelComputed?(l(),r("label",{key:0,for:e.uniqueId,innerHTML:e.labelComputed},null,8,au)):h("",!0),e.instructions?(l(),r("h6",{key:1,class:"instructions",innerHTML:e.instructions},null,8,iu)):h("",!0),s("textarea",{id:e.uniqueId,ref:"textarea",value:e.value,name:e.name,rows:t.rows,class:"field-input",required:e.required,disabled:e.disabled?e.disabled:null,onInput:n[0]||(n[0]=(...u)=>e.onInput&&e.onInput(...u)),onBlur:n[1]||(n[1]=(...u)=>e.onBlur&&e.onBlur(...u)),onFocus:n[2]||(n[2]=(...u)=>e.onFocus&&e.onFocus(...u))},null,40,ru)],2)}const Us=te(lu,[["render",uu]]),cu={mixins:[Un],props:{enabledLabel:{type:String,default:"On"},disabledLabel:{type:String,default:"Off"},noColor:Boolean},setup(e,{emit:n}){const t=jt({props:e,emit:n,valueIn:a=>!!a});return{...t,onChange:a=>{t.update(a.target.checked)}}}},du=["for","innerHTML"],vu=["innerHTML"],fu={class:"field-input-row"},pu=["innerHTML"],hu=["id","name","disabled","checked"],mu=["for","innerHTML"];function gu(e,n,t,o,a,i){return l(),r("div",{class:P(["field boolean-field",{active:!!e.modelValue,error:e.errorField&&e.errorField===e.name,"with-instructions":!!e.instructions}])},[e.labelComputed?(l(),r("label",{key:0,for:e.uniqueId,innerHTML:e.labelComputed},null,8,du)):h("",!0),e.instructions?(l(),r("h6",{key:1,class:"instructions",innerHTML:e.instructions},null,8,vu)):h("",!0),s("div",fu,[e.prepend?(l(),r("div",{key:0,class:"field-input-prepend",innerHTML:e.prepend},null,8,pu)):h("",!0),s("input",{id:e.uniqueId,name:e.name,class:P(["field-input",{"no-color":t.noColor}]),type:"checkbox",disabled:e.disabled?e.disabled:null,checked:e.value?"checked":null,onChange:n[0]||(n[0]=(...u)=>o.onChange&&o.onChange(...u)),onBlur:n[1]||(n[1]=(...u)=>e.onBlur&&e.onBlur(...u)),onFocus:n[2]||(n[2]=(...u)=>e.onFocus&&e.onFocus(...u))},null,42,hu),s("label",{for:e.uniqueId,innerHTML:e.value?t.enabledLabel:t.disabledLabel},null,8,mu)])],2)}const Tn=te(cu,[["render",gu]]),yu={components:{TextField:He,TagsField:Ds,TextAreaField:Us,BooleanField:Tn},props:{posterId:{type:String,required:!0}},emits:["created"],setup(e,{emit:n}){const t=f(""),o=f([]),a=f(""),i=f(!0),u=f(""),v=f(!1);U(t,()=>{u.value=""});const y=T(()=>!v.value&&t.value&&o.value&&o.value.length),d=T(()=>v.value?"wait...":t.value?!o.value||!o.value.length?"Choose a tag":"Create new Collection":"Fill name");return{name:t,tags:o,description:a,isPublic:i,buttonReady:y,buttonLabel:d,submit:async()=>{if(y.value){u.value="",v.value=!0;try{const g=await ee.value.functions.userCollectionsCreate({name:t.value,description:a.value,tags:o.value,posterId:e.posterId,isPublic:i.value});C.value.collections||(C.value.collections=[]),C.value.collections.unshift(g),n("created")}catch(g){u.value=Ue(g)}v.value=!1}},errorMessage:u,isLoading:v}}},_u=["disabled","innerHTML"],$u=["innerHTML"];function ku(e,n,t,o,a,i){const u=fe("TextField"),v=fe("TagsField"),y=fe("TextAreaField"),d=fe("BooleanField");return l(),r("form",{class:P(["add-to-collection-form",{loading:o.isLoading}]),autocomplete:"off",onSubmit:n[4]||(n[4]=N((...p)=>o.submit&&o.submit(...p),["prevent"]))},[b(u,{modelValue:o.name,"onUpdate:modelValue":n[0]||(n[0]=p=>o.name=p),label:"Collection Name",autocomplete:"off"},null,8,["modelValue"]),(l(),H(v,{key:t.posterId,modelValue:o.tags,"onUpdate:modelValue":n[1]||(n[1]=p=>o.tags=p),options:["inspiration","research","references for new job","just for fun"],label:"Tags","options-instructions":"tags below are suggestions, you can enter your own tags"},null,8,["modelValue"])),b(y,{modelValue:o.description,"onUpdate:modelValue":n[2]||(n[2]=p=>o.description=p),label:"Description"},null,8,["modelValue"]),b(d,{modelValue:o.isPublic,"onUpdate:modelValue":n[3]||(n[3]=p=>o.isPublic=p),label:"Public collection","enabled-label":"yes, make it public","disabled-label":"not yet, keep private"},null,8,["modelValue"]),s("button",{class:"add-to-collection-button",disabled:!o.buttonReady,innerHTML:o.buttonLabel},null,8,_u),o.errorMessage?(l(),r("small",{key:0,class:"color-error",innerHTML:o.errorMessage},null,8,$u)):h("",!0)],34)}const bu=te(yu,[["render",ku]]),wu={},Mu={focusable:"false",preserveAspectRatio:"xMidYMid meet",xmlns:"http://www.w3.org/2000/svg",width:"32",height:"32",viewBox:"0 0 32 32","aria-hidden":"true",class:"icon icon-remove"},Tu=s("polygon",{points:"24 9.4 22.6 8 16 14.6 9.4 8 8 9.4 14.6 16 8 22.6 9.4 24 16 17.4 22.6 24 24 22.6 17.4 16 24 9.4"},null,-1),Lu=s("title",null,"Remove from this Collection",-1),Cu=[Tu,Lu];function Au(e,n){return l(),r("svg",Mu,Cu)}const Su=te(wu,[["render",Au]]),Pu={},xu={focusable:"false",preserveAspectRatio:"xMidYMid meet",xmlns:"http://www.w3.org/2000/svg",width:"32",height:"32",viewBox:"0 0 32 32","aria-hidden":"true",class:"icon"},Hu=s("polygon",{points:"12,21.2 4.9,14.1 3.5,15.5 10.6,22.6 12,24 26.1,9.9 24.7,8.4"},null,-1),Iu=s("title",null,"Already in this Collection",-1),Eu=[Hu,Iu];function Bu(e,n){return l(),r("svg",xu,Eu)}const Vu=te(Pu,[["render",Bu]]),Ou={},Fu={focusable:"false",preserveAspectRatio:"xMidYMid meet",xmlns:"http://www.w3.org/2000/svg",width:"32",height:"32",viewBox:"0 0 32 32","aria-hidden":"true",class:"icon"},Nu=s("polygon",{points:"17,15 17,8 15,8 15,15 8,15 8,17 15,17 15,24 17,24 17,17 24,17 24,15 "},null,-1),Du=s("title",null,"Add to this Collection",-1),Uu=[Nu,Du];function zu(e,n){return l(),r("svg",Fu,Uu)}const ju=te(Ou,[["render",zu]]),Ru={},qu={focusable:"false",preserveAspectRatio:"xMidYMid meet",xmlns:"http://www.w3.org/2000/svg",width:"32",height:"32",viewBox:"0 0 32 32","aria-hidden":"true",class:"icon"},Yu=s("path",{d:"M10 6h4v4h-4zM18 6h4v4h-4zM10 14h4v4h-4zM18 14h4v4h-4zM10 22h4v4h-4zM18 22h4v4h-4z"},null,-1),Gu=s("title",null,"Drag to reorder",-1),Ku=[Yu,Gu];function Zu(e,n){return l(),r("svg",qu,Ku)}const Wu=te(Ru,[["render",Zu]]),Ho=f("top"),nt=f(null),zs=f(0),Io=f(!1),Rt=f(!1),js=f(null),Rs=f(null),{offset:Ju,neverOpened:Qu}=ln({isOpen:Rt,popup:js,button:Rs,offsetParent:!0,offsetParentPosition:Ho});async function es(e){if(Rs.value=c(e.button),Ho.value=e.position||"top",nt.value=e.posterId,zs.value=+e.posterPosition,await qe(),!X.value){Ve();return}Rt.value=!0,Io.value=!1}function Xu(){Rt.value=!1}const gn=f(!1),Ln=f(""),Mt=f([]),io=f(null),ec=T(()=>ze.currentRoute.value.name!=="my-collections"),tc=T(()=>Mt.value.length>1);function Eo(){if(Ln.value="",Rt.value)if(!C.value||!X.value)Mt.value=[];else{const e=Sl(C.value.collections);for(const n of e)n.hasPoster=n.posters.includes(nt.value),n.justAdded=!1;Mt.value=e}}U([Rt,nt],Eo);async function nc(e,n){if(gn.value)return;Ln.value="",gn.value=!0;let t=null;const o=C.value.collections.findIndex(i=>i.id===e),a=C.value.collections[o];try{let i;if(n){i=await ee.value.functions.userCollectionsPosterRemove(e,nt.value);const u=a.posters.indexOf(nt.value);u>=0&&a.posters.splice(u,1),rn.value++}else i=await ee.value.functions.userCollectionsPosterAdd(e,nt.value,st.value),er(e,nt.value,zs.value),a.posters.unshift(nt.value),t=e;if(i&&i.icon&&(a.res=i.icon),Eo(),t){const u=Mt.value.findIndex(v=>v.id===t);u!==-1&&(Mt.value[u].justAdded=!0)}}catch(i){Ln.value=Ue(i)}gn.value=!1}function oc(){var e;Io.value=!1,Eo(),(e=io.value)!=null&&e.$el&&Be(()=>{Me.to(io.value.$el,{duration:.42,scrollTo:{autoKill:!1,y:0}})})}const ro=f(!1);async function sc(){ro.value=!0;const e=[];for(const n of Mt.value)e.push(n.id);try{const n=await ee.value.functions.userCollectionsReorder(e)}catch{}ro.value=!1}const lc={components:{AddToCollectionForm:bu,CollectionsPopupRemoveIcon:Su,CollectionsPopupCheckIcon:Vu,CollectionsPopupAddIcon:ju,CollectionsPopupDragIcon:Wu,Draggable:In},setup(){return U(rn,Xu),{position:Ho,posterId:nt,showJoinUs:on,showLogin:Ve,isLoggedIn:X,canCollect:_o,canCreateNewCollections:Yl,popup:js,offset:Ju,isOpen:Rt,neverOpened:Qu,collections:Mt,pillScroll:io,canShowViewAll:ec,canDrag:tc,toggle:nc,isLoading:gn,errorMessage:Ln,newCollectionForm:Io,onCreatedNewCollection:oc,onDragEnd:sc,reorderSaving:ro,pictureTag:it}}},ac=["onClick","onMouseleave"],ic=["innerHTML"],rc={class:"name"},uc=s("span",{class:"name-poster-remove"},"× remove poster",-1),cc={class:"popup-arrow"},dc={key:0,class:"popup-drag"},vc=["innerHTML"],fc={key:2,class:"popup-warning active-links"},pc=s("small",null,"To save your favorite posters is an exclusive feature of our members",-1),hc={key:0,style:{"padding-top":"6px"}},mc={key:3,class:"popup-warning active-links padding-top-2"},gc=s("small",null,"To create new collections you need to have an active membership",-1),yc=s("button",{type:"button",class:"text-only padding-top-1-5 padding-bottom-1 small"}," View all → ",-1);function _c(e,n,t,o,a,i){const u=fe("CollectionsPopupAddIcon"),v=fe("CollectionsPopupRemoveIcon"),y=fe("CollectionsPopupCheckIcon"),d=fe("CollectionsPopupDragIcon"),p=fe("Draggable"),g=fe("router-link"),m=fe("AddToCollectionForm");return l(),r("div",{class:P(["add-to-collection-popup",{loading:o.isLoading}])},[s("div",{ref:"popup",class:P(["popup flex",[o.position,{open:o.isOpen,"never-opened":o.neverOpened}]]),style:we({"--offset":`${o.offset}px`})},[o.collections.length?Q((l(),H(p,{key:0,ref:"pillScroll",list:o.collections,"item-key":"id",class:P(["add-to-collection-list",{"can-drag":o.canDrag,loading:o.reorderSaving}]),handle:".popup-drag","force-fallback":!0,"fallback-tolerance":2,onEnd:o.onDragEnd},{item:se(({element:$})=>[s("button",{class:P(["popup-pill",{active:$.hasPoster,"just-added":$.justAdded}]),type:"button",onClick:N(k=>o.toggle($.id,$.hasPoster),["stop","prevent"]),onMouseleave:k=>$.justAdded=!1},[s("div",{class:"popup-icon",innerHTML:o.pictureTag($.icon,"icon")},null,8,ic),s("span",rc,E($.name),1),uc,s("div",cc,[Q(b(u,{class:"hover-icon"},null,512),[[ae,!$.hasPoster]]),Q(b(v,{class:"hover-icon"},null,512),[[ae,$.hasPoster]]),Q(b(y,{class:"active-icon"},null,512),[[ae,$.hasPoster]])]),o.canDrag?(l(),r("div",dc,[b(d,{class:"hover-icon"})])):h("",!0)],42,ac)]),_:1},8,["list","class","onEnd"])),[[ae,!o.newCollectionForm]]):h("",!0),o.errorMessage?(l(),r("small",{key:1,class:"color-error padding-top-1",innerHTML:o.errorMessage},null,8,vc)):h("",!0),o.canCollect?o.canCreateNewCollections?!o.newCollectionForm&&!o.collections.length?(l(),r("button",{key:4,class:"popup-pill no-icon",type:"button",onClick:n[3]||(n[3]=N($=>o.newCollectionForm=!0,["stop","prevent"]))}," Create new Collection ")):!o.newCollectionForm&&o.collections.length?(l(),r("button",{key:5,type:"button",class:P(["text-only padding-top-2 padding-bottom-1",{"padding-bottom-2":!o.canShowViewAll}]),onClick:n[4]||(n[4]=N($=>o.newCollectionForm=!0,["stop","prevent"]))}," New Collection + ",2)):h("",!0):(l(),r("div",mc,[gc,s("button",{class:"popup-pill no-icon blue",type:"button",onClick:n[2]||(n[2]=(...$)=>o.showJoinUs&&o.showJoinUs(...$))}," Learn more ")])):(l(),r("div",fc,[pc,s("button",{class:"popup-pill no-icon blue",type:"button",onClick:n[0]||(n[0]=(...$)=>o.showJoinUs&&o.showJoinUs(...$))}," Learn more "),o.isLoggedIn?h("",!0):(l(),r("small",hc,[D("Already a member, "),s("a",{href:"/login",onClick:n[1]||(n[1]=N((...$)=>o.showLogin&&o.showLogin(...$),["prevent"]))},"login here")]))])),!o.newCollectionForm&&o.collections.length&&o.canShowViewAll?(l(),H(g,{key:6,to:"/collections/my"},{default:se(()=>[yc]),_:1})):h("",!0),o.newCollectionForm?(l(),H(m,{key:7,"poster-id":o.posterId,onCreated:o.onCreatedNewCollection,onClick:n[5]||(n[5]=N(()=>{},["stop"]))},null,8,["poster-id","onCreated"])):h("",!0),o.newCollectionForm?(l(),r("button",{key:8,type:"button",class:"text-only padding-top-1 padding-bottom-1",style:{"font-size":"13px"},onClick:n[6]||(n[6]=N($=>o.newCollectionForm=!1,["stop","prevent"]))}," × cancel ")):h("",!0)],6)],2)}const $c=te(lc,[["render",_c]]),kc={type:"button",class:"tag no-spacing"},qs={__name:"AddToCollection",props:{posterId:String,posterPosition:Number,position:{type:String,default:"top"},pill:Boolean},setup(e){const n=e,t=f(null),o=T(()=>{var i;return!X.value||!((i=C.value)!=null&&i.collections)?!1:C.value.collections.findIndex(u=>u.posters.includes(n.posterId))!==-1});return(a,i)=>(l(),r("div",{class:P(["add-to-collection",{disabled:c(X)&&!c(C)}])},[e.pill?(l(),r("div",{key:1,ref_key:"button",ref:t,class:"toggle-collection-pill color-link",onClick:i[1]||(i[1]=N(u=>c(es)({button:t.value,position:e.position,posterId:e.posterId,posterPosition:e.posterPosition}),["stop","prevent"]))},[Q(s("div",null,[D(" Add to Collection "),b(Jo)],512),[[ae,!o.value]]),Q(s("button",kc," On your Collection ",512),[[ae,o.value]])],512)):(l(),r("div",{key:0,ref_key:"button",ref:t,class:"toggle-collection",onClick:i[0]||(i[0]=N(u=>c(es)({button:t.value,position:e.position,posterId:e.posterId,posterPosition:e.posterPosition}),["stop","prevent"]))},[Q(b(Jo,null,null,512),[[ae,!o.value]]),Q(b(Lr,null,null,512),[[ae,o.value]])],512))],2))}},bc={xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 32 32",class:"play-pause"},wc={key:0,d:"M12 6h-2a2 2 0 0 0-2 2v16a2 2 0 0 0 2 2h2a2 2 0 0 0 2-2V8a2 2 0 0 0-2-2ZM22 6h-2a2 2 0 0 0-2 2v16a2 2 0 0 0 2 2h2a2 2 0 0 0 2-2V8a2 2 0 0 0-2-2Z"},Mc={key:1,d:"M7 28a1 1 0 0 1-1-1V5a1 1 0 0 1 1.482-.876l20 11a1 1 0 0 1 0 1.752l-20 11A1 1 0 0 1 7 28Z"},nn={__name:"PlayPause",props:{pause:Boolean},setup(e){return(n,t)=>(l(),r("svg",bc,[e.pause?(l(),r("path",wc)):(l(),r("path",Mc))]))}},Tc={xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 32 32",class:"sound"},Lc={key:0,d:"M31 12.41 29.59 11 26 14.59 22.41 11 21 12.41 24.59 16 21 19.59 22.41 21 26 17.41 29.59 21 31 19.59 27.41 16 31 12.41zM18 30a1 1 0 0 1-.71-.3L9.67 22H3a1 1 0 0 1-1-1V11a1 1 0 0 1 1-1h6.67l7.62-7.7a1 1 0 0 1 1.41 0 1 1 0 0 1 .3.7v26a1 1 0 0 1-1 1Z"},Cc={key:1},Ac=s("path",{d:"m27.16 8.08-1.53 1.29a10 10 0 0 1-.29 13.23l1.47 1.4a12 12 0 0 0 .35-15.88Z"},null,-1),Sc=s("path",{d:"M21.58 12a6 6 0 0 1-.18 7.94l1.47 1.36a8 8 0 0 0 .23-10.59Z"},null,-1),Pc=s("path",{d:"M18 30a1 1 0 0 1-.71-.3L9.67 22H3a1 1 0 0 1-1-1V11a1 1 0 0 1 1-1h6.67l7.62-7.7a1 1 0 0 1 1.41 0 1 1 0 0 1 .3.7v26a1 1 0 0 1-1 1Z"},null,-1),xc=[Ac,Sc,Pc],Hc={__name:"Sound",props:{off:Boolean},setup(e){return(n,t)=>(l(),r("svg",Tc,[e.off?(l(),r("path",Lc)):(l(),r("g",Cc,xc))]))}},Ic=["innerHTML"],zn=Object.assign({inheritAttrs:!1},{__name:"PictureTag",props:{image:[Object,null],imageMobile:[Object,null],size:[String,Object,null],sizeMobile:[String,Object,null],lazy:Boolean,outline:Boolean,rounded:Boolean},setup(e){return(n,t)=>(l(),r("div",{class:P(["picture-tag",{outline:e.outline,rounded:e.rounded}]),innerHTML:c(it)(c(O).mobile&&e.imageMobile||e.image,c(O).mobile&&e.sizeMobile||e.size,e.lazy)},null,10,Ic))}}),Ec={class:"player-controls-toolbar"},Bc={class:"player-timer"},Vc=s("div",{class:"player-progress-bkg"},null,-1),Oc={__name:"PlayerControls",props:{media:null,title:String,description:String,initialDuration:Number,withFullscreen:Boolean,withRewind:Boolean,fullscreenTarget:null,autoHide:Boolean,image:null,noAudio:Boolean},emits:["enabled","ready","fullscreen"],setup(e,{expose:n,emit:t}){const o=e,a=t;n({play:ue,pause:F,enableSound:K});const i=ht(o,"media"),u=f(!1),v=Math.floor(Math.random()*1e5),y=f(!1),d=f(!1),p=f(0),g=f(0),m=f(!1),$=f(!1),k=f(!1),S=f(0),_=f(0),M=f(!1),A=f(!1),w=f(!1),L=f("00:00"),x=f(""),G=f(!1),ie=f(!1);U(ie,()=>{a("fullscreen",ie.value)}),o.initialDuration&&(L.value=new Date(1e3*Math.round(o.initialDuration)).toISOString().substring(14,19));function W(){g.value>=.1&&(L.value=new Date(1e3*Math.round(g.value)).toISOString().substring(14,19)),p.value&&(g.value===0&&!d.value&&(L.value=new Date(1e3*Math.round(p.value)).toISOString().substring(14,19)),S.value=g.value/p.value)}const z=T(()=>o.image?!!(!d.value&&(g.value<.1||p.value&&g.value>=p.value)):!1);function ue(){i.value&&(eo.value=v,i.value.play(),W(),Ge())}function F(){i.value&&(i.value.pause(),Ge())}async function B(oe){if(oe.stopPropagation(),!i.value){await me(),ue();return}i.value.paused||i.value.ended?ue():F()}function I(oe){!i.value||!i.value.seekable||(i.value.currentTime=p.value*oe,ue())}function V(oe){!i.value||!i.value.seekable||(i.value.currentTime+=oe,ue())}function R(){V(-10)}function K(){A.value=!0,i.value&&(i.value.muted=!1,M.value=!1)}function q(){i.value&&(M.value=!M.value,i.value.muted=M.value)}function pe(){Pt.fullscreenElement?Pt.exitFullscreen():Pt.requestFullscreen(o.fullscreenTarget||i.value)}async function me(){u.value||(u.value=!0,a("enabled"),await Be(),ne(),U(g,W),W())}function ne(){M.value=!!i.value.muted,i.value.addEventListener("play",oe=>{d.value=!oe.target.paused&&!oe.target.ended,W(),$.value=!0,A.value&&(A.value=!1,i.value.muted=!1,M.value=!1)}),i.value.addEventListener("pause",oe=>{d.value=!oe.target.paused&&!oe.target.ended,W()}),i.value.addEventListener("timeupdate",oe=>{g.value=oe.target.currentTime,k.value=!1}),i.value.addEventListener("durationchange",oe=>{p.value=oe.target.duration,W()}),i.value.addEventListener("canplaythrough",()=>{m.value=!0}),i.value.addEventListener("loadedmetadata",()=>{y.value=!0,a("ready"),Yt()}),i.value.addEventListener("loadeddata",()=>{Yt()}),i.value.addEventListener("ended",()=>{k.value=!0}),i.value.addEventListener("progress",function(){if(k.value||m.value){_.value=1;return}let oe=0;const ce=this.buffered,Ke=this.currentTime;try{for(;!(ce.start(oe)<=Ke&&Ke<=ce.end(oe));)oe+=1;const Ce=ce.start(oe)/this.duration,gt=ce.end(oe)/this.duration;_.value=gt-Ce}catch{}}),o.withFullscreen&&(G.value=Pt.fullscreenEnabled,G.value&&Pt.addEventListener("fullscreenchange",()=>{ie.value=(o.fullscreenTarget||i.value)===Pt.fullscreenElement}))}$e(()=>{i.value?me():U(i,me)}),U(eo,()=>{eo.value!==v&&F()});const Le=f(!1),le=f(0),ve=f(null);function he(){ke||(Le.value=!0)}function Te(){Le.value=!1}function Ye(oe){ke||(le.value=oe.offsetX/ve.value.offsetWidth,x.value=new Date(1e3*Math.round(p.value*le.value)).toISOString().substring(14,19))}function je(){I(le.value)}function At(oe){le.value=oe.layerX/ve.value.offsetWidth,I(le.value)}const rt=f(!1);let St=null;const cn=O.mobile?1e3:800;function Ge(){!o.autoHide||!$.value||(St&&clearTimeout(St),rt.value=!1,St=setTimeout(()=>{rt.value=!k.value,z.value&&(rt.value=!1),!d.value&&O.mobile&&(rt.value=!1)},cn))}U($,Ge),U(k,Ge);function Yt(){var oe;w.value=!o.noAudio&&i.value&&(i.value.mozHasAudio||!!i.value.webkitAudioDecodedByteCount||!!((oe=i.value.audioTracks)!=null&&oe.length))}const _e=f(null);return $e(()=>{ke||_e.value.addEventListener("click",B)}),(oe,ce)=>(l(),r("div",{ref_key:"el",ref:_e,class:P(["player-controls",{hide:!y.value||rt.value}]),onMouseenter:Ge,onMousemove:Ge,onMouseleave:Ge,onTouchstart:Ge,onTouchend:Ge},[e.image?(l(),r("div",{key:0,class:P(["player-cover",{active:z.value}]),onClick:N(B,["stop"])},[b(zn,{image:e.image,size:"large"},null,8,["image"])],2)):h("",!0),s("div",Ec,[s("button",{type:"button",class:"player-button",onClick:N(B,["stop"])},[b(nn,{pause:d.value},null,8,["pause"])]),w.value?(l(),r("button",{key:0,type:"button",class:"player-button",onClick:N(q,["stop"])},[b(Hc,{off:M.value},null,8,["off"])])):h("",!0),s("div",Bc,E(L.value),1),s("div",{ref_key:"progressTrack",ref:ve,class:P(["player-progress",{active:u.value}]),onMouseenter:he,onMousemove:Ye,onMouseleave:Te,onTouchend:At,onClick:N(je,["stop"])},[Vc,s("div",{class:"player-progress-loaded",style:we({width:`${_.value*100}%`})},null,4),s("div",{class:"player-progress-bar",style:we({width:`${S.value*100}%`})},null,4),s("div",{class:"player-progress-pin",style:we({left:`${le.value*100}%`,opacity:+Le.value})},[s("div",{class:P(["player-pin-timer",{right:le.value>.84}])},E(x.value),3)],4)],34),e.withRewind?(l(),r("button",{key:1,type:"button",onClick:N(R,["stop"])}," rewind ")):h("",!0),e.withFullscreen&&G.value?(l(),r("button",{key:2,type:"button",onClick:N(pe,["stop"])}," fullscreen ")):h("",!0)])],34))}},Fc=["innerHTML"],Nc=["muted","loop","autoplay","width","height","poster"],Dc=["src"],Uc=["src"],jn=Object.assign({inheritAttrs:!1},{__name:"VideoPlayer",props:{type:String,loop:Boolean,autoplay:Boolean,controls:Boolean,mute:Boolean,video:[String,Boolean],videoMobile:[String,Boolean],videoHevc:[String,Boolean],videoHevcMobile:[String,Boolean],width:Number,height:Number,forcePreload:Boolean,oembed:[String,Boolean],ratioW:Number,ratioH:Number,image:null,poster:String,outline:Boolean},setup(e,{expose:n}){const t=e,o=f(null);n({playerControls:o});const a=f(null),i=T(()=>{let v=O.mobile&&t.videoMobile?t.videoMobile:t.video;return t.forcePreload&&(v+="#t=0.001"),v}),u=T(()=>{let v=O.mobile&&t.videoHevcMobile?t.videoHevcMobile:t.videoHevc;return t.forcePreload&&(v+="#t=0.001"),v});return(v,y)=>e.type==="oembed"?(l(),r("div",{key:0,class:"video-iframe",style:we({"--rw":e.ratioW||16,"--rh":e.ratioH||9}),innerHTML:e.oembed},null,12,Fc)):(l(),r("div",{key:1,class:P(["video-player",{outline:e.outline}]),style:we({aspectRatio:e.width&&e.height?`auto ${e.width} / ${e.height}`:null})},[s("video",{ref_key:"media",ref:a,playsinline:"",muted:e.autoplay||e.mute,loop:e.loop,autoplay:e.autoplay,class:"video",oncontextmenu:"return false;",width:e.width||null,height:e.height||null,poster:e.poster||null},[u.value?(l(),r("source",{key:0,src:u.value,type:"video/mp4; codecs=hvc1"},null,8,Dc)):h("",!0),s("source",{src:i.value},null,8,Uc)],8,Nc),e.controls?(l(),H(Oc,{key:0,ref_key:"playerControls",ref:o,media:a.value,"auto-hide":!0,image:e.image,"no-audio":e.mute},null,8,["media","image","no-audio"])):h("",!0)],6))}}),zc={key:0,class:"processing-message"},jc=s("br",null,null,-1),Rc=["src","width","height"],Ht={__name:"AnimatedPoster",props:{path:String,imagePath:String,width:null,height:null,size:{type:String,default:"animated-poster"},controls:Boolean,checkExists:Boolean,useImg:Boolean,autoplay:{type:Boolean,default:!0},play:Boolean},setup(e,{expose:n}){const t=e,o=f(null);n({videoPlayer:o});const a=f(!1),i=T(()=>{let p=t.path;return p?(p=`${p.substring(0,p.lastIndexOf("."))}.mp4`,`https://videos.typographicposters.com/${t.size}${p}`):""}),u=T(()=>{if(!t.imagePath)return"";if(t.imagePath.startsWith("http"))return t.imagePath;let p="search-large";return O.mobile?p="search-mobile-2x":O.md&&(p="search"),lt(t.imagePath,p)}),v=ht(t,"play");U(v,p=>{var g;(g=o.value)!=null&&g.playerControls&&(p?o.value.playerControls.play():o.value.playerControls.pause())}),$e(()=>{t.play&&o.value.playerControls.play()});let y=null;async function d(){try{await Ee(i.value,{method:"HEAD"}),clearInterval(y),y=null,a.value=!0}catch{}}return mt(async()=>{t.checkExists?(d(),y=setInterval(d,5e3)):a.value=!0}),(p,g)=>(l(),r("div",{class:P(["animated-poster",{processing:!a.value}])},[a.value?e.useImg?(l(),r("img",{key:1,src:i.value,width:e.width||0,height:e.height||0},null,8,Rc)):(l(),H(jn,{key:2,ref_key:"videoPlayer",ref:o,video:i.value,width:e.width||0,height:e.height||0,controls:e.controls,autoplay:e.autoplay,loop:!0,poster:u.value},null,8,["video","width","height","controls","autoplay","poster"])):(l(),r("small",zc,[D(" processing video..."),jc,D(" you can safely close this tab or the browser ")]))],2))}},qc={},Yc={focusable:"false",preserveAspectRatio:"xMidYMid meet",xmlns:"http://www.w3.org/2000/svg",width:"32",height:"32",viewBox:"0 0 32 32","aria-hidden":"true",class:"icon external-link-icon"},Gc=s("path",{d:"M26 28H6a2.003 2.003 0 0 1-2-2V6a2.003 2.003 0 0 1 2-2h10v2H6v20h20V16h2v10a2.003 2.003 0 0 1-2 2Z"},null,-1),Kc=s("path",{d:"M20 2v2h6.586L18 12.586 19.414 14 28 5.414V12h2V2H20z"},null,-1),Zc=[Gc,Kc];function Wc(e,n){return l(),r("svg",Yc,Zc)}const uo=te(qc,[["render",Wc]]),Jc={class:"title"},Qc={key:0,class:"slash"},Xc={key:1},ed=["href"],td={key:4},ts={__name:"PosterItemAuthors",props:{authors:Array,position:null,forPages:Boolean},setup(e){return(n,t)=>{const o=fe("router-link");return l(),r("h2",Jc,[s("strong",null,[(l(!0),r(Y,null,J(e.authors,(a,i)=>(l(),r("span",{key:a.name+i},[e.forPages?(l(),r("span",Qc," / ")):i?(l(),r("span",Xc,E(i===e.authors.length-1?" & ":", "),1)):h("",!0),a.id?(l(),H(o,{key:2,to:`/${a.id}`,onClick:u=>c(ao)(a.id,e.position),onMouseenter:u=>c(Se)({name:"profile",id:a.id})},{default:se(()=>[D(E(a.name),1)]),_:2},1032,["to","onClick","onMouseenter"])):a.url?(l(),r("a",{key:3,href:a.url,rel:"noopener",target:"_blank",class:"external-link"},[D(E(a.name),1),b(uo)],8,ed)):(l(),r("span",td,E(a.name),1))]))),128))])])}}},nd=["href"],od={key:1},sd={key:0,class:"play-icon"},ld=["innerHTML"],ad=["href"],id={key:1},rd={key:0,class:"play-icon"},ud=["innerHTML"],cd={key:2,class:"poster-item-info"},dd={key:0,class:"common-links"},vd=["innerHTML"],fd={key:3,class:"caption lining-numbers"},pd={key:1,class:"icons"},yn={__name:"PosterItem",props:{poster:Object,forProfile:Boolean,routeTo:String,dontTrack:Boolean,fromCollectionId:String,size:String,noAnimated:Boolean,noInfo:Boolean,noIcons:Boolean,fadeLike:Boolean,bkgGrayColor:{type:Number,default:245},layout:String,forceAnimated:Boolean},emits:["clickPoster"],setup(e,{emit:n}){var G,ie,W,z,ue,F,B,I,V,R,K;const t=e,o=n;let a=[];t.layout==="photos"?a=t.poster.gallery||[]:(G=t.poster.series)!=null&&G.length&&(a=[].concat([{animated:t.poster.animated,...t.poster.image}],t.poster.series)),a.length&&(a=a.filter(q=>!q.type||q.type!=="video"));const i=f(t.layout==="photos"?"1 / 1":(W=(ie=t.poster)==null?void 0:ie.image)!=null&&W.width&&((ue=(z=t.poster)==null?void 0:z.image)!=null&&ue.height)?`${t.poster.image.width} / ${t.poster.image.height}`:"210 / 297"),u=f(null);function v(){let q=0,pe=0;ko(u,()=>{if(u.value){q=u.value.offsetWidth;for(const me of u.value.children){const ne=me.offsetTop+me.offsetHeight;ne>pe&&(pe=ne),i.value=`${q} / ${pe}`}}})}(t.layout==="photos"||a.length>1)&&$e(async()=>{await Be(),v()});const y=T(()=>{let q="search";return O.mobile?q="search-mobile":O.xxl||O.xxxl?t.size==="large"?q="poster":t.size==="medium"?q="search-large":q="search":t.size==="large"?q="search-large":q="search",q}),d=T(()=>{if(!a.length)return 0;if(O.mobile)return 10;const q=t.forProfile?"sizeProfiles":"size";return ye.value[q]==="large"?30:ye.value[q]==="medium"?24:16});U(d,v);const p=t.routeTo||Vn(t.poster),g=!((F=t.poster)!=null&&F.profileCategory)||((B=t.poster)==null?void 0:B.profileCategory)==="designer"||((I=t.poster)==null?void 0:I.profileCategory)==="studio";let m="";t.forProfile&&["kieler-woche","ame"].includes(t.poster.profileId)||(t.forProfile&&["neubad"].includes(t.poster.profileId)?t.poster.articleNumber&&(m=`article #${t.poster.articleNumber}`):m=xa(t.poster,t.forProfile&&g));const $=[],k=[],S=[];if((V=t.poster.authors)!=null&&V.length)for(const q of t.poster.authors)q!=null&&q.name&&S.push({name:q.name,id:q.id,url:hn(q)});if(t.forProfile)S.length&&!g&&$.push(...S);else if(g||!S.length?$.push({name:t.poster.profileName,id:t.poster.profileId}):k.push({name:t.poster.profileName,id:t.poster.profileId}),S.length&&$.push(...S),(R=t.poster.crosslinkTo)!=null&&R.length)for(const q of t.poster.crosslinkTo)["designer","studio","exhibition"].includes(q.profileCategory)||k.push(q);k.length&&k.sort((q,pe)=>q.profileCategory==="competition"?0:-1);let _;t.poster.profileId==="kieler-woche"?_=bn(t.poster,!0):(_=bn(t.poster),((K=t.poster.series)!=null&&K.length||t.poster.isExpanded)&&(_=bo(_,"series",": ")));function M(q){if(t.dontTrack||Xi(t.poster.id,t.poster.position,t.forProfile?t.poster.profileId:null,t.fromCollectionId),q.metaKey&&(q.shiftKey||q.altKey)&&(Pe.value||ks(t.poster.profileId))){window.open(`/author-area/${t.poster.profileId}/posters?id=${t.poster.id}`,"_blank").focus(),q.preventDefault();return}if(t.routeTo){q.preventDefault(),ze.push(t.routeTo);return}Ot(q)&&o("clickPoster")}const A=T(()=>{var pe,me;return!t.fadeLike||!X.value||!((me=(pe=C.value)==null?void 0:pe.likes)!=null&&me.posters)?!1:C.value.likes.posters.indexOf(t.poster.crosslinkFrom||t.poster.id)!==-1}),w=T(()=>{var q,pe;return!((q=t.poster.image)!=null&&q.width)||!((pe=t.poster.image)!=null&&pe.height)?!1:t.poster.image.width/t.poster.image.height<.6}),L=T(()=>t.poster.edgeColor===void 0?!1:t.poster.edgeColor>t.bkgGrayColor-40&&t.poster.edgeColor<t.bkgGrayColor+40),x=T(()=>t.forceAnimated?!0:ye.value.animated==="always"&&!t.noAnimated&&!O.mobile);return(q,pe)=>{var me,ne,Le;return l(),r("article",{class:P(["poster-item",{"no-info":e.noInfo&&e.noIcons,"fade-like":e.fadeLike&&!A.value,tall:w.value}])},[c(a).length&&!e.poster.skipSeries?(l(),r("a",{key:0,ref_key:"deck",ref:u,href:c(p),class:P(["poster-item-link with-deck",{"with-outline":L.value}]),style:we({"--offset":`${d.value}px`,"--deck-count":c(a).length>=4?4:c(a).length,"aspect-ratio":i.value}),onClick:M},[(l(!0),r(Y,null,J(c(a).slice(0,4),(le,ve)=>{var he,Te,Ye;return l(),r("div",{key:le.path||le.id,class:"poster-deckitem",style:we({"--i":ve})},[(he=le.animated)!=null&&he.path&&x.value?(l(),H(Ht,{key:0,"image-path":(Te=le.image)==null?void 0:Te.path,path:le.animated.path,width:le.animated.width,height:le.animated.height},null,8,["image-path","path","width","height"])):(l(),r("div",od,[(Ye=le.animated)!=null&&Ye.path||ve===0&&e.poster.withVideos?(l(),r("div",sd,[b(nn)])):h("",!0),s("picture",{innerHTML:c(Ft)(le,y.value)},null,8,ld)]))],4)}),128))],14,nd)):(l(),r("a",{key:1,href:c(p),class:P(["poster-item-link",{"with-outline":L.value}]),onClick:M},[(me=e.poster.animated)!=null&&me.path&&x.value?(l(),H(Ht,{key:0,"image-path":(ne=e.poster.image)==null?void 0:ne.path,path:e.poster.animated.path,width:e.poster.animated.width,height:e.poster.animated.height},null,8,["image-path","path","width","height"])):(l(),r("div",id,[(Le=e.poster.animated)!=null&&Le.path||e.poster.withVideos?(l(),r("div",rd,[b(nn)])):h("",!0),s("picture",{innerHTML:c(We)(e.poster,y.value)},null,8,ud)]))],10,ad)),!e.noInfo||!e.noIcons?(l(),r("div",cd,[e.noInfo?h("",!0):(l(),r("span",dd,[$.length&&(!e.forProfile||e.poster.profileId!=="ame")?(l(),H(ts,{key:0,authors:$,"poster-position":e.poster.position},null,8,["poster-position"])):h("",!0),k.length?(l(),H(ts,{key:1,authors:k,"poster-position":e.poster.position,"for-pages":!0},null,8,["poster-position"])):h("",!0),c(_)?(l(),r("h1",{key:2,class:"title",innerHTML:c(_)},null,8,vd)):h("",!0),c(m)?(l(),r("small",fd,E(c(m)),1)):h("",!0)])),e.noIcons?h("",!0):(l(),r("div",pd,[b(an,{id:e.poster.crosslinkFrom||e.poster.id,target:"posters","poster-position":e.poster.position},null,8,["id","poster-position"]),b(qs,{"poster-id":e.poster.crosslinkFrom||e.poster.id,"poster-position":e.poster.position},null,8,["poster-id","poster-position"]),(l(),H(pt,{key:e.poster.id,intent:"poster",item:e.poster,"icon-only":!0},null,8,["item"]))]))])):h("",!0)],2)}}},hd=["title","innerHTML"],Ze={__name:"ProfileIcon",props:{name:String,title:String,imagePath:String,noLetters:Boolean,classes:null},setup(e){const n=e,t=T(()=>n.imagePath&&n.imagePath!=="undefined"?it(n.imagePath,"icon"):n.noLetters?"":`<div class="profile-icon-letters">${ta(n.name||n.title)}</div>`);return(o,a)=>(l(),r("div",{class:P(["profile-icon",e.classes]),title:e.title||null,innerHTML:t.value},null,10,hd))}},md=["title"],gd={class:"no-spacing"},yd=s("p",{class:"no-spacing"}," login ",-1),Dt={__name:"UserPill",props:{name:String,title:String,profilePicture:String,useCurrent:Boolean,forSideMenu:Boolean,small:Boolean,noPill:Boolean,link:String},setup(e){const n=e,t=T(()=>!!n.useCurrent&&!!ee.value);function o(u){if(n.link){u.stopPropagation(),u.preventDefault(),ze.push(n.link);return}t.value&&Cw()}const a=T(()=>t.value?C.value&&C.value.firstName?`${C.value.firstName} ${C.value.lastName||""}`:"":n.name?n.name:""),i=T(()=>t.value?C.value?C.value.profilePicture:"":n.profilePicture?n.profilePicture:"");return(u,v)=>t.value||a.value||i.value?(l(),r("div",{key:0,class:P(["user-pill",{"with-link":t.value||e.link,"for-side-menu":e.forSideMenu,small:e.small,"no-pill":e.noPill}]),title:e.title||null,onClick:o},[b(Ze,{name:a.value,"image-path":i.value,classes:{small:e.small}},null,8,["name","image-path","classes"]),s("p",gd,E(e.forSideMenu?"account":a.value),1)],10,md)):e.forSideMenu?(l(),r("div",{key:1,class:"user-pill with-link for-side-menu",onClick:v[0]||(v[0]=(...y)=>c(Ve)&&c(Ve)(...y))},[b(Ze,{"image-path":"_assets/icon-circle.png"}),yd])):h("",!0)}},_d={class:"module-collection white-theme"},$d={class:"collection-info"},kd={class:"collection-info-heading"},bd={class:"collection-titles"},wd={key:0,class:"collection-heading"},Md={class:"big"},Td={class:"collection-description"},Ld=["innerHTML"],Cd=s("div",{class:"collection-arrow"},[s("span",{class:"arrow-text show"},"→")],-1),Ad={class:"collection-info-footer"},Sd={key:0},Pd={class:"collection-footer-links"},xd={class:"container padding-top-1"},Hd={class:"row"},Id={__name:"ModuleCollection",props:{collection:Object},setup(e){return(n,t)=>{const o=fe("router-link");return l(),r("div",_d,[b(o,{to:c(ft)(e.collection),class:"collection-header active",onMouseenter:t[0]||(t[0]=a=>c(Se)({name:"collection",id:e.collection.id}))},{default:se(()=>[s("div",$d,[s("div",kd,[s("div",bd,[e.collection.heading||Array.isArray(e.collection.tags)?(l(),r("p",wd,E(e.collection.heading?e.collection.heading:e.collection.tags.join(", ")),1)):h("",!0),s("h1",Md,E(e.collection.name),1)]),s("div",Td,[e.collection.description?(l(),r("p",{key:0,innerHTML:c(at)(e.collection.description)},null,8,Ld)):h("",!0),b(Dt,{name:e.collection.userName,"profile-picture":e.collection.userProfilePicture,link:e.collection.userLink,small:!0,"no-pill":!0},null,8,["name","profile-picture","link"])]),Cd]),s("div",Ad,[e.collection.postersCount?(l(),r("small",Sd,E(e.collection.postersCount)+" "+E(e.collection.postersCount>1?"posters":"poster"),1)):h("",!0),s("div",Pd,[b(an,{id:e.collection.id,target:"collections","text-and-icon":!0},null,8,["id"]),b(pt,{intent:"collection",position:"bottom",item:e.collection},null,8,["item"])])])])]),_:1},8,["to"]),s("div",xd,[s("div",Hd,[(l(!0),r(Y,null,J(e.collection.posters,a=>(l(),H(yn,{key:a.id,size:"small","route-to":c(ft)(e.collection),poster:a,class:"col-6 col-md-2","no-animated":!0},null,8,["route-to","poster"]))),128))])])])}}},Ed={class:"module-profiles gray-theme container"},Bd={class:"row"},Vd={class:"col-12 padding-top-1-5"},Od={class:"highlight tight side-title-home"},Fd={class:"col-12 padding-top-2"},Nd={class:"row module-profiles-row"},Dd={class:"col-12 col-lg-4"},Ud={class:"module-profiles-name"},zd={class:"big"},jd={key:0},Rd=s("span",{class:"arrow-text"},"→",-1),qd={class:"col-12 col-lg-8"},Yd={class:"module-profiles-posters"},Gd=["innerHTML"],Kd={__name:"ModuleProfiles",props:{profiles:Array,title:String},setup(e){const n=e,t=n.title||`new profile${n.profiles.length>1?"s":""}`;return(o,a)=>{const i=fe("router-link");return l(),r("div",Ed,[s("div",Bd,[s("div",Vd,[s("h1",Od,E(c(t)),1)]),s("div",Fd,[(l(!0),r(Y,null,J(e.profiles,u=>(l(),H(i,{key:u.id,to:c(Bn)(u),class:"module-profiles-link",onMouseenter:v=>c(Se)({name:"profile",id:u.id})},{default:se(()=>[s("div",Nd,[s("div",Dd,[s("div",Ud,[s("div",null,[s("h1",zd,E(u.name),1),u.category!=="competition"?(l(),r("h6",jd,E(u.country),1)):h("",!0)]),s("div",null,[Rd,b(Ze,{classes:"large",name:u.name,"image-path":u.profilePicture},null,8,["name","image-path"])])])]),s("div",qd,[s("div",Yd,[(l(!0),r(Y,null,J(c(O).mobile?u.posters.slice(0,6):u.posters,(v,y)=>(l(),r("picture",{key:y,innerHTML:c(We)(v,"search-mobile")},null,8,Gd))),128))])])])]),_:2},1032,["to","onMouseenter"]))),128))])])])}}},Zd={},Wd={focusable:"false",preserveAspectRatio:"xMidYMid meet",xmlns:"http://www.w3.org/2000/svg",width:"32",height:"32",viewBox:"0 0 32 32","aria-hidden":"true",class:"icon collections-icon"},Jd=s("polygon",{points:"26,20 24,20 24,24 20,24 20,26 24,26 24,30 26,30 26,26 30,26 30,24 26,24"},null,-1),Qd=s("path",{d:"M28,8H16l-3.4-3.4C12.2,4.2,11.7,4,11.2,4H4C2.9,4,2,4.9,2,6v20c0,1.1,0.9,2,2,2h14v-2H4V6h7.2l3.4,3.4l0.6,0.6H28v8h2v-8	C30,8.9,29.1,8,28,8z"},null,-1),Xd=s("title",null,"Collections",-1),ev=[Jd,Qd,Xd];function tv(e,n){return l(),r("svg",Wd,ev)}const Rn=te(Zd,[["render",tv]]),nv={class:"module-posters-feature color-links large"},ov={class:"posters"},sv=["innerHTML"],lv={key:0,class:"container"},av={class:"row"},iv=s("div",{class:"col-12 col-lg-4"},null,-1),rv={class:"col-12 col-lg-8 texts"},uv=s("div",null,null,-1),cv={class:"follow-combo"},dv={href:"https://www.instagram.com/typographicposters",target:"_blank",rel:"noopener"},vv={href:"https://twitter.com/tgposters",target:"_blank",rel:"noopener"},fv={__name:"ModulePostersFeature",props:{posters:Array,text:String},setup(e){const n=e,t=T(()=>O.mobile?n.posters.slice(0,60):n.posters);function o(a){X.value||(a.preventDefault(),a.stopPropagation(),Ve(),bt.value=()=>{ze.push("archive")})}return(a,i)=>{const u=fe("router-link");return l(),r("div",nv,[b(u,{to:"/archive",class:"posters-wrap",onMouseenter:i[0]||(i[0]=v=>c(Se)("archive"))},{default:se(()=>[s("div",ov,[(l(!0),r(Y,null,J(t.value,(v,y)=>(l(),r("picture",{key:y,class:"poster",innerHTML:c(We)(v,{default:"thumb",md:"thumb"},!0,!0)},null,8,sv))),128))])]),_:1}),b(u,{to:"/archive"},{default:se(()=>[s("button",{type:"button",class:"large-pill blue with-icon right",onClick:o},[D(" start your own collections "),b(Rn)])]),_:1}),(l(),r("div",lv,[s("div",av,[iv,s("div",rv,[uv,s("div",cv,[D(" follow us on "),s("a",dv,[b(To,{title:"instagram"})]),D(" and "),s("a",vv,[b(Lo,{title:"twitter"})])])])])]))])}}},pv={class:"module-profiles gray-theme container"},hv={class:"row"},mv={class:"col-12 padding-top-1-5"},gv=["innerHTML"],yv={key:0,class:"col-12 padding-top-2"},_v={class:"row module-profiles-row"},$v={class:"col-12 col-lg-4"},kv={class:"module-profiles-name"},bv=["innerHTML"],wv=["innerHTML"],Mv=s("span",{class:"arrow-text"},"→",-1),Tv={class:"col-12 col-lg-8"},Lv={class:"module-profiles-posters"},Cv=["innerHTML"],Av={__name:"ModuleFeaturedAuthors",props:{profiles:[Array,Object],title:String},setup(e){return(n,t)=>{var a;const o=fe("router-link");return l(),r("div",pv,[s("div",hv,[s("div",mv,[e.title?(l(),r("h1",{key:0,class:"highlight tight side-title-home",innerHTML:e.title},null,8,gv)):h("",!0)]),(a=e.profiles)!=null&&a.length?(l(),r("div",yv,[(l(!0),r(Y,null,J(e.profiles,i=>(l(),H(o,{key:i.id,to:c(Bn)(i),class:"module-profiles-link",onMouseenter:u=>c(Se)({name:"profile",id:i.id})},{default:se(()=>[s("div",_v,[s("div",$v,[s("div",kv,[s("div",null,[s("h1",{class:"big",innerHTML:i.name},null,8,bv),s("h6",{innerHTML:c(Ps)(i)},null,8,wv)]),s("div",null,[Mv,b(Ze,{classes:"large",name:i.name,"image-path":i.profilePicture},null,8,["name","image-path"])])])]),s("div",Tv,[s("div",Lv,[(l(!0),r(Y,null,J(c(O).mobile?i.images.slice(0,6):i.images,(u,v)=>(l(),r("picture",{key:v,innerHTML:c(We)(u,"search-mobile")},null,8,Cv))),128))])])])]),_:2},1032,["to","onMouseenter"]))),128))])):h("",!0)])])}}},Sv={props:{messages:{type:Array,default:()=>[]}}},Pv={class:"white-theme w-imgs margin-bottom-4"},xv={class:"container"},Hv=["href"],Iv={class:"message-item"},Ev=["innerHTML"],Bv={class:"col-12 col-md-6"},Vv=["innerHTML"],Ov=["innerHTML"];function Fv(e,n,t,o,a,i){return l(),r("div",Pv,[s("div",xv,[s("div",{class:P(["row messages-row",{tight:t.messages.length===4}])},[(l(!0),r(Y,null,J(t.messages,u=>(l(),r("div",{key:u.id,class:P(["col-12 col-lg-6 margin-bottom-3",{"col-xxl-6":t.messages.length===4,"col-xxl-4":t.messages.length!==4}])},[s("a",{href:u.url,rel:"noopener",target:"_blank"},[s("div",Iv,[u.image?(l(),r("div",{key:0,class:"col-12 col-md-6",innerHTML:u.image.imageTag},null,8,Ev)):h("",!0),s("div",Bv,[s("h1",{class:"padding-bottom-2",innerHTML:u.title},null,8,Vv),s("div",{class:"content-style padding-bottom-1",innerHTML:u.content},null,8,Ov)])])],8,Hv)],2))),128))],2)])])}const Nv=te(Sv,[["render",Fv]]),Dv="AS",Uv="EU",zv="AF",jv="EU",Rv="EU",qv="NA",Yv="OC",Gv="NA",Kv="NA",Zv="AS",Wv="SA",Jv="AS",Qv="AF",Xv="AF",ef="AS",tf="NA",nf="AN",of="AF",sf="OC",lf="NA",af="SA",rf="NA",uf="EU",cf="EU",df="NA",vf="EU",ff="AF",pf="EU",hf="OC",mf="AF",gf="AS",yf="AS",_f="EU",$f="OC",kf="AF",bf="OC",wf="NA",Mf="AN",Tf="EU",Lf="AF",Cf="NA",Af="AS",Sf="SA",Pf="EU",xf="SA",Hf="AS",If="NA",Ef="EU",Bf="AF",Vf="NA",Of="AF",Ff="AF",Nf="NA",Df="EU",Uf="AF",zf="AS",jf="AF",Rf="AS",qf="EU",Yf="NA",Gf="EU",Kf="AS",Zf="NA",Wf="AN",Jf="SA",Qf="NA",Xf="AS",ep="OC",tp="EU",np="EU",op="SA",sp="AS",lp="NA",ap="OC",ip="OC",rp="SA",up="AS",cp="AS",dp="OC",vp="EU",fp="NA",pp="AF",hp="AF",mp="EU",gp="AF",yp="AF",_p="SA",$p="EU",kp="AS",bp="OC",wp="AF",Mp="AF",Tp="AF",Lp="AS",Cp="EU",Ap="AF",Sp="EU",Pp="EU",xp="AF",Hp="NA",Ip="AF",Ep="EU",Bp="AS",Vp="AS",Op="AF",Fp="AS",Np="AS",Dp="OC",Up="EU",zp="AF",jp="EU",Rp="AF",qp="AS",Yp="NA",Gp="OC",Kp="NA",Zp="AF",Wp="EU",Jp="AF",Qp="AF",Xp="AS",eh="NA",th="AS",nh="EU",oh="AS",sh="AF",lh="EU",ah="OC",ih="SA",rh="OC",uh="EU",ch="NA",dh="EU",vh="EU",fh="AF",ph="OC",hh="OC",mh="AF",gh="OC",yh="AF",_h="OC",$h="AS",kh="OC",bh="OC",wh="OC",Mh="EU",Th="AF",Lh="EU",Ch="SA",Ah="AS",Sh="AF",Ph="SA",xh="AS",Hh="NA",Ih="AF",Eh="AF",Bh="AF",Vh="EU",Oh="EU",Fh="AS",Nh="NA",Dh="NA",Uh="AF",zh="NA",jh="AF",Rh="AS",qh="NA",Yh="AS",Gh="AF",Kh="AF",Zh="SA",Wh="OC",Jh="AS",Qh="NA",Xh="AF",em="AF",tm="EU",nm="AS",om="EU",sm="AS",lm="AS",am="AF",im="EU",rm="AF",um="AF",cm="AS",dm="NA",vm="AS",fm="EU",pm="AF",hm="NA",mm="NA",gm="AF",ym="EU",_m="NA",$m="EU",km="AS",bm="AF",wm="NA",Mm="SA",Tm="AF",Lm="OC",Cm="AS",Am="NA",Sm="AS",Pm="OC",xm="AS",Hm="NA",Im="AS",Em="AS",Bm="EU",Vm="EU",Om="OC",Fm="EU",Nm="EU",Dm="AF",Um="AF",zm="AS",jm="AN",Rm="AF",qm="AF",Ym="NA",Gm="AF",Km="EU",Zm="NA",Wm="AS",Jm="EU",Qm="NA",Xm="AS",e1="NA",t1="NA",n1="EU",o1="AS",s1="AS",l1="EU",a1="AF",i1="AN",r1="OC",u1="SA",c1="OC",d1="EU",v1="NA",f1="AS",p1="EU",h1="AS",m1="EU",g1="AS",y1="EU",_1="AS",$1="AF",k1={BD:Dv,BE:Uv,BF:zv,BG:jv,BA:Rv,BB:qv,WF:Yv,BL:Gv,BM:Kv,BN:Zv,BO:Wv,BH:Jv,BI:Qv,BJ:Xv,BT:ef,JM:tf,BV:nf,BW:of,WS:sf,BQ:lf,BR:af,BS:rf,JE:uf,BY:cf,BZ:df,RU:vf,RW:ff,RS:pf,TL:hf,RE:mf,TM:gf,TJ:yf,RO:_f,TK:$f,GW:kf,GU:bf,GT:wf,GS:Mf,GR:Tf,GQ:Lf,GP:Cf,JP:Af,GY:Sf,GG:Pf,GF:xf,GE:Hf,GD:If,GB:Ef,GA:Bf,SV:Vf,GN:Of,GM:Ff,GL:Nf,GI:Df,GH:Uf,OM:zf,TN:jf,JO:Rf,HR:qf,HT:Yf,HU:Gf,HK:Kf,HN:Zf,HM:Wf,VE:Jf,PR:Qf,PS:Xf,PW:ep,PT:tp,SJ:np,PY:op,IQ:sp,PA:lp,PF:ap,PG:ip,PE:rp,PK:up,PH:cp,PN:dp,PL:vp,PM:fp,ZM:pp,EH:hp,EE:mp,EG:gp,ZA:yp,EC:_p,IT:$p,VN:kp,SB:bp,ET:wp,SO:Mp,ZW:Tp,SA:Lp,ES:Cp,ER:Ap,ME:Sp,MD:Pp,MG:xp,MF:Hp,MA:Ip,MC:Ep,UZ:Bp,MM:Vp,ML:Op,MO:Fp,MN:Np,MH:Dp,MK:Up,MU:zp,MT:jp,MW:Rp,MV:qp,MQ:Yp,MP:Gp,MS:Kp,MR:Zp,IM:Wp,UG:Jp,TZ:Qp,MY:Xp,MX:eh,IL:th,FR:nh,IO:oh,SH:sh,FI:lh,FJ:ah,FK:ih,FM:rh,FO:uh,NI:ch,NL:dh,NO:vh,NA:fh,VU:ph,NC:hh,NE:mh,NF:gh,NG:yh,NZ:_h,NP:$h,NR:kh,NU:bh,CK:wh,XK:Mh,CI:Th,CH:Lh,CO:Ch,CN:Ah,CM:Sh,CL:Ph,CC:xh,CA:Hh,CG:Ih,CF:Eh,CD:Bh,CZ:Vh,CY:Oh,CX:Fh,CR:Nh,CW:Dh,CV:Uh,CU:zh,SZ:jh,SY:Rh,SX:qh,KG:Yh,KE:Gh,SS:Kh,SR:Zh,KI:Wh,KH:Jh,KN:Qh,KM:Xh,ST:em,SK:tm,KR:nm,SI:om,KP:sm,KW:lm,SN:am,SM:im,SL:rm,SC:um,KZ:cm,KY:dm,SG:vm,SE:fm,SD:pm,DO:hm,DM:mm,DJ:gm,DK:ym,VG:_m,DE:$m,YE:km,DZ:bm,US:wm,UY:Mm,YT:Tm,UM:Lm,LB:Cm,LC:Am,LA:Sm,TV:Pm,TW:xm,TT:Hm,TR:Im,LK:Em,LI:Bm,LV:Vm,TO:Om,LT:Fm,LU:Nm,LR:Dm,LS:Um,TH:zm,TF:jm,TG:Rm,TD:qm,TC:Ym,LY:Gm,VA:Km,VC:Zm,AE:Wm,AD:Jm,AG:Qm,AF:Xm,AI:e1,VI:t1,IS:n1,IR:o1,AM:s1,AL:l1,AO:a1,AQ:i1,AS:r1,AR:u1,AU:c1,AT:d1,AW:v1,IN:f1,AX:p1,AZ:h1,IE:m1,ID:g1,UA:y1,QA:_1,MZ:$1},b1={AF:"Africa",NA:"North America",OC:"Oceania",AN:"Antarctica",AS:"Asia",EU:"Europe",SA:"South America"};function w1(e){e=String(e).toUpperCase();const n=k1[e]||null;return n?{code:n,name:b1[n]}:null}const M1={mixins:[Un],props:{initialAddress:{type:String,default:""},types:{type:Array,default:()=>["(cities)"]}},setup(e,{emit:n}){const t=f(null),o=f(""),a=f(!1);let i=null;Qt(()=>{var d;e.types[0]==="(cities)"&&e.modelValue.city&&e.modelValue.country?o.value=e.modelValue.city+", "+e.modelValue.country:o.value=(d=e.modelValue)==null?void 0:d.address});const u=jt({props:e,emit:n,isEmpty:T(()=>!o.value)});U(o,()=>{o.value||u.update("")});const v=d=>{if(!d||!d.geometry)return null;const p={placeId:d.place_id,address:d.formatted_address,name:d.name,geopoint:{type:"Point",coordinates:[d.geometry.location.lng(),d.geometry.location.lat()]}};if(d.address_components){for(const g of d.address_components)switch(g.types[0]){case"country":p.country=g.long_name,p.countryCode=g.short_name;break;case"administrative_area_level_1":p.region=g.long_name;break;case"administrative_area_level_2":case"locality":p.city||(p.city=g.long_name);break;case"postal_town":p.city=g.long_name;break;case"route":p.route=g.long_name;break;case"street_number":p.streetNumber=g.long_name;break;case"postal_code":p.postalCode=g.long_name;break}if(p.countryCode){const g=w1(p.countryCode);g&&(p.continent=g.name,p.continentCode=g.code)}}return p},y=()=>{const d=i.getPlace();u.update(v(d))};return $e(async()=>{a.value=await Aw(),i=new window.google.maps.places.Autocomplete(t.value,{types:e.types,language:"en"}),i.addListener("place_changed",y),e.focusOnMounted&&!ke&&setTimeout(()=>{t.value.focus()},200)}),Pl(()=>{i=null}),{...u,input:t,address:o,loadedGoogleMaps:a}}},T1=["for","innerHTML"],L1=["innerHTML"],C1=["id","name","required","disabled","autocomplete","placeholder"];function A1(e,n,t,o,a,i){return l(),r("div",{class:P(["field",{active:!!e.modelValue,error:e.errorField&&e.errorField===e.name,"with-instructions":!!e.instructions}])},[e.labelComputed?(l(),r("label",{key:0,for:e.uniqueId,innerHTML:e.labelComputed},null,8,T1)):h("",!0),e.instructions?(l(),r("h6",{key:1,class:"instructions",innerHTML:e.instructions},null,8,L1)):h("",!0),Q(s("input",{id:e.uniqueId,ref:"input","onUpdate:modelValue":n[0]||(n[0]=u=>o.address=u),name:e.name,class:"field-input",type:"text",required:o.loadedGoogleMaps?e.required:!1,disabled:e.disabled?e.disabled:null,autocomplete:e.autocomplete?e.autocomplete:null,placeholder:e.placeholder?e.placeholder:null,autocorrect:"off",spellcheck:"false",onBlur:n[1]||(n[1]=(...u)=>e.onBlur&&e.onBlur(...u)),onFocus:n[2]||(n[2]=(...u)=>e.onFocus&&e.onFocus(...u))},null,40,C1),[[Hn,o.address]])],2)}const Ys=te(M1,[["render",A1]]),S1={key:0},P1={key:0},x1={class:"margin-top-2"},H1=["innerHTML"],I1={class:"button-group"},E1=["disabled","innerHTML"],B1={class:"margin-top-5"},V1={key:0,class:"inline-block margin-bottom-2 active-links"},O1=s("br",null,null,-1),F1={key:1},N1={key:1,class:"active-links"},D1=s("p",{class:"color-success"}," Great! ",-1),U1=s("p",null,"Now check your e-mail, you need to click a link there to confirm your account.",-1),z1=s("small",null,"You can safely close this window, we'll get you right back.",-1),j1={class:"padding-top-"},R1=s("button",{type:"button",class:"margin-top-3 large-pill more-pad stateful"}," done ",-1),q1=[R1],Y1={key:2},G1=s("p",{class:"color-error"}," Error ",-1),K1=s("p",null,"Please confirm your e-mail and:",-1),Bo={__name:"CreateAccount",props:{formOnly:Boolean},setup(e){function n(w){Jt.value="create",j.value=w}const t=f(!1),o=f(""),a=f(""),i=f(!1),u=f(null),v=f(!1),y=f(!1),d=f(!1),p=f(!1);function g(w){return/^[^\s@]+@[^\s@]+\.[^\s@]+$/.test(w)}U(o,()=>{v.value=g(o.value),v.value||(y.value=!1)}),$e(()=>{setTimeout(()=>{const w=new URLSearchParams(window.location.search);o.value=w.get("email")||""},120)});const m=T(()=>t.value||!v.value?"":y.value?"Account already exists, maybe you want to:":""),$=T(()=>!t.value&&v.value&&a.value.length>=8),k=T(()=>t.value?"please wait":v.value?y.value?"Reset password":a.value.length<8?"Fill your password":"Create account":"Fill your e-mail"),S=T(()=>v.value&&!y.value);async function _(){if(!$.value)return;if(y.value){const L=await Ts(o.value);d.value=L.status==="success",p.value=!d.value;return}const w=await Kl(o.value,a.value,i.value,u.value,$o.value);d.value=w.status==="success",p.value=!d.value,w.code===409&&(M(),y.value=!0)}function M(){d.value=!1,p.value=!1}const A=T(()=>a.value.length&&a.value.length<8?"mininum 8 characters":"");return(w,L)=>(l(),r(Y,null,[!p.value&&!d.value?(l(),r("div",S1,[e.formOnly?h("",!0):(l(),r("p",P1," create your typo/graphic account ")),s("form",{onSubmit:N(_,["prevent"])},[b(He,{modelValue:o.value,"onUpdate:modelValue":L[0]||(L[0]=x=>o.value=x),label:"E-mail",type:"email"},null,8,["modelValue"]),b(Xt,{name:"list"},{default:se(()=>[S.value?(l(),H(He,{key:0,modelValue:a.value,"onUpdate:modelValue":L[1]||(L[1]=x=>a.value=x),label:"Password",type:"password",autocomplete:"new-password","error-message":A.value},null,8,["modelValue","error-message"])):h("",!0),S.value?(l(),H(Tn,{key:1,modelValue:i.value,"onUpdate:modelValue":L[2]||(L[2]=x=>i.value=x),label:"Newsletters","enabled-label":"will subscribe","disabled-label":"will not subscribe"},null,8,["modelValue"])):h("",!0),S.value?(l(),H(Ys,{key:2,modelValue:u.value,"onUpdate:modelValue":L[3]||(L[3]=x=>u.value=x),label:"Country",types:["country"],placeholder:" "},null,8,["modelValue"])):h("",!0)]),_:1}),s("div",x1,[Q(s("p",{class:"padding-top-3",innerHTML:m.value},null,8,H1),[[ae,m.value]]),s("div",I1,[s("button",{class:"large-pill more-pad stateful",disabled:!$.value,innerHTML:k.value},null,8,E1),y.value?(l(),r("button",{key:0,type:"button",class:"large-pill more-pad stateful",onClick:L[4]||(L[4]=N(x=>j.value="login",["prevent"]))}," Login ")):h("",!0)])])],32),s("div",B1,[!y.value&&(!e.formOnly||S.value)?(l(),r("small",V1,[D("By creating an account you agree to our"),O1,s("a",{href:"/terms-of-service",onClick:L[5]||(L[5]=N(x=>n("terms-of-service"),["prevent"]))},"Terms of Service"),D(" and "),s("a",{href:"/privacy-policy",onClick:L[6]||(L[6]=N(x=>n("privacy-policy"),["prevent"]))},"Privacy Policy"),D(".")])):h("",!0),e.formOnly?h("",!0):(l(),r("div",F1,[s("small",{class:"color-link inline-block",onClick:L[7]||(L[7]=(...x)=>c(Lt)&&c(Lt)(...x))}," ← back ")]))])])):h("",!0),d.value?(l(),r("div",N1,[D1,U1,z1,s("small",j1,[D("If you mistyped your email just "),s("a",{href:"/login/create",onClick:N(M,["prevent"])},"create a new account"),D(".")]),s("a",{href:"/",onClick:L[8]||(L[8]=N((...x)=>c(et)&&c(et)(...x),["prevent"]))},q1)])):h("",!0),p.value?(l(),r("div",Y1,[G1,K1,s("button",{type:"button",class:"large-pill more-pad stateful",onClick:M}," Try again ")])):h("",!0)],64))}},Z1={key:0,class:"white-theme margin-bottom-4 padding-top-3 padding-bottom-1"},W1={class:"container"},J1={class:"row"},Q1={class:"col-12 col-lg-3 content-style padding-top-1 padding-bottom-2 active-links"},X1=s("h2",{class:"padding-bottom-2"}," Create your account (it's free) ",-1),eg=["innerHTML"],tg={style:{"padding-top":"16px"}},ng=s("div",{class:"col-12 col-lg-1"},null,-1),og={class:"col-12 col-lg-4 padding-top-1"},sg=s("div",{class:"col-12 col-lg-3 content-style padding-top-1 padding-bottom-2"},null,-1),lg={__name:"ModuleCreateAccount",props:{content:String},setup(e){return(n,t)=>c(X)?h("",!0):(l(),r("div",Z1,[s("div",W1,[s("div",J1,[s("div",Q1,[X1,s("span",{innerHTML:e.content},null,8,eg),s("small",tg,[D("Already have an account, "),s("a",{href:"/login",onClick:t[0]||(t[0]=N((...o)=>c(Ve)&&c(Ve)(...o),["prevent"]))},"login here")])]),ng,s("div",og,[b(Bo,{"form-only":!0})]),sg])])]))}},ag={key:0},ig={class:"container home-archive-call color-links"},Fe={__name:"Home",setup(e){const n={ModulePostersFeature:fv,ModuleCollection:Id,ModuleProfiles:Kd,ModuleFeaturedAuthors:Av,ModuleMessageBoard:Nv,ModuleCreateAccount:lg};return(t,o)=>(l(),r("div",null,[c(re).home?(l(),r("div",ag,[(l(!0),r(Y,null,J(c(re).home.modules,(a,i)=>(l(),H(sn(n[a.component]),$n({key:a.component+i},a),null,16))),128))])):h("",!0),s("div",ig,[s("h1",null,[s("a",{href:"/join",onClick:o[0]||(o[0]=N((...a)=>c(on)&&c(on)(...a),["prevent"]))}," support us → ")])])]))}},rg={},ug={focusable:"false",preserveAspectRatio:"xMidYMid meet",xmlns:"http://www.w3.org/2000/svg",width:"32",height:"32",viewBox:"0 0 32 32","aria-hidden":"true",class:"icon search-icon"},cg=s("path",{d:"M30,28.59,22.45,21A11,11,0,1,0,21,22.45L28.59,30ZM5,14a9,9,0,1,1,9,9A9,9,0,0,1,5,14Z"},null,-1),dg=s("title",null,"Search",-1),vg=[cg,dg];function fg(e,n){return l(),r("svg",ug,vg)}const Cn=te(rg,[["render",fg]]),Gs=!!window.__STATE__.app.isProduction;let Ut=null,ns=new Date;const Et=[];async function Ks(e){if(!Gs||!(e!=null&&e.path))return;Zs(!0);const n={url:e.path,duration:0};fs(e.query)||(n.query=e.query),Et.push(n),Oe.value&&(Ut?An():await Js())}function Zs(e){const n=new Date,t=(n.getTime()-ns.getTime())/1e3;e&&(ns=n),Et.length&&(Et[Et.length-1].duration=t)}function Ws(e){var n;return Zs(),e?{local:!window.__STATE__.app.isProduction,referrer:document.referrer||null,userId:(n=C.value)==null?void 0:n.id,isLoggedIn:X.value,isAdmin:Pe.value,isAuthor:Pe.value?!1:Je.value,isSubscriptionActive:Pe.value?!1:vt.value,canCollect:Pe.value?!1:_o.value,width:window.innerWidth,height:window.innerHeight,mq:O.current,pages:Et}:{pages:Et,local:!window.__STATE__.app.isProduction,isAdmin:Pe.value}}async function Js(){const e=Ws(!0);try{Ut=await Ee("/sync",{method:"POST",body:e}),Ut&&setTimeout(An,3e3)}catch{}}function An(e){if(!Ut)return;const n=Ws(e);n.id=Ut,navigator.sendBeacon("/sync",JSON.stringify(n))||Ee("/sync",{method:"POST",body:n})}Gs&&(document.addEventListener("visibilitychange",()=>{document.visibilityState==="hidden"&&An()}),U(Oe,async e=>{Ut?An(e):await Js()}));const pg={},hg={focusable:"false",preserveAspectRatio:"xMidYMid meet",xmlns:"http://www.w3.org/2000/svg",width:"32",height:"32",viewBox:"0 0 32 32","aria-hidden":"true",class:"icon icon-awards"},mg=s("path",{d:"M16,6.52l2.76,5.58.46,1,1,.15,6.16.89L22,18.44l-.75.73.18,1,1.05,6.13-5.51-2.89L16,23l-.93.49L9.56,26.34l1-6.13.18-1L10,18.44,5.58,14.09l6.16-.89,1-.15.46-1L16,6.52M16,2l-4.55,9.22L1.28,12.69l7.36,7.18L6.9,30,16,25.22,25.1,30,23.36,19.87l7.36-7.17L20.55,11.22Z"},null,-1),gg=s("title",null,"Awards",-1),yg=[mg,gg];function _g(e,n){return l(),r("svg",hg,yg)}const $g=te(pg,[["render",_g]]),kg={key:0,class:"poster-canvas-infos"},bg={class:"toolbar"},wg={class:"poster-canvas-infos-scroll content-style"},Mg={class:"padding-bottom-2",style:{"padding-top":"3px"}},Tg=["innerHTML"],Lg=["innerHTML"],Cg=["aria-label","innerHTML"],Ag={key:1,class:"lining-numbers small"},Sg={key:0,class:"padding-bottom-2 active-links"},Pg=s("hr",null,null,-1),xg=["innerHTML"],Hg={key:1,class:"padding-bottom-2"},Ig=s("hr",null,null,-1),Eg=["innerHTML"],Bg={key:1,class:"padding-top-1"},Vg=["innerHTML"],Og=["innerHTML"],Fg=["innerHTML"],Ng={key:2,class:"padding-bottom-2 common-links"},Dg=s("hr",null,null,-1),Ug={class:"bold"},zg={key:0},jg=["href","innerHTML"],Rg=["href","innerHTML"],qg=["innerHTML"],Yg=s("hr",null,null,-1),Gg={key:0,class:"padding-bottom-2"},Kg={key:0},Zg={key:0},Wg=["href"],Jg={key:3},Qg={key:1},Xg={class:"split-h padding-bottom-2"},ey={class:"author-label"},ty=["innerHTML"],ny={key:0},oy={key:1,class:"padding-bottom-2"},sy={class:"author-label"},ly=["href"],ay={key:1},iy=s("hr",null,null,-1),ry={class:"color-links"},uy=["innerHTML"],cy={__name:"PosterCanvasInfos",props:{poster:[Object,null],forProfile:Boolean,canvas:null},setup(e){const n=e,t=T(()=>O.mobile||O.md?"top":"bottom"),o=T(()=>O.mobile||O.md?n.canvas:null);function a(y,d){d&&(ao(d,n.poster.position),d===n.poster.profileId&&(Pn.value++,y.stopPropagation(),y.preventDefault()))}const i=T(()=>!n.poster.profileCategory||n.poster.profileCategory==="designer"||n.poster.profileCategory==="studio"),u=T(()=>{var g;const y=[].concat(n.poster.crosslinkTo||[],n.poster.crosslinkFromValues||[]);i.value||y.unshift({id:n.poster.profileId,name:n.poster.profileName,profilePicture:n.poster.profilePicture,profileCategory:n.poster.profileCategory});const d=[];for(const m of y){if(m.id===n.poster.profileId&&i.value)continue;((g=n.poster.authors)==null?void 0:g.find(k=>k.id===m.id))||d.findIndex(k=>k.id===m.id||k.name===m.name)&&d.push(m)}const p=["designer","studio","music-venue","museum","art-gallery","cultural-center","project","education","festival","competition","exhibition"];return d.length&&d.sort((m,$)=>{const k=p.findIndex(_=>_===m.profileCategory),S=p.findIndex(_=>_===$.profileCategory);return k>S?1:0}),d}),v=T(()=>{var p;const y=[],d=[];if(i.value&&d.push({id:n.poster.profileId,name:n.poster.profileName,profilePicture:n.poster.profilePicture,profileCategory:n.poster.profileCategory}),(p=n.poster.authors)!=null&&p.length)for(const g of n.poster.authors)g.name&&d.push({id:g.id,name:g.name,url:hn(g),profilePicture:g.profilePicture});d.length&&y.push({authors:d,isAuthor:!0});for(const g of u.value)y.push({authors:[g]});return y});return(y,d)=>{const p=fe("RouterLink"),g=fe("router-link");return e.poster?(l(),r("div",kg,[s("div",bg,[b(an,{id:e.poster.crosslinkFrom||e.poster.id,pill:!0,target:"posters","poster-position":e.poster.position,position:t.value},null,8,["id","poster-position","position"]),b(qs,{pill:!0,position:t.value,"poster-id":e.poster.crosslinkFrom||e.poster.id,"poster-position":e.poster.position},null,8,["position","poster-id","poster-position"]),(l(),H(pt,{key:e.poster.id,intent:"poster",position:t.value,item:e.poster,"scroll-target":o.value},null,8,["position","item","scroll-target"]))]),s("div",wg,[s("div",Mg,[s("h1",{innerHTML:c(bn)(e.poster)},null,8,Tg),s("h6",{innerHTML:c(Is)(e.poster,!1,!0)},null,8,Lg),e.poster.categoryLabel&&e.forProfile&&e.poster.profileId==="100besteplakate"?(l(),r("h6",{key:0,"aria-label":e.poster.categoryLabel.tooltip,class:P(e.poster.categoryLabel.tooltipClass),innerHTML:e.poster.categoryLabel.name},null,10,Cg)):h("",!0),e.poster.articleNumber?(l(),r("h6",Ag," article #"+E(e.poster.articleNumber),1)):h("",!0)]),e.poster.notice?(l(),r("div",Sg,[Pg,s("span",{innerHTML:e.poster.notice},null,8,xg)])):h("",!0),e.poster.description||e.poster.details||e.poster.printedBy||e.poster.client?(l(),r("div",Hg,[Ig,e.poster.description?(l(),r("p",{key:0,class:"content-pad-top",innerHTML:c(at)(e.poster.description)},null,8,Eg)):(l(),r("div",Bg)),e.poster.client?(l(),r("h6",{key:2,innerHTML:`client: ${e.poster.client}`},null,8,Vg)):h("",!0),e.poster.details?(l(),r("h6",{key:3,innerHTML:c(at)(e.poster.details)},null,8,Og)):h("",!0),e.poster.printedBy?(l(),r("h6",{key:4,innerHTML:`printed by: ${e.poster.printedBy}`},null,8,Fg)):h("",!0)])):h("",!0),Array.isArray(e.poster.awards)&&e.poster.awards.length?(l(),r("div",Ng,[Dg,s("h6",Ug,[b($g),D(" awards ")]),s("p",null,[(l(!0),r(Y,null,J(e.poster.awards,(m,$)=>(l(),r("span",{key:m.name+$},[$>0?(l(),r("br",zg)):h("",!0),D(" . "),e.forProfile&&e.poster.profileId===m.id?(l(),r("a",{key:1,href:`/${m.id}`,onClick:d[0]||(d[0]=N(k=>Pn.value++,["stop","prevent"])),innerHTML:m.name},null,8,jg)):m.id?(l(),H(p,{key:2,to:`/${m.id}`,onClick:k=>c(ao)(m.id,e.poster.position),onMouseenter:k=>c(Se)({name:"profile",id:m.id}),innerHTML:m.name},null,8,["to","onClick","onMouseenter","innerHTML"])):c(hn)(m)?(l(),r("a",{key:3,href:c(hn)(m),target:"_blank",rel:"noopener",innerHTML:m.name},null,8,Rg)):(l(),r("span",{key:4,innerHTML:m.name},null,8,qg))]))),128))])])):h("",!0),(l(!0),r(Y,null,J(v.value,(m,$)=>(l(),r("div",{key:e.poster.id+$,class:"color-links"},[Yg,m.authors.length>1?(l(),r("div",Gg,[m.isAuthor?(l(),r("h6",Kg," authors ")):h("",!0),s("h2",null,[(l(!0),r(Y,null,J(m.authors,(k,S)=>(l(),r("span",{key:k.name+S+$+e.poster.id},[S?(l(),r("span",Zg,E(S===m.authors.length-1?" & ":", "),1)):h("",!0),k.id?(l(),H(g,{key:1,to:`/${k.id}`,onClick:_=>a(_,k.id),onMouseenter:_=>c(Se)({name:"profile",id:k.id}),innerHTML:k.name},null,8,["to","onClick","onMouseenter","innerHTML"])):k.url?(l(),r("a",{key:2,href:k.url,rel:"noopener",target:"_blank",class:"external-link"},[D(E(k.name),1),b(uo)],8,Wg)):(l(),r("span",Jg,E(k.name),1))]))),128))])])):(l(),r("span",Qg,[m.authors[0].id?(l(),H(g,{key:0,to:`/${m.authors[0].id}`,onClick:k=>a(k,m.authors[0].id),onMouseenter:k=>c(Se)({name:"profile",id:m.authors[0].id})},{default:se(()=>[s("div",Xg,[s("div",null,[s("h6",ey,E(m.isAuthor?"author":c(Yo)(m.authors[0],!0)),1),s("h2",{innerHTML:m.authors[0].name},null,8,ty),$===0&&!e.forProfile?(l(),r("small",ny,"view full profile →")):h("",!0)]),m.authors[0].profilePicture?(l(),H(Ze,{key:0,"image-path":m.authors[0].profilePicture},null,8,["image-path"])):h("",!0)])]),_:2},1032,["to","onClick","onMouseenter"])):(l(),r("div",oy,[s("h6",sy,E(m.isAuthor?"author":c(Yo)(m.authors[0],!0)),1),s("h2",null,[m.authors[0].url?(l(),r("a",{key:0,href:m.authors[0].url,rel:"noopener",target:"_blank",class:"external-link"},[D(E(m.authors[0].name),1),b(uo)],8,ly)):(l(),r("span",ay,E(m.authors[0].name),1))])]))]))]))),128)),iy,s("small",ry,[s("a",{href:"/terms-of-use",onClick:d[1]||(d[1]=N((...m)=>c(as)&&c(as)(...m),["prevent"])),innerHTML:c(Ha)(e.poster)},null,8,uy)])])])):h("",!0)}}},dy={class:"poster-canvas-tools"},vy={class:"arrows"},fy=["disabled"],py=["disabled"],hy={__name:"PosterCanvasTools",props:{index:Number,total:Number,isOpen:Boolean,canNext:Boolean,canPrev:Boolean},emits:["open","close","next","prev"],setup(e,{emit:n}){const t=n;return xe("keydown",o=>{switch(o.code){case"Escape":case"Backquote":t("close");break;case"ArrowLeft":t("prev");break;case"ArrowRight":t("next");break}}),(o,a)=>(l(),r("div",dy,[s("button",{type:"button",class:"close",onClick:a[0]||(a[0]=i=>t("close"))},[b(Nt)]),s("div",vy,[s("button",{class:"arrow",title:"use keyboard arrows too",disabled:!e.canPrev,onClick:a[1]||(a[1]=i=>t("prev"))}," ← ",8,fy),s("button",{class:"arrow",title:"use keyboard arrows too",disabled:!e.canNext,onClick:a[2]||(a[2]=i=>t("next"))}," → ",8,py)])]))}},my={class:"poster-canvas-thumbs",title:"you can use keyboard up/down too"},gy=s("hr",{class:"line"},null,-1),yy=["innerHTML"],_y=["onClick"],$y={key:0,class:"scroll-icon"},ky=["src"],by=["innerHTML"],wy={__name:"PosterCanvasThumbs",props:{poster:Object,imageList:Array,index:Number,isOpen:Boolean},emits:["index"],setup(e,{emit:n}){const t=e,o=n;return xe("keydown",a=>{if(t.isOpen)switch(a.code){case"ArrowDown":a.preventDefault(),t.index<t.imageList.length-1&&o("index",t.index+1);break;case"ArrowUp":a.preventDefault(),t.index>-1&&o("index",t.index-1);break}}),(a,i)=>(l(),r("div",my,[gy,s("div",{class:P(["poster-canvas-thumbs-item",{selected:e.index===-1}]),onClick:i[0]||(i[0]=u=>o("index",-1)),innerHTML:c(it)(e.poster.image,"poster")},null,10,yy),(l(!0),r(Y,null,J(e.imageList,(u,v)=>(l(),r("div",{key:u.path+v,class:P(["poster-canvas-thumbs-item",{selected:e.index===v}]),onClick:y=>o("index",v)},[u.animated||u.type==="video"?(l(),r("div",$y,[b(nn)])):h("",!0),u.type==="video"?(l(),r("img",{key:1,src:c(ra)(u.path),alt:""},null,8,ky)):(l(),r("span",{key:2,innerHTML:c(it)(u.path,"poster")},null,8,by))],10,_y))),128))]))}},My={class:"poster-canvas-area"},Ty=["innerHTML"],Ly=["innerHTML"],Cy={key:1,class:"poster-canvas-stage"},Ay={class:"poster-canvas-poster"},Sy=["innerHTML"],Py={key:1},xy=["innerHTML"],Hy=["innerHTML"],Iy=["innerHTML"],Ey=["innerHTML"],By={__name:"PosterCanvasArea",props:{poster:Object,nextPoster:null,prevPoster:null,isOpen:Boolean},setup(e){const n=e,t=ht(n,"poster"),o=f(null),a=f(-1),i=f([]),u=T(()=>!!i.value.length);return U(t,()=>{var d,p,g,m,$,k,S,_,M;a.value=-1,o.value&&(o.value.scrollLeft=0);const v=[];if((p=(d=n.poster)==null?void 0:d.series)!=null&&p.length)for(const A of n.poster.series)A.path&&v.push({path:A.path});if((m=(g=n.poster)==null?void 0:g.animated)!=null&&m.path&&v.push({path:($=n.poster.image)==null?void 0:$.path,animated:n.poster.animated}),(S=(k=n.poster)==null?void 0:k.series)!=null&&S.length)for(const A of n.poster.series)A.animated&&v.push(A);const y=["alternates","gallery"];for(const A of y)if((M=(_=n.poster)==null?void 0:_[A])!=null&&M.length)for(const w of n.poster[A])w.path&&v.push(w);i.value=v},{immediate:!0}),(v,y)=>(l(),r("div",My,[c(O).mobile||c(O).md?(l(),r("div",{key:0,ref_key:"scroll",ref:o,class:"poster-canvas-scroll"},[s("picture",{class:"item",innerHTML:c(We)(t.value,"poster",!0)},null,8,Ty),(l(!0),r(Y,null,J(i.value,d=>(l(),r("div",{key:d.path,class:"item"},[d.animated?(l(),H(Ht,{key:0,"image-path":d.path,path:d.animated.path,width:d.animated.width,height:d.animated.height,controls:!0},null,8,["image-path","path","width","height"])):d.type==="video"?(l(),H(Ht,{key:1,"image-path":t.value.image.path,path:d.path,width:d.width,height:d.height,controls:!0},null,8,["image-path","path","width","height"])):(l(),r("span",{key:2,innerHTML:c(Ft)(d.path,"poster",!1)},null,8,Ly))]))),128))],512)):(l(),r("div",Cy,[s("div",Ay,[u.value?(l(),r("span",Py,[(l(!0),r(Y,null,J(i.value,(d,p)=>(l(),r("span",{key:d.path},[d.animated?Q((l(),H(Ht,{key:0,path:d.animated.path,width:d.animated.width,height:d.animated.height,controls:!0,play:a.value===p,autoplay:!1},null,8,["path","width","height","play"])),[[ae,a.value===p]]):d.type==="video"?Q((l(),H(Ht,{key:1,path:d.path,width:d.width,height:d.height,controls:!0,play:a.value===p,autoplay:!1},null,8,["path","width","height","play"])),[[ae,a.value===p]]):h("",!0)]))),128)),a.value===-1?(l(),r("picture",{key:0,innerHTML:c(We)(t.value,"poster",!0)},null,8,xy)):h("",!0),a.value>=0&&!i.value[a.value].animated&&i.value[a.value].type!=="video"?(l(),r("picture",{key:1,innerHTML:c(Ft)(i.value[a.value].path,"poster",!1)},null,8,Hy)):h("",!0)])):(l(),r("picture",{key:0,innerHTML:c(We)(t.value,"poster",!0)},null,8,Sy))]),u.value?(l(),H(wy,{key:0,poster:t.value,"image-list":i.value,index:a.value,"is-open":e.isOpen,onIndex:y[0]||(y[0]=d=>a.value=d)},null,8,["poster","image-list","index","is-open"])):h("",!0),e.nextPoster?(l(),r("picture",{key:1,class:"preload-poster",innerHTML:c(We)(e.nextPoster,"poster",!0)},null,8,Iy)):h("",!0),e.prevPoster?(l(),r("picture",{key:2,class:"preload-poster",innerHTML:c(We)(e.prevPoster,"poster",!0)},null,8,Ey)):h("",!0)]))]))}},Vy={__name:"PosterCanvas",props:{items:Array,id:String,forProfile:Boolean},emits:["end"],setup(e,{expose:n,emit:t}){const o=e,a=t;n({open:x});const i=f(null),u=f(-1),v=f(!0),y=f(!1),d=f(ke),p=f(!1),g=ht(o,"items"),m=f(null),$=f(null),k=f(null),S=f(null);U(S,async()=>{await Ks({path:Vn(m.value)})});function _(){p.value=!1}U(Pn,_),U(p,async()=>{p.value?(await Be(),vo.value=!0):vo.value=!1}),U([p,u],()=>{rn.value++});const M=T(()=>u.value<0||!g.value.length?!1:u.value+1<g.value.length),A=T(()=>u.value<0||!g.value.length?!1:u.value>0);function w(){M.value&&p.value&&u.value++}function L(){A.value&&p.value&&u.value--}async function x(V){u.value=-1,await Be(),u.value=g.value.findIndex(R=>R.id===V),p.value=u.value>=0}function G(V){i.value&&(V?Me.to(i.value,{duration:.24,top:window.scrollY,scrollTo:0}):(i.value.style.top=`${window.scrollY}px`,i.value.scrollTop=0))}let ie=0;const W=dt(V=>{p.value?V.deltaY<-3?(y.value=!1,p.value=!1):V.deltaY>3&&(y.value=!0,p.value=!1):Math.abs(V.deltaY)>ie+5&&document.body.classList.remove("noscroll"),ie=Math.abs(V.deltaY)},100),z=dt(V=>{if(p.value){const K=i.value.children[0].offsetHeight+i.value.children[0].offsetTop-i.value.offsetHeight;i.value.scrollTop<-60?(y.value=!1,p.value=!1):i.value.scrollTop>K+60&&(y.value=!0,p.value=!1)}},100);let ue=null;function F(){ue&&(clearTimeout(ue),ue=null),document.body.classList.add("noscroll"),ke&&(d.value=!1)}function B(){ke?(document.body.classList.remove("noscroll"),ue=setTimeout(()=>{d.value=!0},800)):ue=setTimeout(()=>{document.body.classList.remove("noscroll")},850)}U(p,()=>{p.value?(F(),G(),setTimeout(G,400),setTimeout(G,810),ke&&(Sn.value=!0)):(B(),ke&&(Sn.value=!1))},{immediate:!0}),U(u,(V,R)=>{var K,q,pe;(K=g.value)!=null&&K[V]&&(m.value=g.value[V],S.value=m.value.id),$.value=(q=g.value)==null?void 0:q[V+1],k.value=(pe=g.value)==null?void 0:pe[V-1],G(!0),v.value=V>=R,V===g.value.length-1&&a("end")}),$e(()=>{ke?(xe(window,"scroll",_,{capture:!1,passive:!0}),xe(window,"orientationchange",_),O.mobile||O.md?(xe(i,"scroll",z,{capture:!1,passive:!0}),Do(i,{onSwipeEnd(V,R){}})):Do(i,{onSwipeEnd(V,R){switch(R){case"RIGHT":L();break;case"LEFT":w();break;case"UP":y.value=!0,p.value=!1;break;case"DOWN":y.value=!1,p.value=!1;break}}})):xe(document.body,"wheel",W,{capture:!1,passive:!0})});const I=T(()=>{var R;const V=(R=m.value)==null?void 0:R.edgeColor;return V>190&&V<215});return U([p,g],async()=>{if(!p.value)return;const V=[];for(const R of g.value)R.hydrated||V.push(R.id);if(V.length)try{const R=new FormData;R.append("ids",V);const K=await Ee("/api/tg/posters-hydrate",{method:"POST",body:R});if(K!=null&&K.length){for(const q of K){const pe=g.value.find(me=>me.id===q.id);if(pe){for(const me of Object.keys(q))pe[me]=q[me];pe.hydrated=!0}}m.value&&(m.value={...m.value})}}catch{}},{immediate:!0}),(V,R)=>{var K;return l(),r("div",{ref_key:"canvas",ref:i,class:P(["poster-canvas",{active:p.value,up:y.value,hidden:d.value,touch:c(ke),"not-touch":!c(ke)}])},[s("div",{class:P(["poster-board",{"bkg-too-close":I.value}])},[b(hy,{"is-open":p.value,index:u.value,total:e.items.length,"can-prev":A.value,"can-next":M.value,onOpen:R[0]||(R[0]=q=>p.value=!0),onClose:_,onPrev:L,onNext:w},null,8,["is-open","index","total","can-prev","can-next"]),(l(),H(By,{key:((K=m.value)==null?void 0:K.id)||"none",poster:m.value,"next-poster":$.value,"prev-poster":k.value,"is-open":p.value},null,8,["poster","next-poster","prev-poster","is-open"])),b(cy,{poster:m.value,"for-profile":e.forProfile,canvas:i.value},null,8,["poster","for-profile","canvas"])],2)],2)}}},Oy={key:1},Fy=["innerHTML"],qt={__name:"Posters",props:{items:Array,initiallyOpen:String,loadAllUntil:Function,forProfile:Boolean,noInfo:Boolean,noIcons:Boolean,dontTrack:Boolean,fromCollectionId:String,size:String,fadeLike:Boolean,withReorder:Boolean,bkgGrayColor:{type:Number,default:245},layoutFeatures:Object,isSearching:Boolean,layout:String,forceAnimated:Boolean},emits:["end","reorder"],setup(e,{emit:n}){const t=e,o=n,a=f(null),i=T(()=>{var p;if(!t.forProfile)return t.items;const d=[];for(let g=0;g<t.items.length;g++){const m=t.items[g];if(m.expandSeries&&((p=m.series)!=null&&p.length)){m.skipSeries=!0,d.push(m);for(const $ of m.series)$.path&&d.push({...m,isExpanded:!0,image:{path:$.path}})}else d.push(m)}return d}),u=T(()=>{var g;if(!((g=t.layoutFeatures)!=null&&g.yearMarkers)||t.isSearching)return null;const d=xl(i.value,"year"),p=Hl(d,(m,$)=>({year:$,posters:m}));return ps(p,"year").reverse()}),v=T(()=>{const d=t.size;return O.mobile?d==="tiny"?3:2:O.md?d==="large"?2:d==="small"?4:d==="tiny"?6:3:O.xxxl?d==="large"?4:d==="small"?7:d==="tiny"?10:5:d==="large"?3:d==="small"?5:d==="tiny"?8:4}),y=T(()=>{const d=t.size;return O.mobile||O.md||d==="tiny"?!1:O.lg?d!=="small":!(v.value>5)});return t.initiallyOpen&&$e(async()=>{t.loadAllUntil&&await t.loadAllUntil(d=>d.findIndex(p=>p.id===t.initiallyOpen)>=0),a.value.open(t.initiallyOpen)}),(d,p)=>(l(),r("div",null,[b(Vy,{ref_key:"canvas",ref:a,"initially-open":e.initiallyOpen,items:e.items,"for-profile":e.forProfile,onEnd:p[0]||(p[0]=g=>o("end"))},null,8,["initially-open","items","for-profile"]),e.withReorder?(l(),r("span",{key:0,style:we({"--columns":v.value})},[b(c(In),{list:e.items,"item-key":"id",handle:".poster-item-link","force-fallback":!0,"fallback-tolerance":2,class:P(["posters-list with-reorder",{spaced:y.value}]),onEnd:p[1]||(p[1]=g=>o("reorder",e.items))},{item:se(({element:g})=>[b(yn,{poster:g,size:e.size,"for-profile":e.forProfile,"no-info":e.noInfo,"no-icons":e.noIcons,"dont-track":e.dontTrack,"from-collection-id":e.fromCollectionId,"fade-like":e.fadeLike,onClickPoster:m=>a.value.open(g.id)},null,8,["poster","size","for-profile","no-info","no-icons","dont-track","from-collection-id","fade-like","onClickPoster"])]),_:1},8,["list","class"])],4)):u.value?(l(),r("section",Oy,[(l(!0),r(Y,null,J(u.value,g=>(l(),r("div",{key:g.year,class:P(["posters-list with-year",{spaced:y.value,small:e.size==="small"}]),style:we({"--columns":v.value})},[s("h1",{class:"large poster-archive-year",innerHTML:g.year},null,8,Fy),(l(!0),r(Y,null,J(g.posters,m=>(l(),H(yn,{key:(m.isExpanded?m.image.path:m.id)+e.layout,poster:m,size:e.size,"for-profile":e.forProfile,"no-info":e.noInfo,"no-icons":e.noIcons,"dont-track":e.dontTrack||m.isExpanded,"from-collection-id":e.fromCollectionId,"fade-like":e.fadeLike,"bkg-gray-color":e.bkgGrayColor,layout:e.layout,"force-animated":e.forceAnimated,onClickPoster:$=>a.value.open(m.id)},null,8,["poster","size","for-profile","no-info","no-icons","dont-track","from-collection-id","fade-like","bkg-gray-color","layout","force-animated","onClickPoster"]))),128))],6))),128))])):(l(),r("div",{key:2,class:P(["posters-list",{spaced:y.value}]),style:we({"--columns":v.value})},[(l(!0),r(Y,null,J(i.value,g=>(l(),H(yn,{key:(g.isExpanded?g.image.path:g.id)+e.layout,poster:g,size:e.size,"for-profile":e.forProfile,"no-info":e.noInfo,"no-icons":e.noIcons,"dont-track":e.dontTrack||g.isExpanded,"from-collection-id":e.fromCollectionId,"fade-like":e.fadeLike,"bkg-gray-color":e.bkgGrayColor,layout:e.layout,"force-animated":e.forceAnimated,onClickPoster:m=>a.value.open(g.id)},null,8,["poster","size","for-profile","no-info","no-icons","dont-track","from-collection-id","fade-like","bkg-gray-color","layout","force-animated","onClickPoster"]))),128))],6))]))}},Ny=["onClick"],Dy={__name:"ColorStrip",emits:["color"],setup(e,{emit:n}){const t=n,o=f(0),a=f(0),i=dt(()=>{const y=O.mobile?32:44,d=Math.ceil(window.innerWidth/y);d>25?o.value=8:d>15?o.value=6:o.value=3,a.value=d-o.value});xe("resize",i),i();const u=T(()=>{const y=[];for(let d=0;d<a.value;d++){const p=333/(a.value-1)*d;y.push({hex:ct.hsv.hex(p,95,95).toLowerCase()})}for(let d=o.value-1;d>=0;d--){const p=100/(o.value-1)*d;y.push({hex:ct.gray.hex(p).toLowerCase()})}return y}),v=T(()=>`${100/u.value.length}vw`);return(y,d)=>(l(),r("div",{class:P(["color-strip",{"fully-disable":!c(vt)}])},[(l(!0),r(Y,null,J(u.value,p=>(l(),r("div",{key:p.hex,class:"color-swatch",style:we({backgroundColor:`#${p.hex}`,width:v.value,height:v.value}),onClick:N(g=>t("color",p.hex),["stop"])},null,12,Ny))),128))],2))}},Uy={setup(){return{goToTop:()=>{Me.to(window,{duration:.8,scrollTo:0})}}}},zy={class:"back-to-top"};function jy(e,n,t,o,a,i){return l(),r("div",zy,[s("button",{type:"button",class:"text",onClick:n[0]||(n[0]=(...u)=>o.goToTop&&o.goToTop(...u))}," Back to top ↑ ")])}const qn=te(Uy,[["render",jy]]),Ry=["disabled","innerHTML"],Yn={__name:"LoadMore",props:{autoLoad:{type:Boolean,default:!0},currentPage:Number,hasMorePages:Boolean,isLoading:Boolean},emits:["loadMore"],setup(e,{emit:n}){const t=e,o=n,a=f(null),i=T(()=>t.isLoading?t.currentPage>0?"loading more...":"":!t.autoLoad&&t.hasMorePages?"load more ↓":""),u=T(()=>t.isLoading||t.autoLoad?!1:!!i.value),v=dt(()=>{t.isLoading||!t.hasMorePages||!a.value||y(a.value)&&o("loadMore")},200);function y(d){const p=d.getBoundingClientRect();return p.top-window.innerHeight<window.innerHeight&&p.bottom>=0}return t.autoLoad&&(xe("scroll",v,{capture:!1,passive:!0}),v()),(d,p)=>Q((l(),r("div",{ref_key:"el",ref:a,class:"container load-more-container"},[Q(s("button",{type:"button",class:"text",disabled:!u.value,onClick:p[0]||(p[0]=g=>o("loadMore")),innerHTML:i.value},null,8,Ry),[[ae,i.value]])],512)),[[ae,e.hasMorePages]])}},qy={key:0,style:{"padding-top":"6px"}},Yy=["innerHTML"],Gy={__name:"SearchLockedMessage",props:{message:String},setup(e){return(n,t)=>(l(),r("div",{class:P(["search-block active-links search-locked",{"logged-in":c(X)}])},[s("button",{type:"button",class:"large-pill blue with-icon",onClick:t[0]||(t[0]=(...o)=>c(on)&&c(on)(...o))},[b(Cn),D(" Search is exclusive for members ")]),c(X)?h("",!0):(l(),r("small",qy,[D("Already a member, "),s("a",{href:"/login",onClick:t[1]||(t[1]=N((...o)=>c(Ve)&&c(Ve)(...o),["prevent"]))},"login here")])),s("p",{class:"search-message margin-top- padding-top-4",innerHTML:e.message},null,8,Yy)],2))}},Qs=f(0),Qn=()=>{Qs.value++},Xs=()=>{Qn(),setTimeout(Qn,500),setTimeout(Qn,1e3)};function Ky(e){const n=f(null),t=f(!1),o=f(!1),a=f(!1),i=f(!1),u=dt(()=>{if(!n.value)return;const d=ea(n,e);t.value=d.isVisible,o.value=d.isInside,a.value=d.isOverflowY,e!=null&&e.debug&&console.log("in viewport",d,n.value.getBoundingClientRect())}),v={capture:!1,passive:!0},y=()=>{i.value=!0,e!=null&&e.ready?t.value=!0:(window.addEventListener("scroll",u,v),u())};return $e(()=>{var d;Xs(),(d=e==null?void 0:e.video)!=null&&d.value?e.video.value.addEventListener("canplay",y):Xl(n.value,y)}),Ct(()=>{window.removeEventListener("scroll",u,v)}),U(Qs,()=>{!(e!=null&&e.ready)&&i.value&&u()}),{el:n,isVisible:t,isInside:o,isOverflowY:a,loaded:i}}Me.registerPlugin(ho);function Vo(e){const n=f(null),t=f(0),o=f(!1);e={self:!1,scrollOnOpen:!1,scrollOnOpenOffsetMobile:0,scrollOnOpenOffset:0,scrollOnClose:!1,scrollOnCloseOffsetMobile:"center",scrollOnCloseOffset:"center",...e};const a=dt(()=>{n.value&&(e.self?t.value=n.value.offsetHeight:t.value=Ql(n.value.children))}),i=()=>{Be(()=>{a(),ko(n.value,a)}),setTimeout(a,500),setTimeout(a,1e3),setTimeout(a,5e3)};$e(()=>{i(),window.addEventListener("orientationchange",a),ke||window.addEventListener("resize",a)}),Ct(()=>{window.removeEventListener("orientationchange",a),ke||window.removeEventListener("resize",a)});function u(g){return g==="center"?window.innerHeight/2:0}const v=()=>{Be(()=>{Xs(),o.value&&e.scrollOnOpen&&Me.to(window,{duration:.84,scrollTo:{autoKill:!1,y:c(e.scrollOnOpenRef||n),offsetY:u(O.mobile?e.scrollOnOpenOffsetMobile:e.scrollOnOpenOffset)}}),!o.value&&e.scrollOnClose&&Me.to(window,{duration:.84,scrollTo:{autoKill:!1,y:c(e.scrollOnCloseRef||n),offsetY:u(O.mobile?e.scrollOnCloseOffsetMobile:e.scrollOnCloseOffset)}})})};return{content:n,height:t,refresh:a,refreshOnImagesLoaded:i,isExpanded:o,toggle:()=>{o.value=!o.value,v()},open:()=>{o.value=!0,v()},close:()=>{o.value=!1,v()}}}const Zy={},Wy={xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 32 32",class:"icon settings-icon"},Jy=s("path",{d:"M30 8h-4.1c-.5-2.3-2.5-4-4.9-4s-4.4 1.7-4.9 4H2v2h14.1c.5 2.3 2.5 4 4.9 4s4.4-1.7 4.9-4H30V8zm-9 4c-1.7 0-3-1.3-3-3s1.3-3 3-3 3 1.3 3 3-1.3 3-3 3zM2 24h4.1c.5 2.3 2.5 4 4.9 4s4.4-1.7 4.9-4H30v-2H15.9c-.5-2.3-2.5-4-4.9-4s-4.4 1.7-4.9 4H2v2zm9-4c1.7 0 3 1.3 3 3s-1.3 3-3 3-3-1.3-3-3 1.3-3 3-3z"},null,-1),Qy=s("title",null,"Settings",-1),Xy=[Jy,Qy];function e0(e,n){return l(),r("svg",Wy,Xy)}const t0=te(Zy,[["render",e0]]),n0=s("div",{class:"label"}," size ",-1),o0={class:"text"},s0=s("div",{class:"label"}," animated posters ",-1),l0={class:"text"},a0={class:"popup-warning active-links"},i0=s("small",null,"To use the view options login or create a free account",-1),zt={__name:"ViewOptions",props:{for:String,animated:{type:Boolean,default:!0}},setup(e){const n=e,t=f(!1),o=f(!1),a=f(null),i=f(null),{offset:u,neverOpened:v}=ln({isOpen:o,popup:a,button:i});function y(){X.value?t.value=!t.value:o.value=!0}const d=T(()=>{switch(n.for){case"profiles":return Ki;case"profiles-photos":return Zi;case"collections":return Wi}return Gi}),p=T(()=>{switch(n.for){case"profiles":return ye.value.sizeProfiles;case"profiles-photos":return ye.value.sizeProfilesPhotos;case"collections":return ye.value.sizeCollections}return ye.value.size});return xe(document.body,"click",()=>{t.value=!1,o.value=!1}),(g,m)=>(l(),r("div",{class:P(["view-options",{open:t.value}])},[s("button",{ref_key:"button",ref:i,type:"button",class:"settings-toggle",onClick:N(y,["stop"])},[b(t0)],512),s("button",{type:"button",class:"toggle text-toggle",onClick:m[0]||(m[0]=N((...$)=>d.value&&d.value(...$),["stop"]))},[n0,s("small",o0,E(p.value),1)]),e.animated?(l(),r("button",{key:0,type:"button",class:"toggle text-toggle",onClick:m[1]||(m[1]=N((...$)=>c(Zo)&&c(Zo)(...$),["stop"]))},[s0,s("small",l0,E(c(Ji)),1)])):h("",!0),s("div",{ref_key:"popup",ref:a,class:P(["popup bottom",[{open:o.value,"never-opened":c(v)}]]),style:we({"--offset":`${c(u)}px`})},[s("div",a0,[i0,s("button",{class:"popup-pill no-icon blue",type:"button",onClick:m[2]||(m[2]=(...$)=>c(Ve)&&c(Ve)(...$))}," Login ")])],6)],2))}},r0={class:"tag-filters"},u0={key:0,class:"filters"},c0=["onClick","innerHTML"],d0={class:"toolbar-view-options"},v0={key:1,class:"spacer"},f0=["aria-label","onClick","innerHTML"],el={__name:"TagFilters",props:hs({filters:Array,disable:Boolean,openOnQuery:Boolean,removeOnClose:Boolean,singleOnly:Boolean,withSearch:Boolean,withViewOptions:String,viewOptionsAnimated:Boolean,scrollTo:null},{modelValue:{},modelModifiers:{},q:{},qModifiers:{}}),emits:["update:modelValue","update:q"],setup(e,{expose:n}){const t=e,o=kn(e,"modelValue"),a=kn(e,"q");n({toggleTag:d});const i={},u=f(null),v=T(()=>t.filters.find(_=>_.key===u.value));for(const _ of t.filters){const M=pn(_.key),A=f(M.value?String(M.value).split(","):[]);t.openOnQuery&&A.value.length&&(u.value=_.key),Qt(()=>{M.value=A.value.length?A.value.join(","):void 0}),i[_.key]={activeTags:A,queryTags:M}}function y(_){_.toggle?(d({key:"1",label:_.label,filterKey:_.key}),i[_.key].activeTags.value.length&&(u.value=_.key)):(t.removeOnClose&&u.value===_.key&&(i[_.key].activeTags.value=[],g()),u.value=u.value===_.key?null:_.key)}function d({key:_,filterKey:M,allowMultiple:A}){if(t.singleOnly)for(const x of Object.keys(i))x!==M&&(i[x].activeTags.value=[]);let w=i[M].activeTags.value;w=[...new Set(w)];const L=w.findIndex(x=>x===_);A?L>=0?w.splice(L,1):w.push(_):(w=[],L===-1&&w.push(_)),i[M].activeTags.value=w,g()}const p=Vo({self:!0});U(u,p.refreshOnImagesLoaded);function g(){var M;const _=[];for(const A of t.filters)for(const w of i[A.key].activeTags.value)_.push({key:w,label:((M=A==null?void 0:A.tags)==null?void 0:M[w])||A.label,filterKey:A.key,allowMultiple:A.allowMultiple,toggle:A.toggle});(_.length||o.value.length)&&(o.value=_)}t.filters.length===1&&(u.value=t.filters[0].key),g();const m=f(!!a.value),$=f(null);async function k(){m.value||(m.value=!0,await Be(),$.value.focus())}function S(){a.value="",m.value=!1}return xe(document.body,"click",()=>{a.value===""&&(m.value=!1)}),$e(async()=>{await Be(),t.scrollTo&&U([o,a],()=>{Me.to(window,{duration:.84,ease:"Power2.easeInOut",scrollTo:{autoKill:!0,y:_n(t.scrollTo),offsetY:O.mobile?59:44}})})}),(_,M)=>{var A;return l(),r("div",r0,[e.filters.length>1?(l(),r("div",u0,[(l(!0),r(Y,null,J(e.filters,w=>(l(),r("button",{key:w.key,class:P(["tag",{active:!w.toggle&&u.value===w.key||w.toggle&&i[w.key].activeTags.value.length,"fully-disable":e.disable&&w.toggle}]),onClick:L=>y(w),innerHTML:w.label},null,10,c0))),128)),e.withSearch?(l(),r("div",{key:0,class:P(["toolbar-search",{open:m.value,active:!!a.value}]),onClick:N(k,["stop"])},[Q(s("input",{ref_key:"searchInput",ref:$,"onUpdate:modelValue":M[0]||(M[0]=w=>a.value=w),type:"search",class:"input transparent",autocomplete:"off",autocorrect:"off",autocapitalize:"off",spellcheck:"false"},null,512),[[Hn,a.value]]),s("div",{class:"clear",onClick:N(S,["stop"])},[b(Nt)]),b(Cn)],2)):h("",!0),s("div",d0,[e.withViewOptions?(l(),H(zt,{key:0,for:e.withViewOptions,animated:e.viewOptionsAnimated},null,8,["for","animated"])):h("",!0)])])):(l(),r("div",v0)),s("div",{class:P(["sub-filters-wrap",{active:Object.keys(((A=v.value)==null?void 0:A.tags)||{}).length>0}]),style:we({"--h":`${c(p).height.value}px`})},[s("div",{ref:c(p).content,class:"sub-filters"},[b(Xt,{name:"list"},{default:se(()=>{var w;return[(l(!0),r(Y,null,J(((w=v.value)==null?void 0:w.tags)||[],(L,x)=>(l(),r("button",{key:x,class:P(["tag",[u.value,L==null?void 0:L.tooltipClass,{active:i[u.value].activeTags.value.indexOf(x)>=0,"fully-disable":e.disable,"hint--bottom hint--large":(L==null?void 0:L.tooltip)&&!(L!=null&&L.tooltipClass)}]]),"aria-label":(L==null?void 0:L.tooltip)||null,onClick:G=>d({key:x,filterKey:u.value,allowMultiple:v.value.allowMultiple}),innerHTML:(L==null?void 0:L.label)||L},null,10,f0))),128))]}),_:1})],512)],6)])}}},p0={mixins:[Un],props:{min:{type:Number,default:null},max:{type:Number,default:null},step:{type:Number,default:null}},setup(e,{emit:n}){return{...jt({props:e,emit:n,valueIn:t=>+t||"",valueOut:t=>+t})}}},h0=["for","innerHTML"],m0=["innerHTML"],g0={class:"field-input-row"},y0=["innerHTML"],_0=["id","value","name","required","disabled","autocomplete","min","max","step"],$0=["innerHTML"];function k0(e,n,t,o,a,i){return l(),r("div",{class:P(["field number-field",[e.classes,{active:!!e.modelValue,error:e.errorField&&e.errorField===e.name,"with-instructions":!!e.instructions}]])},[e.labelComputed?(l(),r("label",{key:0,for:e.uniqueId,innerHTML:e.labelComputed},null,8,h0)):h("",!0),e.instructions?(l(),r("h6",{key:1,class:"instructions",innerHTML:e.instructions},null,8,m0)):h("",!0),s("div",g0,[e.prepend?(l(),r("div",{key:0,class:"field-input-prepend",innerHTML:e.prepend},null,8,y0)):h("",!0),s("input",{id:e.uniqueId,value:e.value,name:e.name,class:"field-input",type:"number",required:e.required,disabled:e.disabled?e.disabled:null,autocomplete:e.autocomplete?e.autocomplete:null,autocorrect:"off",spellcheck:"false",min:t.min,max:t.max,step:t.step,onInput:n[0]||(n[0]=(...u)=>e.onInput&&e.onInput(...u)),onBlur:n[1]||(n[1]=(...u)=>e.onBlur&&e.onBlur(...u)),onFocus:n[2]||(n[2]=(...u)=>e.onFocus&&e.onFocus(...u))},null,40,_0),e.append?(l(),r("div",{key:1,class:"field-input-append",innerHTML:e.append},null,8,$0)):h("",!0)])],2)}const $t=te(p0,[["render",k0]]),b0={class:"color-field"},w0=s("label",null,"RGB",-1),M0={class:"color-field-numbers"},T0={__name:"RgbField",props:{modelValue:null},emits:["update:modelValue"],setup(e,{emit:n}){const t=e,o=n,{modelValue:a}=ms(t),i=f(0),u=f(0),v=f(0);return U(a,()=>{var y,d,p;i.value=((y=a.value)==null?void 0:y.r)||0,u.value=((d=a.value)==null?void 0:d.g)||0,v.value=((p=a.value)==null?void 0:p.b)||0},{immediate:!0}),U([i,u,v],()=>{o("update:modelValue",{r:+i.value,g:+u.value,b:+v.value})}),(y,d)=>(l(),r("div",b0,[w0,s("div",M0,[b($t,{modelValue:i.value,"onUpdate:modelValue":d[0]||(d[0]=p=>i.value=p),min:0,max:255,step:1},null,8,["modelValue"]),b($t,{modelValue:u.value,"onUpdate:modelValue":d[1]||(d[1]=p=>u.value=p),min:0,max:255,step:1},null,8,["modelValue"]),b($t,{modelValue:v.value,"onUpdate:modelValue":d[2]||(d[2]=p=>v.value=p),min:0,max:255,step:1},null,8,["modelValue"])])]))}},L0={class:"color-field"},C0=s("label",null,"CMYK",-1),A0={class:"color-field-numbers"},S0={__name:"CmykField",props:{modelValue:null},emits:["update:modelValue"],setup(e,{emit:n}){const t=e,o=n,{modelValue:a}=ms(t),i=f(0),u=f(0),v=f(0),y=f(0);return U(a,()=>{var d,p,g,m;i.value=((d=a.value)==null?void 0:d.c)||0,u.value=((p=a.value)==null?void 0:p.m)||0,v.value=((g=a.value)==null?void 0:g.y)||0,y.value=((m=a.value)==null?void 0:m.k)||0},{immediate:!0}),U([i,u,v,y],()=>{o("update:modelValue",{c:+i.value,m:+u.value,y:+v.value,k:+y.value})}),(d,p)=>(l(),r("div",L0,[C0,s("div",A0,[b($t,{modelValue:i.value,"onUpdate:modelValue":p[0]||(p[0]=g=>i.value=g),min:0,max:100,step:1},null,8,["modelValue"]),b($t,{modelValue:u.value,"onUpdate:modelValue":p[1]||(p[1]=g=>u.value=g),min:0,max:100,step:1},null,8,["modelValue"]),b($t,{modelValue:v.value,"onUpdate:modelValue":p[2]||(p[2]=g=>v.value=g),min:0,max:100,step:1},null,8,["modelValue"]),b($t,{modelValue:y.value,"onUpdate:modelValue":p[3]||(p[3]=g=>y.value=g),min:0,max:100,step:1},null,8,["modelValue"])])]))}},P0={class:"color-fields"},x0={__name:"ColorPill",props:{color:String,index:Number},emits:["change","remove"],setup(e,{emit:n}){const t=e,o=n,a=ht(t,"color"),i=f(!0),u=f(null),v=f(null),{offset:y,neverOpened:d,refresh:p}=ln({isOpen:i,popup:u,button:v}),g=L=>{i.value=!0,L.stopPropagation(),L.preventDefault()},m=L=>{L.preventDefault(),L.stopPropagation()},$=()=>{i.value=!0,o("remove",t.color)},k=f(null),S=f(null),_=f(null);let M=null;const A=L=>{M&&clearTimeout(M),L||(L=""),L=L.toLowerCase().replace("#",""),M=setTimeout(()=>{o("change",t.index,L)},200)};U(a,()=>{if(!a.value)return;const L=ct.hex.rgb(a.value);S.value={r:L[0],g:L[1],b:L[2]};const x=ct.hex.cmyk(a.value);_.value={c:x[0],m:x[1],y:x[2],k:x[3]}},{immediate:!0}),U(S,()=>{if(!S.value)return;const L=ct.rgb.hex(S.value.r,S.value.g,S.value.b);A(L)}),U(_,()=>{if(!_.value)return;const L=ct.cmyk.hex(_.value.c,_.value.m,_.value.y,_.value.k);A(L)});let w;return $e(()=>{w=new dn.ColorPicker(k.value,{width:260,color:`#${t.color}`,layout:[{component:dn.ui.Slider,options:{sliderType:"hue"}},{component:dn.ui.Slider,options:{sliderType:"saturation"}},{component:dn.ui.Slider,options:{sliderType:"value"}}]}),w.on("input:change",x=>{A(x.hexString)});const L=x=>{x.stopPropagation(),x.preventDefault(),i.value=!0};w.on("input:start",x=>{document.body.addEventListener("click",L)}),w.on("input:end",x=>{setTimeout(()=>{document.body.removeEventListener("click",L)},100)})}),U(a,()=>{w&&w.setColors([a.value])}),(L,x)=>(l(),r("div",{class:"popup-wrap color-pill-wrap",onClick:m},[s("div",{ref_key:"button",ref:v,class:"color-pill",style:we({backgroundColor:`#${a.value}`}),onClick:g},[s("button",{class:"color-pill-close",type:"button",onClick:N($,["stop","prevent"])})],4),s("div",{ref_key:"popup",ref:u,class:P(["popup flex",[{top:c(O).mobile,bottom:!c(O).mobile,open:i.value,"never-opened":c(d)}]]),style:we({"--offset":`${c(y)}px`})},[s("div",{ref_key:"colorPickerRef",ref:k},null,512),s("div",P0,[b(T0,{modelValue:S.value,"onUpdate:modelValue":x[0]||(x[0]=G=>S.value=G)},null,8,["modelValue"]),b(S0,{modelValue:_.value,"onUpdate:modelValue":x[1]||(x[1]=G=>_.value=G)},null,8,["modelValue"])]),s("button",{type:"button",class:"text-only",style:{"font-size":"13px"},onClick:N($,["stop","prevent"])}," × remove color ")],6)]))}},H0={class:"search-header"},I0={key:0,class:"search-area wait"},E0={class:"search-block"},B0={class:"search-field-wrap"},V0={class:"field search-field"},O0=s("input",{type:"search",class:"field-input locked",autocomplete:"off",autocorrect:"off",autocapitalize:"off",spellcheck:"false",placeholder:"loading…"},null,-1),F0=["innerHTML"],N0=s("small",{class:"search-caption"}," ",-1),D0={key:1,class:"search-area"},U0={key:1,class:"search-block fix-mobile-offset"},z0={class:"search-field-wrap"},j0=["innerHTML"],R0=["innerHTML"],q0=["onClick","innerHTML"],Qe={__name:"Archive",setup(e){var I,V,R,K,q;const n=f(!1),t=(I=re.value.archive)==null?void 0:I.filters,o=f([]),a=f(null),i=T(()=>o.value.find(pe=>pe.filterKey==="photos")?"photos":null),u=T(()=>!!o.value.find(pe=>pe.filterKey==="animated")),{q:v,colors:y,setColor:d,changeColor:p,currentItems:g,currentPage:m,itemsPerPage:$,loadMore:k,tryToLoadMore:S,hasMorePages:_,message:M,caption:A,isSearching:w,isLoading:L,setSearchHandler:x,targetRequestId:G}=Nn({intent:"posters",features:{q:!0,colors:!0,filters:!0},items:(R=(V=re.value.archive)==null?void 0:V.recents)==null?void 0:R.hits,total:(q=(K=re.value.archive)==null?void 0:K.recents)==null?void 0:q.total,activeTags:o,layout:i}),ie=f(i.value);U([i,L],()=>{L.value||(ie.value=i.value)});const W=["primary","secondary","tertiary","quaternary","quinary"],z=f(0),ue=T(()=>z.value<W.length-1);U([y,y.value,v],()=>{z.value=0});const F={continent:"locations.continentCode",country:"locations.countryCode","print-process":"printProcess",format:"size",year:"year",tag:"tag",category:"category",animated:"animated",awarded:"awarded",series:"series",photos:"photos"};function B(pe){var Le;const me={page:m.value,hitsPerPage:$.value,analytics:Tt,clickAnalytics:Tt};(Le=C.value)!=null&&Le.id&&(me.userToken=C.value.id);let ne=[];if(ne.push("status:public"),ne.push("isCrosslink:false"),o.value.length){const le={};for(const ve of o.value)le[ve.filterKey]||(le[ve.filterKey]=[]),le[ve.filterKey].push(ve.key),ve.filterKey==="print-process"&&ve.key==="silkscreen"&&le[ve.filterKey].push("silkscreen-on-offset","silkscreen-on-digital");for(const ve in le)if(F[ve])switch(F[ve]){case"animated":ne.push("withAnimated:true");break;case"awarded":ne.push("withAwards:true");break;case"series":ne.push("withSeries:true");break;case"photos":ne.push("withPhotos:true");break;case"tag":{const he=[].concat(le[ve].map(Te=>`tags:"${Te}"<score=2>`),le[ve].map(Te=>`autoTags:"${Te}"<score=2>`),le[ve].map(Te=>`visionLabels:"${Te}"<score=1>`),le[ve].map(Te=>`visionLogo:"${Te}"<score=1>`),le[ve].map(Te=>`visionLandmark:"${Te}"<score=1>`),le[ve].map(Te=>`visionWeb:"${Te}"<score=1>`),le[ve].map(Te=>`visionObjects:"${Te}"<score=1>`));ne.push(he.join(" OR "))}break;default:ne.push(le[ve].map(he=>`${F[ve]}:"${he}"`).join(" OR "));break}}if(y.value.length)for(let le=0;le<y.value.length;le++){const ve=y.value[le],he=ct.hex.lab(ve),Ye=he[1]===0&&he[2]===0?10:20,je=20;if(le===0){const At=`(colors.${pe}.lab.l:${he[0]-Ye} TO ${he[0]+Ye} AND colors.${pe}.lab.a:${he[1]-je} TO ${he[1]+je} AND colors.${pe}.lab.b:${he[2]-je} TO ${he[2]+je})`;ne.push(At)}else ne.push(`(labColors.l:${he[0]-Ye} TO ${he[0]+Ye} AND labColors.a:${he[1]-je} TO ${he[1]+je} AND labColors.b:${he[2]-je} TO ${he[2]+je})`)}return ne=ne.join(" AND "),{...me,filters:ne.length?ne:void 0}}return x(async pe=>{var me,ne,Le,le;if(w.value&&wn.value){n.value=!0;const ve=wn.value;try{let he;if(y.value.length){for(he={hits:[],nbHits:0},(z.value===0||_.value)&&(he=await ve.search(v==null?void 0:v.value,B(W[z.value])));he.hits.length===0&&ue.value;)m.value=0,he=await ve.search(v==null?void 0:v.value,B(W[++z.value]));he.hits.length<$.value&&ue.value&&setTimeout(()=>{pe===G.value&&k()},50)}else he=await ve.search(v==null?void 0:v.value,B());return he}catch{return null}}if(m.value===0)return{hits:(ne=(me=re.value.archive)==null?void 0:me.recents)==null?void 0:ne.hits,total:(le=(Le=re.value.archive)==null?void 0:Le.recents)==null?void 0:le.total};try{return await Ee(`/api/tg/posters-recent?page=${m.value}&itemsPerPage=${$.value}`)}catch{return null}}),(pe,me)=>(l(),r("div",{class:P(["poster-archive",{"options-with-search":!c(Oe)||c(tt),"options-outside":c(Oe)&&!c(tt)}])},[s("div",H0,[b(Dy,{onColor:c(d)},null,8,["onColor"]),b(el,{ref_key:"tagFilters",ref:a,modelValue:o.value,"onUpdate:modelValue":me[0]||(me[0]=ne=>o.value=ne),disable:!c(tt),filters:c(t),"view-options-animated":!0},null,8,["modelValue","disable","filters"]),!c(Oe)&&!c(tt)?(l(),r("div",I0,[s("div",E0,[s("div",B0,[s("div",V0,[O0,b(Cn)])]),s("p",{class:"search-message",innerHTML:c(M)},null,8,F0),N0]),b(zt)])):(l(),r("div",D0,[c(tt)?h("",!0):(l(),H(Gy,{key:0,message:c(M)},null,8,["message"])),c(tt)?(l(),r("div",U0,[s("div",z0,[s("div",{class:P([{active:!!c(v)},"field search-field"])},[Q(s("input",{"onUpdate:modelValue":me[1]||(me[1]=ne=>en(v)?v.value=ne:null),type:"search",class:"field-input",autocomplete:"off",autocorrect:"off",autocapitalize:"off",spellcheck:"false"},null,512),[[Hn,c(v)]]),b(Cn)],2)]),s("p",{class:"search-message",innerHTML:c(M)},null,8,j0),s("small",{class:P(["search-caption",{active:c(A)}]),innerHTML:c(A)},null,10,R0)])):h("",!0),c(tt)?(l(),r("div",{key:2,class:P(["search-active-filters",{"with-colors":!!c(y).length}])},[b(Xt,{name:"list"},{default:se(()=>[(l(!0),r(Y,null,J(o.value,ne=>(l(),r("button",{key:ne.key,class:"tag",type:"button",onClick:Le=>a.value.toggleTag(ne),innerHTML:ne.label},null,8,q0))),128)),(l(!0),r(Y,null,J(c(y),(ne,Le)=>(l(),H(x0,{key:`c${Le}`,color:ne,index:Le,onChange:c(p),onRemove:c(d)},null,8,["color","index","onChange","onRemove"]))),128))]),_:1})],2)):h("",!0),c(X)?(l(),H(zt,{key:3})):h("",!0)]))]),b(qt,{items:c(g),layout:ie.value,size:c(ye).size,"force-animated":u.value,onEnd:c(S)},null,8,["items","layout","size","force-animated","onEnd"]),b(Yn,{"current-page":c(m),"has-more-pages":c(_)||!!(c(y).length&&ue.value),"is-loading":c(L),onLoadMore:c(S)},null,8,["current-page","has-more-pages","is-loading","onLoadMore"]),Q(b(qn,null,null,512),[[ae,!c(L)&&!c(_)&&c(g).length>4]])],2))}},Y0={class:"list-row"},G0={class:"arrow-icon"},K0=s("h1",{class:"arrow"}," → ",-1),Z0={class:"title"},W0={class:"col-12 col-md-1-5 list-item info"},J0={class:"col-12 col-md-1 list-item info"},Q0={key:0},X0={class:"col-12 col-md-1 list-item info"},e2=["innerHTML"],t2={class:"col-12 col-md-2 list-item info common-links"},n2=["href"],o2=Object.assign({inheritAttrs:!1},{__name:"ProfileListItem",props:{id:String,name:String,profilePicture:String,country:String,category:String,website:String,host:String,year:String},setup(e){return(n,t)=>{const o=fe("router-link");return t[0]||(Bt(-1),t[0]=s("article",{class:"profile-list-item",onMouseenter:a=>c(Se)({name:"profile",id:e.id})},[s("div",Y0,[b(o,{to:`/${e.id}`,class:"col-12 col-md-6 list-item name"},{default:se(()=>[s("div",G0,[K0,b(Ze,{classes:"large",name:e.name,"no-letters":!0,"image-path":e.profilePicture},null,8,["name","image-path"])]),s("h1",Z0,E(e.name),1)]),_:1},8,["to"]),s("div",W0,[s("h6",null,E(e.country),1)]),s("div",J0,[e.category?(l(),r("h6",Q0,E(e.category.replace("-"," ")),1)):h("",!0)]),s("div",X0,[s("h6",{innerHTML:e.year},null,8,e2)]),s("div",t2,[s("h6",null,[e.website?(l(),r("a",{key:0,href:e.website,target:"_blank",rel:"noopener"},E(e.host),9,n2)):h("",!0)])])])],40,["onMouseenter"]),Bt(1),t[0])}}}),s2=["innerHTML"],xt={__name:"SortToggle",props:{name:String,id:String,modelValue:{type:Object,required:!0},noDisable:Boolean,multiple:Boolean},emits:["update:modelValue"],setup(e,{emit:n}){const t=e,o=n,a=ht(t,"modelValue"),i=()=>{if(!t.multiple)for(const u in a.value)u!==t.id&&(a.value[u]=0);a.value[t.id]===1?a.value[t.id]=-1:a.value[t.id]===-1&&!t.noDisable?a.value[t.id]=0:a.value[t.id]=1,o("update:modelValue",a.value)};return(u,v)=>(l(),r("button",{type:"button",class:P(["list-toggle",{active:a.value[e.id],down:a.value[e.id]===1,up:a.value[e.id]===-1}]),onClick:i},[s("span",{class:"sort-arrow",innerHTML:e.name},null,8,s2)],2))}},l2={class:"list-item icon"},a2={class:"list-item name"},i2={class:"title"},r2={class:"list-item country"},u2={class:"country-text"},c2=Object.assign({inheritAttrs:!1},{__name:"ProfileListItemMobile",props:{id:String,name:String,profilePicture:String,country:String,category:String,website:String,host:String,year:String},setup(e){return(n,t)=>{const o=fe("router-link");return t[0]||(Bt(-1),t[0]=s("article",{class:"profile-list-item-mobile"},[b(o,{to:`/${e.id}`,class:"list-row"},{default:se(()=>[s("div",l2,[b(Ze,{name:e.name,"no-letters":!0,"image-path":e.profilePicture},null,8,["name","image-path"])]),s("div",a2,[s("h1",i2,E(e.name),1)]),s("div",r2,[s("h6",u2,E(e.country),1)])]),_:1},8,["to"])]),Bt(1),t[0])}}}),d2=["innerHTML"],v2={key:0,class:"active-links padding-bottom-1"},f2=s("a",{href:"/login"},"login to enable",-1),tl={__name:"ProfileArchiveToolbar",props:hs({filters:Array||null,withSearch:Boolean,withViewOptions:String,viewOptionsAnimated:Boolean,message:String},{tags:{},tagsModifiers:{},q:{},qModifiers:{}}),emits:["update:tags","update:q"],setup(e){const n=kn(e,"tags"),t=kn(e,"q"),o=f(null);function a($){X.value||($.stopPropagation(),$.preventDefault(),Ve())}const{directions:i}=Il(window),u=f(!1),v=f(!1),y=T(()=>i.top||u.value||v.value);function d(){u.value=!0}function p(){u.value=!1}let g=null;function m(){g&&clearTimeout(g),g=setTimeout(()=>{v.value=!1},1e3),v.value=!0}return($,k)=>(l(),r("span",{ref_key:"toolbar",ref:o},[s("div",{class:P(["profile-archive-toolbar",{"login-lock":!c(X)}]),onClick:a,onMouseenter:d,onMouseleave:p,onTouchstart:m,onTouchend:m},[s("div",{class:P(["pills",{wait:!c(Oe)}])},[e.filters?(l(),H(el,{key:0,modelValue:n.value,"onUpdate:modelValue":k[0]||(k[0]=S=>n.value=S),q:t.value,"onUpdate:q":k[1]||(k[1]=S=>t.value=S),disable:!c(Oe),filters:e.filters,"open-on-query":!0,"remove-on-close":!0,"single-only":!0,"with-search":!0,"with-view-options":e.withViewOptions,"view-options-animated":e.viewOptionsAnimated,"scroll-to":o.value},null,8,["modelValue","q","disable","filters","with-view-options","view-options-animated","scroll-to"])):h("",!0)],2),s("div",{class:P(["toolbar-bkg",{active:y.value}])},null,2)],34),s("div",{class:"toolbar-message",onClick:a},[s("p",{class:"message",innerHTML:e.message},null,8,d2),c(X)?h("",!0):(l(),r("small",v2,[D("search is open, "),f2]))])],512))}},p2=["innerHTML"],h2=["innerHTML"],m2={class:"caption"},g2=["innerHTML"],y2=["href","innerHTML"],_2={__name:"ProfilePhotoItem",props:{profile:Object},setup(e){const n=e,t=wt(n.profile);function o(a){a.metaKey&&(a.shiftKey||a.altKey)&&(Pe.value||ks(n.profile.id))&&(window.open(`/author-area/${n.profile.id}/profile`,"_blank").focus(),a.preventDefault())}return(a,i)=>{const u=fe("router-link");return i[0]||(Bt(-1),i[0]=s("article",{class:"profile-photo-item",onMouseenter:v=>c(Se)({name:"profile",id:e.profile.id})},[b(u,{to:`/${e.profile.id}`,class:"link",onClick:o},{default:se(()=>[s("div",{class:"photo",innerHTML:c(Hs)(e.profile)},null,8,p2),s("h1",{class:"name",innerHTML:e.profile.name},null,8,h2)]),_:1},8,["to"]),s("small",m2,[c(t)?(l(),r("span",{key:0,innerHTML:c(t)},null,8,g2)):h("",!0),e.profile.website?(l(),r("a",{key:1,class:P(["site common-link",{spacer:!!c(t)}]),href:e.profile.website,target:"_blank",rel:"noopener",innerHTML:c(wo)(e.profile.website)},null,10,y2)):h("",!0)])],40,["onMouseenter"]),Bt(1),i[0])}}},$2={key:1,class:"padding-bottom-3 padding-top-2 profiles-list-wrap"},k2={key:0,class:"profile-list-item-mobile"},b2={class:"list-row header"},w2=s("div",{class:"list-item icon"},null,-1),M2={class:"list-item name"},T2={class:"list-item country"},L2={key:1,class:"profile-list-item"},C2={class:"list-row header"},A2={class:"col-12 col-md-6 list-item name"},S2=s("div",{class:"arrow-icon"},null,-1),P2={class:"col-12 col-md-1-5 list-item"},x2={class:"col-12 col-md-1 list-item"},H2={class:"col-12 col-md-1 list-item"},I2=s("div",{class:"col-12 col-md-2 list-item"},[s("small",null,"Website")],-1),E2={__name:"ProfilesList",setup(e){var G,ie,W,z,ue;const n=(G=re.value.profiles)==null?void 0:G.filters,t=f([]),o=T(()=>t.value.find(F=>F.filterKey==="studio-photos")?"photos":null),{q:a,currentItems:i,currentPage:u,itemsPerPage:v,tryToLoadMore:y,hasMorePages:d,message:p,isSearching:g,isLoading:m,setSearchHandler:$}=Nn({intent:"profiles",features:{q:!0,filters:!!n},items:(W=(ie=re.value.profiles)==null?void 0:ie.az)==null?void 0:W.hits,total:(ue=(z=re.value.profiles)==null?void 0:z.az)==null?void 0:ue.total,layout:o,activeTags:t}),k=f(o.value);U([o,m],()=>{m.value||(k.value=o.value)});const S=T(()=>!a.value&&t.value.length===1&&["studio-photos"].includes(t.value[0].filterKey)),_={continent:"locations.continentCode",country:"locations.countryCode",category:"category","studio-photos":"studio-photos"};function M(){var I;const F={page:u.value,hitsPerPage:v.value,analytics:Tt,clickAnalytics:Tt};(I=C.value)!=null&&I.id&&(F.userToken=C.value.id);let B=[];if(t.value.length){const V={};for(const R of t.value)V[R.filterKey]||(V[R.filterKey]=[]),V[R.filterKey].push(R.key),R.filterKey==="category"&&R.key==="other"&&V[R.filterKey].push("music-venue","museum","art-gallery","cultural-center","project","education","festival");for(const R in V)if(_[R])switch(_[R]){case"studio-photos":B.push("withStudioPhoto:true");break;default:B.push(V[R].map(K=>`${_[R]}:"${K}"`).join(" OR "));break}}return B=B.join(" AND "),{...F,filters:B||void 0}}$(async()=>{var F,B,I,V;if(g.value)try{return S.value?await Ee(`/api/tg/profiles-az?page=${u.value}&itemsPerPage=${v.value}&withStudioPhoto=1`):await lo.value.search(a==null?void 0:a.value,M())}catch{return null}if(u.value===0)return{hits:(B=(F=re.value.profiles)==null?void 0:F.az)==null?void 0:B.hits,total:(V=(I=re.value.profiles)==null?void 0:I.az)==null?void 0:V.total};try{return await Ee(`/api/tg/profiles-az?page=${u.value}&itemsPerPage=${v.value}`)}catch{return null}});const A=f({id:0,country:0,category:0,year:0,host:0}),w=T(()=>i.value.concat().map(F=>(F.did||(F.did=!0,O.mobile?(F.country=wt(F),delete F.year,delete F.website,delete F.category):(F.year=La(F),F.country=wt(F),F.website=En(F.website),F.host=wo(F.website))),F))),L=T(()=>{const F=[],B=[];for(const V in A.value)if(A.value[V]){const R=A.value[V];F.push(K=>K[V]||(R===-1?"":"z")),B.push(R===-1?"desc":"asc")}return F.length?El(w.value,F,B):w.value}),x=T(()=>{const F=ye.value.sizeProfilesPhotos;if(O.mobile)return 1;switch(F){case"small":return 4;case"medium":return 3;case"large":return 2}return 3});return(F,B)=>(l(),r("div",null,[b(tl,{tags:t.value,"onUpdate:tags":B[0]||(B[0]=I=>t.value=I),q:c(a),"onUpdate:q":B[1]||(B[1]=I=>en(a)?a.value=I:null),filters:c(n),"with-search":!0,"with-view-options":o.value==="photos"?"profiles-photos":"","view-options-animated":!1,message:c(p)},null,8,["tags","q","filters","with-view-options","message"]),k.value==="photos"?(l(),r("div",{key:0,class:"padding-bottom-3 padding-top-2 profiles-studio-photos",style:we({"--columns":x.value})},[(l(!0),r(Y,null,J(c(i),I=>(l(),H(_2,{key:I.id+o.value,profile:I},null,8,["profile"]))),128))],4)):(l(),r("div",$2,[c(O).mobile?(l(),r("div",k2,[s("div",b2,[w2,s("div",M2,[b(xt,{id:"id",modelValue:A.value,"onUpdate:modelValue":B[2]||(B[2]=I=>A.value=I),name:"Name"},null,8,["modelValue"])]),s("div",T2,[b(xt,{id:"country",modelValue:A.value,"onUpdate:modelValue":B[3]||(B[3]=I=>A.value=I),name:"Country"},null,8,["modelValue"])])])])):(l(),r("div",L2,[s("div",C2,[s("div",A2,[S2,b(xt,{id:"id",modelValue:A.value,"onUpdate:modelValue":B[4]||(B[4]=I=>A.value=I),name:"Name"},null,8,["modelValue"])]),s("div",P2,[b(xt,{id:"country",modelValue:A.value,"onUpdate:modelValue":B[5]||(B[5]=I=>A.value=I),name:"Country"},null,8,["modelValue"])]),s("div",x2,[b(xt,{id:"category",modelValue:A.value,"onUpdate:modelValue":B[6]||(B[6]=I=>A.value=I),name:"Category"},null,8,["modelValue"])]),s("div",H2,[b(xt,{id:"year",modelValue:A.value,"onUpdate:modelValue":B[7]||(B[7]=I=>A.value=I),name:"Birth / Est. Date"},null,8,["modelValue"])]),I2])])),c(O).mobile?(l(),H(Xt,{key:2,name:"list"},{default:se(()=>[(l(!0),r(Y,null,J(L.value,I=>(l(),H(c2,$n({key:I.id},I),null,16))),128))]),_:1})):(l(),H(Xt,{key:3,name:"list"},{default:se(()=>[(l(!0),r(Y,null,J(L.value,I=>(l(),H(o2,$n({key:I.id},I),null,16))),128))]),_:1}))])),b(Yn,{"current-page":c(u),"has-more-pages":c(d),"is-loading":c(m),onLoadMore:c(y)},null,8,["current-page","has-more-pages","is-loading","onLoadMore"]),Q(b(qn,null,null,512),[[ae,!c(m)&&!c(d)&&c(i).length>100]])]))}},B2=["href"],V2={class:"collection-info"},O2={class:"collection-info-heading"},F2={class:"collection-titles"},N2={key:0,class:"collection-heading"},D2={class:"big"},U2={class:"collection-description"},z2=["innerHTML"],j2={key:0,class:"collection-arrow"},R2=s("span",{class:"arrow-text"},"→",-1),q2=s("span",{class:"arrow-close"},"×",-1),Y2=[R2,q2],G2={class:"collection-info-footer"},K2={key:0},Z2={key:1},W2={key:2,class:"collection-footer-links"},J2={key:0,class:"collection-summary"},Q2=["innerHTML"],X2={key:0,class:"arrow-text"},e_={key:1,class:"arrow-close"},t_={key:0,class:"padding-top-1"},Oo={__name:"MyCollection",props:{collection:Object,open:Boolean,noShare:Boolean,noUser:Boolean},emits:["deleted"],setup(e){const n=e,t=f(n.open),o=f(t.value),a=T(()=>t.value?[]:n.collection.posters.slice(0,10)),i=y=>{if(t.value){y.preventDefault();return}Ot(y)&&(o.value=!o.value)},u=f(null),v=()=>{u.value&&Me.to(window,{duration:.42,scrollTo:{autoKill:!1,y:u.value,offsetY:O.mobile?92:76}})};return U(o,()=>{o.value&&(setTimeout(v,50),setTimeout(v,700))}),(y,d)=>(l(),r("div",{ref_key:"wrap",ref:u,class:P(["my-collection white-theme margin-bottom-4",{active:o.value}])},[s("a",{href:t.value?"":c(ft)(e.collection),class:P(["collection-header",{active:o.value,"no-link":t.value}]),onClick:i},[s("div",V2,[s("div",O2,[s("div",F2,[e.collection.heading||Array.isArray(e.collection.tags)?(l(),r("p",N2,E(e.collection.heading?e.collection.heading:e.collection.tags.join(", ")),1)):h("",!0),s("h1",D2,E(e.collection.name),1)]),s("div",U2,[e.collection.description?(l(),r("p",{key:0,innerHTML:c(at)(e.collection.description)},null,8,z2)):h("",!0),e.noUser?h("",!0):(l(),H(Dt,{key:1,name:e.collection.userName,"profile-picture":e.collection.userProfilePicture,link:e.collection.userLink,small:!0,"no-pill":!0},null,8,["name","profile-picture","link"]))]),!e.open&&!c(O).mobile&&!c(O).md?(l(),r("div",j2,Y2)):h("",!0)]),s("div",G2,[e.collection.posters.length>0?(l(),r("small",K2,E(e.collection.posters.length)+" "+E(e.collection.posters.length>1?"posters":"poster"),1)):(l(),r("small",Z2,"no posters yet")),e.collection.status==="public"?(l(),r("div",W2,[b(an,{id:e.collection.id,target:"collections","text-and-icon":!0},null,8,["id"]),e.noShare?h("",!0):(l(),H(pt,{key:0,intent:"collection",position:"bottom",item:e.collection},null,8,["item"]))])):h("",!0)])]),!c(O).mobile&&!c(O).md?(l(),r("div",J2,[(l(!0),r(Y,null,J(a.value,p=>(l(),r("div",{key:p.id,class:"collection-summary-item"},[s("picture",{innerHTML:c(We)(p,"search")},null,8,Q2)]))),128))])):h("",!0)],10,B2),(c(O).mobile||c(O).md)&&!e.open?(l(),r("div",{key:0,class:"collection-arrow",onClick:i},[o.value?h("",!0):(l(),r("span",X2,"→")),o.value?(l(),r("span",e_,"×")):h("",!0)])):h("",!0),b(Vt,{name:"fade"},{default:se(()=>[o.value?(l(),r("div",t_,[b(qt,{items:e.collection.posters,"from-collection-id":e.collection.id,size:c(ye).sizeCollections,"bkg-gray-color":255},null,8,["items","from-collection-id","size"])])):h("",!0)]),_:1})],2))}},n_={class:"collections-header"},o_={class:"collections-tab-menu"},s_={key:0},l_={class:"no-flex"},a_={key:1,class:"split-baseline"},i_=s("div",{class:"share-spacer"},null,-1),r_={class:"no-flex"},u_=s("h1",null,"  /  ",-1),c_={key:1,class:"share-spacer"},d_={class:"collections-header-tools"},v_=["innerHTML"],nl={__name:"CollectionsHeader",props:{collections:[Array,null],message:String},setup(e){return(n,t)=>{var a,i,u,v;const o=fe("router-link");return l(),r("div",null,[s("div",n_,[s("div",o_,[c(O).mobile?(l(),r("div",s_,[s("h1",l_,[b(o,{to:"/collections"},{default:se(()=>[D(" Public Collections ")]),_:1})]),s("h1",{class:P(["padding-top-2 my-collections-tab-item",{"split-baseline":(a=e.collections)==null?void 0:a.length}]),style:we({paddingLeft:(i=e.collections)!=null&&i.length?"10px":0})},[b(o,{to:"/collections/my"},{default:se(()=>[D(" My Collections ")]),_:1}),(u=e.collections)!=null&&u.length?(l(),H(pt,{key:0,intent:"my-collections",position:"bottom",item:e.collections[0],"icon-only":!0},null,8,["item"])):h("",!0)],6)])):(l(),r("div",a_,[i_,s("h1",r_,[b(o,{to:"/collections"},{default:se(()=>[D(" Public Collections ")]),_:1})]),u_,s("h1",null,[b(o,{to:"/collections/my"},{default:se(()=>[D(" My Collections ")]),_:1})]),(v=e.collections)!=null&&v.length?(l(),H(pt,{key:0,intent:"my-collections",position:"bottom",item:e.collections[0],"icon-only":!0},null,8,["item"])):(l(),r("div",c_))]))]),s("div",d_,[b(zt,{for:"collections"})])]),e.message?(l(),r("small",{key:0,class:"search-message margin-bottom-2",innerHTML:e.message},null,8,v_)):h("",!0)])}}},f_={class:"collections-archive"},p_={__name:"CollectionsArchive",setup(e){var $,k,S,_;const{currentItems:n,currentPage:t,itemsPerPage:o,skip:a,loadMore:i,tryToLoadMore:u,hasMorePages:v,message:y,caption:d,isSearching:p,isLoading:g,setSearchHandler:m}=Nn({intent:"collections",items:(k=($=re.value.collections)==null?void 0:$.recents)==null?void 0:k.hits,total:(_=(S=re.value.collections)==null?void 0:S.recents)==null?void 0:_.total});return m(async M=>{var A,w,L,x,G,ie;if(t.value===0&&((w=(A=re.value.collections)==null?void 0:A.recents)!=null&&w.hits))return{hits:(x=(L=re.value.collections)==null?void 0:L.recents)==null?void 0:x.hits,total:(ie=(G=re.value.collections)==null?void 0:G.recents)==null?void 0:ie.total};try{return await Ee(`/api/tg/collections-recent?page=${t.value}&itemsPerPage=${o.value}`)}catch{return null}}),(M,A)=>(l(),r("div",f_,[b(nl,{message:c(y)},null,8,["message"]),(l(!0),r(Y,null,J(c(n),w=>(l(),H(Oo,{key:w.id,collection:w},null,8,["collection"]))),128)),b(Yn,{"current-page":c(t),"has-more-pages":c(v),"is-loading":c(g),onLoadMore:c(u)},null,8,["current-page","has-more-pages","is-loading","onLoadMore"]),Q(b(qn,null,null,512),[[ae,!c(g)&&!c(v)&&c(n).length>4]])]))}},h_={class:"container footer-collection"},m_=s("p",null," create your collection too! ",-1),g_={type:"button",class:"large-pill stateful with-icon"},ol={__name:"FooterCollection",setup(e){return(n,t)=>{const o=fe("router-link");return l(),r("div",h_,[m_,b(o,{to:"/archive"},{default:se(()=>[s("button",g_,[D(" Look for this icon "),b(Rn)])]),_:1})])}}},y_={class:"collections-header"},__={class:"collections-header-info"},$_={key:0,class:"flex-center"},k_=s("p",null,"You're viewing all posters collections of",-1),b_={key:1,class:"flex-center"},w_=s("p",null,"No public collections yet",-1),M_={key:0,class:"margin-bottom-5"},T_={__name:"MyPublicCollections",props:{id:String},setup(e){const n=e,t=re.value[`user-collections/${n.id}`];let o=t==null?void 0:t.collections;const a=t==null?void 0:t.userName,i=t==null?void 0:t.userProfilePicture;(!Array.isArray(o)||!o.length)&&(o=null);const u=T(()=>{var v;return(o==null?void 0:o.length)&&((v=C.value)==null?void 0:v.id)===o[0].userId});return(v,y)=>(l(),r("div",null,[s("div",y_,[s("div",__,[c(o)?(l(),r("div",$_,[k_,b(Dt,{name:c(a),"profile-picture":c(i)},null,8,["name","profile-picture"])])):(l(),r("div",b_,[w_,b(Dt,{name:c(a),"profile-picture":c(i)},null,8,["name","profile-picture"])]))])]),c(o)?(l(),r("div",M_,[(l(!0),r(Y,null,J(c(o),d=>(l(),H(Oo,{key:d.id,collection:d,"no-user":!0},null,8,["collection"]))),128))])):h("",!0),u.value?h("",!0):(l(),H(ol,{key:1}))]))}},L_={props:{label:{type:String,required:!0},submit:{type:Function,required:!0},confirmMessage:{type:String,default:"are you sure?"},confirmState:{type:String,default:""},waitMessage:{type:String,default:"wait..."},type:{type:String,default:null}},emits:["success","error"],setup(e,{emit:n}){const t=f(!1),o=f(!1),a=f(""),i=T(()=>!t.value),u=T(()=>t.value?e.waitMessage:o.value?e.confirmMessage:e.label);return{buttonReady:i,buttonLabel:u,confirm:o,handle:async()=>{if(i.value){if(a.value="",!o.value){o.value=!0;return}t.value=!0,o.value=!1;try{await e.submit(),n("success")}catch(y){a.value=Ue(y),n("error")}t.value=!1}},errorMessage:a,isLoading:t}}},C_={class:"button-confirm"},A_=["type","disabled","innerHTML"],S_=["innerHTML"];function P_(e,n,t,o,a,i){return l(),r("div",C_,[s("button",{type:t.type,disabled:!o.buttonReady,class:P(["button-confirm-btn",[`state-${t.confirmState}`,{confirm:o.confirm,wait:o.isLoading}]]),onClick:n[0]||(n[0]=N((...u)=>o.handle&&o.handle(...u),["stop","prevent"])),innerHTML:o.buttonLabel},null,10,A_),o.errorMessage?(l(),r("small",{key:0,class:"error-message",innerHTML:o.errorMessage},null,8,S_)):h("",!0)])}const x_=te(L_,[["render",P_]]),H_={},I_={focusable:"false",preserveAspectRatio:"xMidYMid meet",xmlns:"http://www.w3.org/2000/svg",width:"32",height:"32",viewBox:"0 0 32 32","aria-hidden":"true",class:"status-icon"},E_=s("circle",{cx:"16",cy:"25",r:"2"},null,-1),B_=s("path",{d:"m10.47 19.233 1.414 1.413a5.969 5.969 0 0 1 8.223-.009l1.413-1.413a7.963 7.963 0 0 0-11.05.01Z"},null,-1),V_=s("path",{d:"m6.229 14.993 1.414 1.413a11.955 11.955 0 0 1 16.704-.01l1.413-1.413a13.951 13.951 0 0 0-19.531.01Z"},null,-1),O_=s("path",{d:"M30 10.741a19.94 19.94 0 0 0-28 0v.023l1.404 1.404a17.934 17.934 0 0 1 25.181-.01L30 10.743Z"},null,-1),F_=s("title",null,"Public",-1),N_=[E_,B_,V_,O_,F_];function D_(e,n){return l(),r("svg",I_,N_)}const os=te(H_,[["render",D_]]),U_={},z_={focusable:"false",preserveAspectRatio:"xMidYMid meet",xmlns:"http://www.w3.org/2000/svg",width:"32",height:"32",viewBox:"0 0 32 32","aria-hidden":"true",class:"status-icon"},j_=s("path",{d:"M24 14h-2V8a6 6 0 00-12 0v6H8a2 2 0 00-2 2v12a2 2 0 002 2h16a2 2 0 002-2V16a2 2 0 00-2-2zM12 8a4 4 0 018 0v6h-8zm12 20H8V16h16z"},null,-1),R_=s("title",null,"Private",-1),q_=[j_,R_];function Y_(e,n){return l(),r("svg",z_,q_)}const ss=te(U_,[["render",Y_]]),G_={},K_={focusable:"false",preserveAspectRatio:"xMidYMid meet",xmlns:"http://www.w3.org/2000/svg",width:"32",height:"32",viewBox:"0 0 32 32","aria-hidden":"true",class:"edit-icon"},Z_=s("path",{d:"M16 20h14v2H16zM16 24h14v2H16zM16 28h7v2h-7z"},null,-1),W_=s("path",{d:"M14 26H4V6h7.17l3.42 3.41.58.59H28v8h2v-8a2 2 0 00-2-2H16l-3.41-3.41A2 2 0 0011.17 4H4a2 2 0 00-2 2v20a2 2 0 002 2h10z"},null,-1),J_=s("title",null,"Edit",-1),Q_=[Z_,W_,J_];function X_(e,n){return l(),r("svg",K_,Q_)}const e$=te(G_,[["render",X_]]),t$={},n$={focusable:"false",preserveAspectRatio:"xMidYMid meet",xmlns:"http://www.w3.org/2000/svg",width:"32",height:"32",viewBox:"0 0 32 32","aria-hidden":"true",class:"icon"},o$=s("path",{d:"M10 6h4v4h-4zM18 6h4v4h-4zM10 14h4v4h-4zM18 14h4v4h-4zM10 22h4v4h-4zM18 22h4v4h-4z"},null,-1),s$=s("title",null,"Drag",-1),l$=[o$,s$];function a$(e,n){return l(),r("svg",n$,l$)}const i$=te(t$,[["render",a$]]),r$={key:0,class:"dash-head"},u$={class:"title"},c$=["aria-label"],d$={class:"dash-content"},v$={key:0,class:"stats-box"},f$={class:"big"},p$=["innerHTML"],h$=["innerHTML"],m$={key:0,class:"col poster w-imgs"},g$=["href"],y$=["innerHTML"],_$={key:1,class:"col name"},$$=s("br",null,null,-1),k$={key:2,class:"col user-picture"},b$=["href"],w$={key:3,class:"col user"},M$=["href"],T$={class:"hover-text"},L$={key:0},C$=s("br",null,null,-1),A$=["disabled","innerHTML"],S$=["innerHTML"],P$={__name:"DashBoxProfileStats",props:{id:String,stats:Object,title:String,infoLabel:String,listTitle:String,intent:String,noHeader:Boolean,noPoster:Boolean},setup(e){const n=e;let t="";switch(n.intent){case"likes":t="profileGetUserLikes";break;case"collection-likes":t="userGetCollectionLikes";break;default:t="profileGetUserCollections";break}const o=T(()=>{if(n.noHeader)return"";if(n.intent==="likes"){if(n.stats.count<=1)return"like";let M=n.stats.count<=1?"poster liked":"posters liked";return M=de(M,n.stats.usersCount,"<br>","by ",n.stats.usersCount<=1?" user":" different users"),M}if(n.stats.postersCount<=1)return"poster collected";let _=n.stats.postersCount<=1?"poster collected":"posters collected";return _=de(_,n.stats.usersCount,"<br>","by ",n.stats.usersCount<=1?" user":" different users"),_=de(_,n.stats.count,"<br>","in ",n.stats.count<=1?" collection":" different collections"),_}),a=f([]),i=f(-1);let u=0,v=10,y=0,d=!0;const p=f(!1),g=f(""),m=T(()=>a.value.length<i.value||i.value===-1),$=T(()=>p.value?"loading...":m.value?"load more":a.value.length>0?`loaded all ${a.value.length}`:"no activity yet"),k=T(()=>!p.value&&m.value);async function S(){if(k.value){p.value=!0,g.value="";try{const _=await ee.value.functions[t]({id:n.id,skip:y,page:u,itemsPerPage:v});a.value=a.value.concat((_==null?void 0:_.items)||[]),i.value=(_==null?void 0:_.total)||0,u++,d&&(d=!1,u=0,y=a.value.length,v=30)}catch(_){g.value=Ue(_)}p.value=!1}}return $e(async()=>{await S()}),(_,M)=>{var A;return(A=e.stats)!=null&&A.count?(l(),r("div",{key:0,class:P(["dash-box",{"no-header":e.noHeader}])},[e.noHeader?h("",!0):(l(),r("div",r$,[s("small",u$,[D(E(e.title)+" ",1),e.infoLabel?(l(),r("span",{key:0,class:"hint--bottom hint--medium","aria-label":e.infoLabel},"(info)",8,c$)):h("",!0)])])),s("div",d$,[e.noHeader?h("",!0):(l(),r("div",v$,[s("div",f$,[s("div",null,E(e.intent==="collections"?e.stats.postersCount:e.stats.count),1),s("div",{class:"big-caption",innerHTML:o.value},null,8,p$)])])),s("div",null,[e.listTitle?(l(),r("small",{key:0,class:"padding-bottom-2",innerHTML:e.listTitle},null,8,h$)):h("",!0),(l(!0),r(Y,null,J(a.value,w=>(l(),r("div",{key:w.id,class:"col-activity-item"},[e.noPoster?h("",!0):(l(),r("div",m$,[s("a",{href:`/${w.profileId}/${w.posterId}`,target:"_blank"},[s("span",{innerHTML:c(it)(w.posterImage,"thumb")},null,8,y$)],8,g$)])),e.noPoster?h("",!0):(l(),r("div",_$,[D(E(new Intl.DateTimeFormat("en-GB",{dateStyle:"short",timeStyle:"short"}).format(w.createdAt)),1),$$,D(" "+E(w.name?`“${w.name}”`:""),1)])),w.user?(l(),r("div",k$,[s("a",{href:`/collections/user/${w.user.id}`,target:"_blank"},[b(Ze,{classes:"small",name:w.user.firstName,"image-path":w.user.profilePicture},null,8,["name","image-path"])],8,b$)])):h("",!0),w.user?(l(),r("div",w$,[s("a",{href:`/collections/user/${w.user.id}`,target:"_blank"},[s("span",T$,E(w.user.firstName||"—")+" "+E(w.user.country?" / ":"")+" "+E(w.user.country),1),e.noPoster?(l(),r("span",L$,[C$,D(" "+E(new Intl.DateTimeFormat("en-GB",{dateStyle:"short",timeStyle:"short"}).format(w.createdAt)),1)])):h("",!0)],8,M$)])):h("",!0)]))),128)),s("button",{type:"button",class:"pill margin-top-2",disabled:!m.value,onClick:S,innerHTML:$.value},null,8,A$),g.value?(l(),r("small",{key:1,class:"color-error padding-top-1",innerHTML:g.value},null,8,S$)):h("",!0)])])],2)):h("",!0)}}},x$={__name:"CollectionLikes",props:{id:String,stats:Object},setup(e){const n=f(!1),t=f(null),o=f(null),{offset:a,neverOpened:i,refresh:u}=ln({isOpen:n,popup:t,button:o}),v=y=>{n.value=!0};return(y,d)=>(l(),r("div",{class:"popup-wrap",onClick:d[2]||(d[2]=(...p)=>c(Ot)&&c(Ot)(...p))},[s("small",{ref_key:"button",ref:o,class:"collection-like-count bold",onClick:N(v,["stop","prevent"])},E(e.stats.count)+" "+E(e.stats.count>1?"likes":"like"),513),s("div",{ref_key:"popup",ref:t,class:P(["popup flex bottom",[{open:n.value,"never-opened":c(i)}]]),style:we({"--offset":`${c(a)}px`,"--offset-y-bottom":"8px"}),onClick:d[0]||(d[0]=N(p=>n.value=!0,["stop"]))},[b(P$,{id:e.id,stats:e.stats,intent:"collection-likes","no-header":!0,"no-poster":!0},null,8,["id","stats"])],6),c(ke)?(l(),r("div",{key:0,class:P(["side-menu-bkg",{open:n.value}]),onClick:d[1]||(d[1]=p=>n.value=!1)},null,2)):h("",!0)]))}},H$={class:"collection-info"},I$=["href"],E$={class:"collection-titles"},B$={key:0,class:"collection-heading"},V$={class:"big"},O$={class:"collection-description"},F$=["innerHTML"],N$={key:0,class:"collection-arrow"},D$=s("span",{class:"arrow-text"},"→",-1),U$=s("span",{class:"arrow-close"},"×",-1),z$=[D$,U$],j$={class:"collection-info-footer"},R$={key:0,class:"split-baseline"},q$={key:0},Y$={key:1},G$={class:"collection-footer-links"},K$={class:"hover-text"},Z$={key:0},W$={key:1},J$=["innerHTML"],Q$={class:"active-text"},X$={key:0},ek=["innerHTML"],tk=["href"],nk=["innerHTML"],ok={class:"padding-top-1"},sk={class:"row"},lk={class:"col-12 col-lg-6 padding-top-2"},ak={class:"col-12 col-lg-2 padding-bottom-1 form-buttons padding-top-2"},ik=["disabled"],rk=["innerHTML"],uk={key:0,class:"arrow-text"},ck={key:1,class:"arrow-close"},sl={__name:"EditMyCollection",props:{collection:Object,open:Boolean,canDrag:Boolean},emits:["deleted"],setup(e){const n=e,t=ht(n,"collection"),o=T(()=>{let W=t.value.posters.slice(0);if(!C.value||!C.value.collections)return W;const z=C.value.collections.findIndex(ue=>ue.id===t.value.id);if(z!==-1){const ue=C.value.collections[z].posters;W=W.filter(F=>ue.includes(F.id))}return W}),a=f(n.open),i=f(n.open),u=f(!1),v=T(()=>o.value.slice(0,20)),y=f(!1),d=f(!1),p=f(""),g=f(!1);U(t.value,()=>{g.value=!0},{deep:!0});const m=T(()=>!d.value&&g.value);async function $(){if(m.value){d.value=!0,p.value="";try{const W=await ee.value.functions.userCollectionsUpdate(t.value);Be(()=>{g.value=!1})}catch(W){p.value=Ue(W)}d.value=!1}}async function k(){await ee.value.functions.userCollectionsDelete(t.value.id)}const S=f(!1);async function _(){if(S.value)return;S.value=!0,p.value="";const W=g.value;try{const z=await ee.value.functions.userCollectionsToggleStatus(t.value.id);t.value.status=z.status,Be(()=>{g.value=W})}catch(z){p.value=Ue(z)}S.value=!1}const M=f(!1);async function A(W){const z=[];for(const F of W)z.push(F.id);M.value=!0;const ue=t.value.posters;t.value.posters=W.slice();try{const F=await ee.value.functions.userCollectionsUpdateOrder(t.value.id,z);if(F.icon){const B=C.value.collections.findIndex(I=>I.id===t.value.id);B!==-1&&(C.value.collections[B].icon=F.icon)}}catch{t.value.posters=ue}M.value=!1}function w(W){if(Ot(W)){if(n.open)return;u.value&&ie(),a.value=!a.value,i.value=a.value}}const L=f(null);function x(){L.value&&Me.to(window,{duration:.42,scrollTo:{autoKill:!1,y:L.value,offsetY:O.mobile?92:76}})}U(a,()=>{a.value&&(setTimeout(x,50),setTimeout(x,700))}),U(u,()=>{u.value&&(setTimeout(x,50),setTimeout(x,700)),y.value=!1,setTimeout(()=>{y.value=u.value},500)});function G(){u.value=!0,a.value=!0,i.value=!0}function ie(){u.value=!1,a.value=!0,i.value=!0}return(W,z)=>{var ue,F,B,I,V,R;return l(),r("div",{ref_key:"wrap",ref:L,class:P(["edit-my-collection white-theme",{active:a.value,"light-gray-theme":t.value.status==="private","white-theme":t.value.status==="public"}])},[s("div",{class:P(["collection-header",{active:a.value}])},[s("div",H$,[s("a",{class:"collection-info-heading",href:t.value.status==="private"?null:c(ft)(t.value),onClick:w},[s("div",E$,[t.value.heading||Array.isArray(t.value.tags)?(l(),r("p",B$,E(t.value.heading?t.value.heading:t.value.tags.join(", ")),1)):h("",!0),s("h1",V$,E(t.value.name),1)]),s("div",O$,[t.value.description?(l(),r("p",{key:0,innerHTML:c(at)(t.value.description)},null,8,F$)):h("",!0)]),!e.open&&!c(O).mobile&&!c(O).md?(l(),r("div",N$,z$)):h("",!0)],8,I$),s("div",j$,[o.value.length?(l(),r("div",R$,[s("small",null,E(o.value.length)+" "+E(o.value.length>1?"posters":"poster"),1),(B=(F=(ue=t.value)==null?void 0:ue.stats)==null?void 0:F.likes)!=null&&B.count?(l(),r("small",q$," / ")):h("",!0),(R=(V=(I=t.value)==null?void 0:I.stats)==null?void 0:V.likes)!=null&&R.count?(l(),H(x$,{key:1,id:t.value.id,stats:t.value.stats.likes},null,8,["id","stats"])):h("",!0)])):(l(),r("small",Y$,"no posters yet")),s("div",G$,[s("button",{type:"button",class:P(["tag no-spacing with-icon with-hover status-switch-btn",[t.value.status]]),onClick:N(_,["prevent"])},[s("span",K$,[S.value?(l(),r("span",Z$,"wait...")):(l(),r("span",W$,[D("switch to "),s("span",{innerHTML:t.value.status==="private"?"public":"private"},null,8,J$)])),t.value.status==="private"?(l(),H(os,{key:2})):(l(),H(ss,{key:3}))]),s("span",Q$,[S.value?(l(),r("span",X$,"wait...")):(l(),r("span",{key:1,innerHTML:t.value.status},null,8,ek)),t.value.status==="public"?(l(),H(os,{key:2})):(l(),H(ss,{key:3}))])],2),t.value.status==="public"?(l(),H(pt,{key:0,intent:"collection",position:"bottom",item:t.value},null,8,["item"])):h("",!0),e.canDrag?(l(),r("div",{key:1,class:P(["color-link share-button reorder-button hint--large",{"hint--top":!a.value,"hint--top-left":a.value}]),"aria-label":"to reorder between collections drag here. to reoder the posters just drag them.",onClick:z[0]||(z[0]=N(()=>{},["stop","prevent"]))},[D(" order "),b(i$)],2)):h("",!0),s("div",{class:"color-link share-button edit-button",onClick:N(G,["prevent"])},[D(" edit "),b(e$)])])])]),!c(O).mobile&&!c(O).md?(l(),r("a",{key:0,class:"collection-summary",href:t.value.status==="private"?null:c(ft)(t.value),onClick:w},[(l(!0),r(Y,null,J(v.value,K=>(l(),r("div",{key:K.id,class:"collection-summary-item"},[s("picture",{innerHTML:c(We)(K,"search")},null,8,nk)]))),128))],8,tk)):h("",!0)],2),a.value?(l(),r("div",{key:0,class:P(["edit-collection-form container gray-theme",{active:u.value,"with-heading":c(Pe),visible:y.value}])},[s("div",ok,[s("button",{type:"button",class:"tool",onClick:ie},[b(Nt)])]),s("form",{onSubmit:N($,["prevent"])},[s("div",sk,[s("div",lk,[b(He,{modelValue:t.value.name,"onUpdate:modelValue":z[1]||(z[1]=K=>t.value.name=K),label:"Collection Name"},null,8,["modelValue"]),c(Pe)?(l(),H(He,{key:0,modelValue:t.value.heading,"onUpdate:modelValue":z[2]||(z[2]=K=>t.value.heading=K),label:"Heading"},null,8,["modelValue"])):h("",!0),(l(),H(Ds,{key:t.value.id,modelValue:t.value.tags,"onUpdate:modelValue":z[3]||(z[3]=K=>t.value.tags=K),options:["inspiration","research","references for new job","just for fun"],label:"Tags","options-instructions":"tags below are suggestions, you can enter your own tags"},null,8,["modelValue"])),b(Us,{modelValue:t.value.description,"onUpdate:modelValue":z[4]||(z[4]=K=>t.value.description=K),label:"Description",rows:4},null,8,["modelValue"])]),s("div",ak,[s("button",{disabled:!m.value,class:"large-pill more-pad stateful outlined margin-bottom-2"}," update ",8,ik),b(x_,{type:"button",label:"Delete","confirm-state":"red",submit:k,onSuccess:z[5]||(z[5]=K=>W.$emit("deleted",t.value.id))}),p.value?(l(),r("small",{key:0,class:"color-error padding-top-2",innerHTML:p.value},null,8,rk)):h("",!0)])])],32)],2)):h("",!0),(c(O).mobile||c(O).md)&&!e.open?(l(),r("div",{key:1,class:"collection-arrow",onClick:w},[i.value?h("",!0):(l(),r("span",uk,"→")),i.value?(l(),r("span",ck,"×")):h("",!0)])):h("",!0),b(Vt,{name:"fade"},{default:se(()=>[i.value?(l(),r("div",{key:0,class:P(["padding-top-1 padding-bottom-5",{"wait-child":M.value}])},[b(qt,{items:o.value,"dont-track":!0,size:c(ye).sizeCollections,"with-reorder":!0,onReorder:A},null,8,["items","size"])],2)):h("",!0)]),_:1})],2)}}},dk={class:"collections-header"},vk={class:"collections-header-info"},fk={key:0},pk={key:1,class:"flex-center"},hk=s("p",{class:"no-spacing padding-bottom-1 padding-top-2"}," This is your private collection ",-1),mk=s("small",null,"Only you have access",-1),gk={key:2,class:"flex-center"},yk=s("p",null,"You're viewing a poster collection by",-1),_k={key:0,class:"color-links padding-top-2"},$k=s("span",{class:"link-arrow"},"→",-1),kk={key:3,class:"padding-top-4"},bk={key:0,class:"collections-header-tools"},wk={key:0,class:"margin-bottom-5"},Mk={__name:"Collection",props:{id:String},setup(e){const n=e,t=f(re.value[`collection/${n.id}`]),o=f(!1),a=f(!1),i=f(!1);!t.value&&n.id&&X.value&&mt(async()=>{await qe(),a.value=!0;try{t.value=await ee.value.functions.userCollectionsGet(n.id),o.value=!0}catch{}a.value=!1,i.value=!0});const u=T(()=>{var v;return t.value&&((v=C.value)==null?void 0:v.id)===t.value.userId});return(v,y)=>{const d=fe("router-link");return l(),r("div",null,[s("div",dk,[s("div",vk,[a.value?(l(),r("p",fk," loading... ")):t.value&&t.value.status!=="public"?(l(),r("div",pk,[b(Dt,{name:t.value.userName,"profile-picture":t.value.userProfilePicture,"use-current":o.value},null,8,["name","profile-picture","use-current"]),hk,mk])):t.value?(l(),r("div",gk,[yk,b(Dt,{name:t.value.userName,"profile-picture":t.value.userProfilePicture,"use-current":o.value},null,8,["name","profile-picture","use-current"]),t.value.userLink?(l(),r("small",_k,[b(d,{to:t.value.userLink,onMouseenter:y[0]||(y[0]=p=>c(Se)({name:"user-collections",id:t.value.userId}))},{default:se(()=>[D("View all "),$k]),_:1},8,["to"])])):h("",!0)])):(l(),r("p",kk," Collection not found "))]),t.value?(l(),r("div",bk,[b(zt,{for:"collections"})])):h("",!0)]),t.value?(l(),r("div",wk,[u.value?(l(),H(sl,{key:0,collection:t.value,open:!0},null,8,["collection"])):(l(),H(Oo,{key:1,collection:t.value,open:!0,"no-user":!0},null,8,["collection"]))])):h("",!0),u.value?h("",!0):(l(),H(ol,{key:1}))])}}},Tk=["onClick"],Lk={key:0,class:"scroll-icon"},Ck=["src"],Ak=["innerHTML"],Sk={__name:"MediaGalleryThumbs",props:{items:Array,index:Number},emits:["key","click"],setup(e,{emit:n}){const t=e,o=n;xe("keydown",u=>{switch(u.code){case"ArrowRight":u.preventDefault(),t.index<t.items.length-1&&o("key",t.index+1);break;case"ArrowLeft":u.preventDefault(),t.index>0&&o("key",t.index-1);break}});const a=ht(t,"index"),i=f(null);return U(a,u=>{const v=i.value.children[u];v&&(v.offsetLeft+v.offsetWidth>i.value.offsetWidth+i.value.scrollLeft||v.offsetLeft-v.offsetWidth<i.value.scrollLeft)&&Me.to(i.value,{scrollTo:{x:v,offsetX:i.value.offsetWidth/2-v.offsetWidth/2-8},duration:.3})}),(u,v)=>(l(),r("div",{ref_key:"scroll",ref:i,class:"media-gallery-thumbs"},[(l(!0),r(Y,null,J(e.items,(y,d)=>(l(),r("div",{key:y.path,class:P(["item",{selected:a.value===d,video:y.type==="video"}]),onClick:p=>o("click",d)},[y.type==="video"?(l(),r("div",Lk,[b(nn)])):h("",!0),y.type==="video"?(l(),r("img",{key:1,src:`https://videos.typographicposters.com/animated-poster${c(tn)(y.path,"jpg")}`},null,8,Ck)):(l(),r("span",{key:2,innerHTML:c(it)(y.path,"poster")},null,8,Ak))],10,Tk))),128))],512))}},Pk={key:1,class:"tools"},xk={class:"numbers"},Hk={class:"arrows"},Ik=["disabled"],Ek=["disabled"],Bk={key:2,class:"media-gallery-area"},Vk={class:"item"},Ok=["innerHTML"],Fk={__name:"MediaGallery",props:{items:Array},setup(e){const n=e,t=f(0),o=T(()=>{var $;return($=n.items)==null?void 0:$[t.value]}),a=T(()=>{var $;return($=n.items)==null?void 0:$[t.value-1]}),i=T(()=>{var $;return($=n.items)==null?void 0:$[t.value+1]}),u=T(()=>n.items.some($=>$.caption||$.copyright)),v=T(()=>{var k,S,_;let $="";return $=de($,at((k=o.value)==null?void 0:k.caption)),$=de($,(S=o.value)==null?void 0:S.copyright,"<br>"),(_=o.value)!=null&&_.caption||($+="<br>&nbsp;"),$}),{el:y,isVisible:d,isInside:p,isOverflowY:g}=Ky({debug:!1,offsetY:44});function m($){vo.value||d.value&&(t.value=$,!p.value&&!g.value&&Me.to(window,{scrollTo:{y:y.value,offsetY:44}}))}return U(t,$=>{}),($,k)=>(l(),r("div",{ref_key:"el",ref:y,class:"media-gallery"},[s("div",{class:P(["media-gallery-view",{"has-captions":u.value,"single-item":e.items.length===1}])},[e.items.length>1?(l(),H(Sk,{key:0,items:e.items,index:t.value,onKey:k[0]||(k[0]=S=>m(S)),onClick:k[1]||(k[1]=S=>m(S))},null,8,["items","index"])):h("",!0),e.items.length>1?(l(),r("div",Pk,[s("div",xk,E(t.value+1)+"/"+E(e.items.length),1),s("div",Hk,[s("button",{class:"arrow",title:"use keyboard arrows too",disabled:!a.value,onClick:k[2]||(k[2]=()=>m(t.value-1))}," ← ",8,Ik),s("button",{class:"arrow",title:"use keyboard arrows too",disabled:!i.value,onClick:k[3]||(k[3]=()=>m(t.value+1))}," → ",8,Ek)])])):h("",!0),o.value?(l(),r("div",Bk,[s("div",Vk,[o.value.type==="video"?(l(),H(jn,{key:0,class:"scroll-icon",video:`https://videos.typographicposters.com/animated-poster${c(tn)(o.value.path,"mp4")}`,poster:`https://videos.typographicposters.com/animated-poster${c(tn)(o.value.path,"jpg")}`,controls:!0,loop:!0,width:o.value.width||0,height:o.value.height||0},null,8,["video","poster","width","height"])):(l(),H(zn,{key:1,image:o.value,size:"poster"},null,8,["image"]))])])):h("",!0),u.value?(l(),r("small",{key:3,class:"caption active-links",innerHTML:v.value},null,8,Ok)):h("",!0)],2)],512))}},Nk={class:"media-gallery-mobile"},Dk={class:"scroll"},Uk=["innerHTML"],zk={__name:"MediaGalleryMobile",props:{items:Array},setup(e){return(n,t)=>(l(),r("div",Nk,[s("div",Dk,[(l(!0),r(Y,null,J(e.items,o=>(l(),r("div",{key:o.path,class:"item"},[o.type==="video"?(l(),H(jn,{key:0,video:`https://videos.typographicposters.com/animated-poster${c(tn)(o.path,"mp4")}`,poster:`https://videos.typographicposters.com/animated-poster${c(tn)(o.path,"jpg")}`,controls:!0,loop:!0,width:o.width||0,height:o.height||0},null,8,["video","poster","width","height"])):(l(),H(zn,{key:1,image:o,size:"poster"},null,8,["image"])),o.caption||o.copyright?(l(),r("small",{key:2,class:"caption active-links",innerHTML:(o.caption?`${c(at)(o.caption)}<br>`:"")+o.copyright||""},null,8,Uk)):h("",!0)]))),128))])]))}};function jk({profile:e}){const n=no("2E01Z8E01W",e.searchKey).initIndex("posters"),t=f([]),o=T(()=>t.value.length===1&&["awarded","year","animated","country"].includes(t.value[0].filterKey)),{q:a,colors:i,currentItems:u,currentPage:v,itemsPerPage:y,loadMore:d,tryToLoadMore:p,hasMorePages:g,loadAllUntil:m,message:$,isSearching:k,isLoading:S,setSearchHandler:_,targetRequestId:M}=Nn({intent:"profile-posters",features:{q:!0,colors:!0,filters:!!e.filters},items:e.posters,total:e.postersCount,activeTags:t,defaultMessage:e.postersYears,forceSortOrder:o}),A=["primary","secondary","tertiary","quaternary","quinary"],w=f(0),L=T(()=>w.value<A.length-1);U([i,i.value,a],()=>{w.value=0});const x={continent:"locations.continentCode",country:"locations.countryCode","print-process":"printProcess",format:"size",year:"year",tag:"tag",category:"category",animated:"animated",awarded:"awarded"};function G(ie){var ue;const W={page:v.value,hitsPerPage:y.value,analytics:Tt,clickAnalytics:Tt};(ue=C.value)!=null&&ue.id&&(W.userToken=C.value.id);let z=[];if(t.value.length){const F={};for(const B of t.value)F[B.filterKey]||(F[B.filterKey]=[]),F[B.filterKey].push(B.key),B.filterKey==="print-process"&&B.key==="silkscreen"&&F[B.filterKey].push("silkscreen-on-offset","silkscreen-on-digital");for(const B in F)if(x[B])switch(x[B]){case"animated":z.push("withAnimated:true");break;case"awarded":z.push("withAwards:true");break;case"tag":{const I=[].concat(F[B].map(V=>`tags:"${V}"<score=2>`),F[B].map(V=>`autoTags:"${V}"<score=2>`),F[B].map(V=>`visionLabels:"${V}"<score=1>`),F[B].map(V=>`visionLogo:"${V}"<score=1>`),F[B].map(V=>`visionLandmark:"${V}"<score=1>`),F[B].map(V=>`visionWeb:"${V}"<score=1>`),F[B].map(V=>`visionObjects:"${V}"<score=1>`));z.push(I.join(" OR "))}break;default:z.push(F[B].map(I=>`${x[B]}:"${I}"`).join(" OR "));break}}if(i.value.length)for(let F=0;F<i.value.length;F++){const B=i.value[F],I=ct.hex.lab(B),R=I[1]===0&&I[2]===0?10:20,K=20;if(F===0){const q=`(colors.${ie}.lab.l:${I[0]-R} TO ${I[0]+R} AND colors.${ie}.lab.a:${I[1]-K} TO ${I[1]+K} AND colors.${ie}.lab.b:${I[2]-K} TO ${I[2]+K})`;z.push(q)}else z.push(`(labColors.l:${I[0]-R} TO ${I[0]+R} AND labColors.a:${I[1]-K} TO ${I[1]+K} AND labColors.b:${I[2]-K} TO ${I[2]+K})`)}return z=z.join(" AND "),{...W,filters:z||void 0}}return _(async ie=>{var W;if(k.value)try{let z;if(i.value.length){for(z={hits:[],nbHits:0},(w.value===0||g.value)&&(z=await n.search(a==null?void 0:a.value,G(A[w.value])));z.hits.length===0&&L.value;)v.value=0,z=await n.search(a==null?void 0:a.value,G(A[++w.value]));z.hits.length<y.value&&L.value&&setTimeout(()=>{ie===M.value&&d()},50)}else o.value?(z=await n.search(a==null?void 0:a.value,G()),(W=z==null?void 0:z.hits)!=null&&W.length&&(z.hits=ps(z.hits,"sortOrder"))):z=await n.search(a==null?void 0:a.value,G());return z}catch{return null}if(v.value===0)return{hits:e.posters,total:e.postersCount};try{return await Ee(`/api/tg/profile-posters?id=${e.id}&page=${v.value}&itemsPerPage=${y.value}`)}catch{return null}}),{q:a,colors:i,activeTags:t,currentItems:u,currentPage:v,tryToLoadMore:p,loadAllUntil:m,hasMorePages:g,hasMoreColors:L,message:$,isSearching:k,isLoading:S}}const Rk={__name:"ProfileArchive",props:{profile:Object,initiallyOpen:String,layoutFeatures:Object},setup(e){const n=e,{q:t,colors:o,activeTags:a,currentItems:i,message:u,isSearching:v,isLoading:y,currentPage:d,tryToLoadMore:p,loadAllUntil:g,hasMorePages:m,hasMoreColors:$}=jk({profile:n.profile}),k=T(()=>!!a.value.find(M=>M.filterKey==="animated")),S=f(null);function _(){Me.to(window,{duration:.84,ease:"Power2.easeInOut",scrollTo:{autoKill:!0,y:S.value,offsetY:O.mobile?59:40}})}return $e(()=>{setTimeout(()=>{v.value&&(y.value?Bl(y,_):_())},850)}),(M,A)=>{var w;return l(),r("div",{ref_key:"el",ref:S},[b(tl,{tags:c(a),"onUpdate:tags":A[0]||(A[0]=L=>en(a)?a.value=L:null),q:c(t),"onUpdate:q":A[1]||(A[1]=L=>en(t)?t.value=L:null),filters:e.profile.filters,"with-search":!!((w=e.profile.searchFeatures)!=null&&w.q),"with-view-options":"profiles","view-options-animated":!0,message:c(u)},null,8,["tags","q","filters","with-search","message"]),b(qt,{"for-profile":!0,items:c(i),"initially-open":e.initiallyOpen,"load-all-until":c(g),size:c(ye).sizeProfiles,"layout-features":e.layoutFeatures,"is-searching":c(v),"force-animated":k.value,onEnd:c(p)},null,8,["items","initially-open","load-all-until","size","layout-features","is-searching","force-animated","onEnd"]),b(Yn,{"current-page":c(d),"has-more-pages":c(m)||!!(c(o).length&&c($)),"is-loading":c(y),onLoadMore:c(p)},null,8,["current-page","has-more-pages","is-loading","onLoadMore"]),Q(b(qn,null,null,512),[[ae,!c(y)&&!c(m)&&c(i).length>4]])],512)}}},qk=s("hr",null,null,-1),Yk=["innerHTML"],fn=22,Gk={__name:"ProfileDescription",props:{description:String,head:null,footer:null,image:null,withImage:Boolean},setup(e){const n=e,t=Vo({self:!0,scrollOnClose:!0}),o=f(0),a=dt(()=>{if(O.mobile||O.md)o.value=fn*6;else if(!n.withImage)o.value=fn*12;else{const u=n.head.offsetHeight+32,v=n.footer.offsetHeight+8+36+42,y=n.image.getElementsByTagName("img")[0].offsetHeight;o.value=y-u-v,o.value=Math.floor(o.value/fn)*fn}o.value+=3}),i=T(()=>t.height.value>o.value);return $e(async()=>{await Be(),n.withImage&&ko(n.image,a),a(),xe("resize",a),xe("orientationchange",a)}),(u,v)=>(l(),r("div",null,[qk,s("div",{style:we({"--min-height":`${o.value}px`,"--h":`${c(t).height.value}px`}),class:P([{open:!i.value||c(t).isExpanded.value},"profile-description active-links"])},[s("div",{ref:c(t).content,class:"content-pad"},[s("p",{innerHTML:c(at)(e.description)},null,8,Yk)],512)],6),i.value?(l(),r("button",{key:0,type:"button",class:"text-p",onClick:v[0]||(v[0]=(...y)=>c(t).toggle&&c(t).toggle(...y))},E(c(t).isExpanded.value?"Close ↑":"Read More ↓"),1)):h("",!0)]))}},Kk={class:"container margin-top-6 margin-bottom-5 common-links"},Zk=["href"],ll={__name:"NotFound",setup(e){const n=gs(),t=n.params.pathMatch?`/archive?q=${n.params.pathMatch[0]}`:"/archive";return(o,a)=>(l(),r("div",Kk,[s("h1",null,[D("Page not found, "),s("a",{href:c(t)},"try searching",8,Zk),D(" ←")])]))}},Wk={key:1},Jk={key:0,class:"private-profile-message common-links"},Qk={class:"container white-theme profile"},Xk={class:"row"},eb={class:"col-12 col-lg-6 profile-info"},tb=s("hr",null,null,-1),nb=["innerHTML"],ob=["innerHTML"],sb=["innerHTML"],lb=s("hr",null,null,-1),ab=["innerHTML"],ib={key:1},rb=["innerHTML"],ub={key:1,class:"upload-remember common-links"},cb={key:2},db={key:4},vb={key:0,class:"posters-years lining-numbers"},fb=["innerHTML"],pb={class:"padding-top-3 margin-bottom-5"},hb={key:5,class:"footer-collection padding-top-3 color-links"},mb={key:0},gb={key:1},yb={key:6,class:"footer-collection"},_b=s("p",null,"waiting for the posters",-1),$b=[_b],ls={__name:"Profile",props:{id:String,posterId:String},setup(e){const n=e,t=T(()=>{const k=re.value[`profile/${n.id}`];if((k==null?void 0:k.status)==="private"){if(Pe.value)return k;if(!Je.value||!C.value||!C.value.allowedProfiles.find(S=>S.id===n.id))return null}return k}),o=f(""),a=f(""),i=f(""),u=f(""),v=f("");U(t,async()=>{var k;o.value=Ta(t.value),a.value=Ps(t.value),i.value=Ca(t.value),u.value=Hs(t.value),v.value=(((k=t.value)==null?void 0:k.name)||"").replace("+","+<wbr>")},{immediate:!0});const y=f(null),d=f(null),p=f(null),g=f(!!Uo.get("hide_author_reminder")),m=T(()=>X.value&&!ke&&!g.value&&Je.value&&C.value.allowedProfiles.find(k=>k.id===n.id));function $(){g.value=!0,Uo.set("hide_author_reminder",1,{secure:!0,expires:7,sameSite:"strict"})}return(k,S)=>{var M,A,w,L;const _=fe("router-link");return t.value?(l(),r("div",Wk,[t.value.status==="private"?(l(),r("div",Jk,[s("h6",null," this is a private page. only you"+E((M=c(C))!=null&&M.firstName?`, ${c(C).firstName},`:"")+" can view while logged in. ",1)])):h("",!0),s("main",Qk,[s("div",Xk,[s("div",eb,[tb,s("div",{ref_key:"profileHead",ref:y,class:"split-h padding-bottom-2"},[s("div",null,[o.value?(l(),r("h6",{key:0,class:"bold",innerHTML:o.value},null,8,nb)):h("",!0),s("h1",{class:"big",innerHTML:v.value},null,8,ob),a.value?(l(),r("h6",{key:1,innerHTML:a.value},null,8,sb)):h("",!0)]),b(Ze,{classes:"margin-top-0-5 margin-left-1 large",name:t.value.name,"image-path":t.value.profilePicture},null,8,["name","image-path"])],512),t.value.description?(l(),H(Gk,{key:t.value.id,description:t.value.description,head:y.value,footer:d.value,image:p.value,"with-image":!!u.value},null,8,["description","head","footer","image","with-image"])):h("",!0),lb,s("div",{ref_key:"profileFooter",ref:d,class:"split-baseline"},[i.value?(l(),r("h6",{key:0,class:"color-links",innerHTML:i.value},null,8,ab)):(l(),r("span",ib," ")),b(pt,{item:t.value,intent:"profile",position:"bottom"},null,8,["item"])],512)]),s("div",{ref_key:"profileImage",ref:p,class:"profile-studio-picture w-imgs",innerHTML:u.value},null,8,rb)])]),m.value?(l(),r("div",ub,[s("h6",null,[D(" Hello"+E((A=c(C))!=null&&A.firstName?` ${c(C).firstName}`:"")+", hope to find you well  → To upload new posters just drag and drop anywhere  → ",1),b(_,{to:`/author-area/${e.id}`},{default:se(()=>[D(" To enter your author area click here ")]),_:1},8,["to"])]),s("h6",{class:"close-remember common-link",onClick:$}," × close ")])):h("",!0),(w=t.value.media)!=null&&w.length?(l(),r("span",cb,[c(O).mobile||c(O).md?(l(),H(zk,{key:0,items:t.value.media},null,8,["items"])):(l(),H(Fk,{key:1,items:t.value.media},null,8,["items"]))])):h("",!0),t.value.withSearch?(l(),H(Rk,{key:t.value.id,profile:t.value,"initially-open":e.posterId,"layout-features":t.value.layoutFeatures},null,8,["profile","initially-open","layout-features"])):(l(),r("span",db,[t.value.postersYears?(l(),r("div",vb,[s("small",{innerHTML:t.value.postersYears},null,8,fb),b(zt,{for:"profiles"})])):h("",!0),s("div",pb,[b(qt,{"for-profile":!0,items:t.value.posters,"initially-open":e.posterId,size:c(ye).sizeProfiles,"layout-features":t.value.layoutFeatures},null,8,["items","initially-open","size","layout-features"])])])),(L=t.value.posters)!=null&&L.length?(l(),r("div",hb,[m.value?(l(),r("p",mb," have a nice day"+E(c(C).firstName?` ${c(C).firstName}`:""),1)):t.value.withSearch?h("",!0):(l(),r("p",gb,[b(_,{to:"/profiles",onMouseenter:S[0]||(S[0]=x=>c(Se)("profiles"))},{default:se(()=>[D(" view all profiles → ")]),_:1})]))])):["public","unlisted"].includes(t.value.status)?h("",!0):(l(),r("div",yb,$b))])):(l(),H(ll,{key:0}))}}},kb={key:0,class:"container margin-top-7"},bb=s("p",null,"loading...",-1),wb=[bb],Mb={key:1,class:"container edit-profiles common-links"},Tb=s("p",null,"Select the profile to edit:",-1),Lb=["href"],Cb={key:2,class:"container margin-top-7 active-links"},Ab=s("h2",null,"Your user is not authorized to this",-1),Sb=s("p",null,[s("br"),D("if you believe something is wrong please contact us")],-1),Pb=[Ab,Sb],xb={__name:"EditProfileSelect",setup(e){const n=f([]),t=f(!1);return mt(async()=>{if(ee.value){ge.value=!0;try{n.value=await ee.value.functions.profileGetAll()}catch{}ge.value=!1}t.value=!0}),(o,a)=>(l(),r("div",null,[t.value?n.value&&n.value.length?(l(),r("div",Mb,[Tb,(l(!0),r(Y,null,J(n.value,i=>(l(),r("div",{key:i.id,class:"edit-profiles-item"},[s("h1",null,[s("a",{href:`/author-area/${i.id}`},E(i.name?i.name:i.id),9,Lb)])]))),128))])):(l(),r("div",Cb,Pb)):(l(),r("div",kb,wb))]))}},Hb={},Ib={focusable:"false",preserveAspectRatio:"xMidYMid meet",xmlns:"http://www.w3.org/2000/svg",width:"32",height:"32",viewBox:"0 0 32 32","aria-hidden":"true",class:"icon icon-login"},Eb=ys('<path d="M7,5.21a.77.77,0,0,1-.46-1.38A15.46,15.46,0,0,1,16,1c2.66,0,6.48.45,9.5,2.62a.77.77,0,0,1,.18,1.07.78.78,0,0,1-1.08.17A15,15,0,0,0,16,2.53,14,14,0,0,0,7.5,5.05.74.74,0,0,1,7,5.21Z"></path><path d="M28.23,12.26a.78.78,0,0,1-.63-.33C25.87,9.49,22.78,6.24,16,6.24a14,14,0,0,0-11.63,5.7.77.77,0,0,1-1.07.17A.76.76,0,0,1,3.15,11,15.54,15.54,0,0,1,16,4.71c5.61,0,9.81,2.08,12.84,6.34a.77.77,0,0,1-.19,1.07A.79.79,0,0,1,28.23,12.26Z"></path><path d="M12.28,31a.78.78,0,0,1-.72-.49.75.75,0,0,1,.44-1c4.37-1.68,7-5.12,7-9.21a2.8,2.8,0,0,0-3-3c-1.86,0-2.76,1-3,3.35a4.27,4.27,0,0,1-4.52,3.83,4.27,4.27,0,0,1-4.32-4.59A11.71,11.71,0,0,1,16,8.39a12,12,0,0,1,12,11.93,18.66,18.66,0,0,1-1.39,6.5.78.78,0,0,1-1,.41.76.76,0,0,1-.41-1,17.25,17.25,0,0,0,1.27-5.91A10.45,10.45,0,0,0,16,9.92a10.18,10.18,0,0,0-10.38,10,2.77,2.77,0,0,0,2.79,3.06,2.74,2.74,0,0,0,3-2.48c.36-3.11,1.89-4.69,4.56-4.69a4.31,4.31,0,0,1,4.52,4.56c0,4.74-3,8.72-8,10.63A.92.92,0,0,1,12.28,31Z"></path><path d="M19.77,30.28a.81.81,0,0,1-.52-.2.76.76,0,0,1,0-1.08,12.63,12.63,0,0,0,3.54-8.68c0-1.56-.48-6.65-6.7-6.65a6.83,6.83,0,0,0-4.94,1.87A6.17,6.17,0,0,0,9.32,20a.77.77,0,0,1-.77.76h0A.76.76,0,0,1,7.78,20,7.73,7.73,0,0,1,10,14.46a8.34,8.34,0,0,1,6-2.32c6.08,0,8.24,4.4,8.24,8.18A14.09,14.09,0,0,1,20.34,30,.75.75,0,0,1,19.77,30.28Z"></path><path d="M8.66,27.74a14.14,14.14,0,0,1-1.56-.09.76.76,0,1,1,.17-1.52c2.49.28,4.45-.16,5.84-1.32a6.37,6.37,0,0,0,2.12-4.53.75.75,0,0,1,.82-.71.78.78,0,0,1,.72.81A7.89,7.89,0,0,1,14.09,26,8.2,8.2,0,0,1,8.66,27.74Z"></path><title>Account</title>',6),Bb=[Eb];function Vb(e,n){return l(),r("svg",Ib,Bb)}const al=te(Hb,[["render",Vb]]),Ob=s("hr",null,null,-1),Fb={class:"head"},Nb={class:"title"},Db={key:0},Ub={key:1,class:"posters"},zb=["innerHTML"],jb={__name:"MyLikedCollection",props:{collection:Object},setup(e){const n=e,t=T(()=>{var a,i;return!X.value||!((i=(a=C.value)==null?void 0:a.likes)!=null&&i.collections)?!1:C.value.likes.collections.indexOf(n.collection.id)!==-1});return(o,a)=>{const i=fe("RouterLink"),u=fe("router-link");return l(),H(u,{to:`/collections/${e.collection.id}`,class:"my-liked-collection-link"},{default:se(()=>[s("div",{class:P(["my-liked-collection",{"fade-like":!t.value}])},[Ob,s("div",Fb,[b(an,{id:e.collection.id,target:"collections"},null,8,["id"]),s("p",Nb,E(e.collection.name),1),b(i,{to:`/collections/user/${e.collection.user.id}`,class:"profile-link"},{default:se(()=>[b(Ze,{title:`${e.collection.user.firstName||""} ${e.collection.user.lastName||""}`,"image-path":e.collection.user.profilePicture,classes:"micro"},null,8,["title","image-path"])]),_:1},8,["to"])]),e.collection.posters?(l(),r("hr",Db)):h("",!0),e.collection.posters?(l(),r("div",Ub,[(l(!0),r(Y,null,J(e.collection.posters,v=>(l(),r("div",{key:v.id,class:"poster"},[s("picture",{innerHTML:c(Ft)(v.imagePath,"search")},null,8,zb)]))),128))])):h("",!0)],2)]),_:1},8,["to"])}}},Rb={key:0,class:"collections-header"},qb={class:"collections-header-info"},Yb={key:0},Gb={key:1},Kb=s("p",null," to view your likes you need to ",-1),Zb={key:2},Wb=s("p",null," show love for the posters that touched you ",-1),Jb={href:"/archive"},Qb={type:"button",class:"large-pill stateful with-icon"},Xb=["innerHTML"],ew={key:1},tw=s("div",{class:"collections-header"},[s("div",{class:"collections-header-info"},[s("div",{class:"flex-center"},[s("h1",null," my liked collections ")])])],-1),nw={class:"container"},ow={class:"row"},sw={key:2,class:"padding-bottom-5 my-liked-posters"},lw=s("div",{class:"collections-header"},[s("div",{class:"collections-header-info"},[s("div",{class:"flex-center"},[s("h1",null,[D(" my liked posters "),s("span",{class:"hint--bottom hint--large circle-info","aria-label":"here you can find every poster you liked ordered by date. if you need to organize by folders use the collections feature."},"(i)")])])])],-1),aw={__name:"MyLikes",setup(e){const n=f(!1),t=f(null),o=f(!X.value),a=f("");async function i(){if(!X.value){t.value=null;return}n.value=!0,a.value="";try{t.value=await ee.value.functions.userLikesGetAll(),t.value=fs(t.value)?null:t.value}catch(u){a.value=Ue(u)}n.value=!1,o.value=!0}return U(X,i,{immediate:!0}),(u,v)=>{var y,d;return l(),r("div",null,[n.value||!t.value?(l(),r("div",Rb,[s("div",qb,[n.value?(l(),r("p",Yb," loading... ")):h("",!0),!n.value&&!c(X)?(l(),r("div",Gb,[Kb,s("button",{type:"button",class:"large-pill stateful with-icon",onClick:v[0]||(v[0]=(...p)=>c(Ve)&&c(Ve)(...p))},[D(" Login "),b(al)])])):h("",!0),!n.value&&c(X)&&!t.value?(l(),r("div",Zb,[Wb,s("a",Jb,[s("button",Qb,[D(" Look for this icon "),b(kt)])])])):h("",!0),a.value?(l(),r("h6",{key:3,class:"color-error padding-top-2",innerHTML:a.value},null,8,Xb)):h("",!0)])])):h("",!0),(y=t.value)!=null&&y.collections?(l(),r("div",ew,[tw,s("div",nw,[s("div",ow,[(l(!0),r(Y,null,J(t.value.collections,p=>(l(),r("div",{key:p.id,class:"col-6 col-md-3 col-xl-2"},[b(jb,{collection:p},null,8,["collection"])]))),128))])])])):h("",!0),(d=t.value)!=null&&d.posters?(l(),r("div",sw,[lw,b(qt,{items:t.value.posters,"dont-track":!0,size:"tiny","no-info":!0,"fade-like":!0},null,8,["items"])])):h("",!0)])}}};function iw(){return new Promise((e,n)=>{window.FB.login(t=>{var a;const o=(a=t.authResponse)==null?void 0:a.accessToken;o?e(o):n(new Error("Token not available"))},{scope:"instagram_basic,instagram_content_publish,instagram_manage_comments,pages_show_list"})})}async function rw(){return await qe(),new Promise((e,n)=>{if(!Pe.value){n(new Error("Unauthorized"));return}if(window.FB){e();return}window.fbAsyncInit=function(){window.FB.init({appId:C.value.fbAppId,autoLogAppEvents:!0,xfbml:!0,version:"v15.0"}),e()},function(t,o,a){const i=t.getElementsByTagName(o)[0];if(t.getElementById(a))return;const u=t.createElement(o);u.id=a,u.src="https://connect.facebook.net/en_US/sdk.js",i.parentNode.insertBefore(u,i)}(document,"script","facebook-jssdk")})}const uw={class:"container padding-top-4"},cw={key:0},dw=["innerHTML"],vw={key:2},fw={__name:"InstagramAuth",setup(e){const n=f(!0),t=f(!1),o=f("");async function a(){n.value=!0;try{const i=await iw();await ee.value.functions.managerStoreInstagramToken(i),t.value=!0}catch(i){o.value=Ue(i)}n.value=!1}return $e(async()=>{try{await rw()}catch(i){o.value=i.message}n.value=!1}),(i,u)=>(l(),r("div",uw,[n.value?(l(),r("p",cw," loading... ")):o.value?(l(),r("p",{key:1,innerHTML:o.value},null,8,dw)):t.value?(l(),r("h1",vw," ok! ")):(l(),r("button",{key:3,type:"button",class:"pill",onClick:a}," login "))]))}},pw={key:0,class:"collections-header-info"},hw={key:0},mw={key:1,class:"padding-top-1"},gw=s("p",null," organize your favorite posters in collections for research and inspiration ",-1),yw=s("small",null,"collections can be either public or private",-1),_w={href:"/archive"},$w={type:"button",class:"large-pill stateful margin-top-3 with-icon"},kw=["innerHTML"],bw={__name:"EditMyCollections",setup(e){const n=f(!1),t=f([]),o=f(!X.value),a=f("");async function i(){if(!X.value){t.value=[];return}n.value=!0,a.value="";try{t.value=await ee.value.functions.userCollectionsFetchAll()}catch(p){a.value=Ue(p)}n.value=!1,o.value=!0}U(X,i),i();function u(p){let g=t.value.findIndex(m=>m.id===p);g!==-1&&t.value.splice(g,1),g=C.value.collections.findIndex(m=>m.id===p),g!==-1&&C.value.collections.splice(g,1)}const v=T(()=>t.value.length>1),y=f(!1);async function d(){y.value=!0;const p=[];for(const g of t.value)p.push(g.id);try{const g=await ee.value.functions.userCollectionsReorder(p);C.value.collections.sort((m,$)=>p.indexOf(m.id)-p.indexOf($.id))}catch{}y.value=!1}return(p,g)=>(l(),r("div",null,[b(nl,{collections:t.value},null,8,["collections"]),n.value||o.value&&!t.value.length||a.value?(l(),r("div",pw,[n.value?(l(),r("p",hw," loading... ")):h("",!0),o.value&&!t.value.length?(l(),r("div",mw,[gw,yw,s("a",_w,[s("button",$w,[D(" Look for this icon "),b(Rn)])])])):h("",!0),a.value?(l(),r("h6",{key:2,class:"color-error padding-top-2",innerHTML:a.value},null,8,kw)):h("",!0)])):h("",!0),s("div",{class:P(["padding-bottom-5 edit-collections",{"can-drag":v.value,loading:y.value}])},[t.value.length?(l(),H(c(In),{key:0,list:t.value,"item-key":"id",handle:".reorder-button","force-fallback":!0,"fallback-tolerance":2,onEnd:d},{item:se(({element:m})=>[b(sl,{"can-drag":v.value,collection:m,onDeleted:u},null,8,["can-drag","collection"])]),_:1},8,["list"])):h("",!0)],2)]))}},Xn=()=>ql(()=>import("./EditProfile-DbaDHdkI.js"),__vite__mapDeps([0,1,2])),ze=Vl({history:Ol(),scrollBehavior(e,n,t){if(e.path!==n.path)return{top:0}},routes:[{path:"/about",name:"about",component:Qe,meta:{isSide:!0,name:"pages"}},{path:"/apply",name:"apply",component:Qe,meta:{isSide:!0,name:"pages"}},{path:"/contact",name:"contact",component:Qe,meta:{isSide:!0,name:"pages"}},{path:"/credits",name:"credits",component:Fe,meta:{isSide:!0,name:"pages"}},{path:"/join",name:"join",component:Qe,meta:{isSide:!0,name:"pages",useAccountMenu:!0}},{path:"/faq",name:"faq",component:Fe,meta:{isSide:!0,name:"pages",useAccountMenu:!0}},{path:"/refund",name:"refund",component:Qe,meta:{isSide:!0,name:"pages",useAccountMenu:!0}},{path:"/membership",name:"membership",component:Fe,meta:{isSide:!0,name:"pages",useAccountMenu:!0}},{path:"/payment-confirm",name:"payment-confirm",component:Fe,meta:{isSide:!0,name:"pages",useAccountMenu:!0}},{path:"/donation-confirm",name:"donation-confirm",component:Fe,meta:{isSide:!0,name:"pages",useAccountMenu:!0}},{path:"/account",name:"account",component:Fe,meta:{isSide:!0,name:"pages",useAccountMenu:!0}},{path:"/message",name:"message",component:Fe,meta:{isSide:!0,name:"pages",useAccountMenu:!0}},{path:"/login",name:"login",component:Fe,meta:{isSide:!0,name:"pages",useAccountMenu:!0},children:[{path:"/login/create",name:"create",component:Fe},{path:"/login/confirm",name:"confirm",component:Fe},{path:"/login/request",name:"request",component:Fe},{path:"/login/reset",name:"reset",component:Fe},{path:"/login/delete",name:"delete",component:Fe}]},{path:"/terms-of-use",name:"terms-of-use",component:Qe,meta:{isSide:!0,name:"pages"}},{path:"/cookie-policy",name:"cookie-policy",component:Qe,meta:{isSide:!0,name:"pages"}},{path:"/terms-of-service",name:"terms-of-service",component:Qe,meta:{isSide:!0,name:"pages"}},{path:"/privacy-policy",name:"privacy-policy",component:Qe,meta:{isSide:!0,name:"pages"}},{path:"/archive",name:"archive",component:Qe},{path:"/profiles",name:"profiles",component:E2},{path:"/:id",name:"profile",component:ls,props:!0,children:[{path:":posterId",component:ls,name:"poster"}]},{path:"/author-area",name:"author-area",component:Xn,props:!0,meta:{name:"author-area",keep:!0},children:[{path:":profileId",component:Xn,name:"author-area-of",meta:{name:"author-area",keep:!0},redirect:e=>({name:"author-area-of-tab",params:{profileId:e.params.profileId,tab:"posters"}}),children:[{path:":tab",props:!0,component:Xn,name:"author-area-of-tab",meta:{name:"author-area",keep:!0}}]}]},{path:"/edit-profiles",name:"edit-profiles",component:xb,meta:{name:"author-area"}},{path:"/collections/user/:id",props:!0,name:"user-collections",component:T_},{path:"/collections/:id",props:!0,name:"collection",component:Mk},{path:"/collections/my",name:"my-collections",component:bw},{path:"/collections",name:"collections",component:p_},{path:"/likes",name:"likes",component:aw},{path:"/instagram-auth",name:"instagram-auth",component:fw},{path:"/",name:"home",component:Fe},{path:"/:pathMatch(.*)*",component:ll,name:"is-404"}]});ze.beforeEach(async(e,n,t)=>{var a;await Ks(e),st.value=null,Pn.value++,rn.value++,Sn.value=!1;const o={...e.params,...e.meta};if(!o.name&&e.name&&(o.name=e.name),await Mw(o),!X.value&&["account","delete","membership","author-area","author-area-of","author-area-of-tab","edit-profiles","instagram-auth"].includes(e.name)){bt.value=()=>{ze.push(e)},t({name:"login"});return}if(e.meta.isSide?(e.meta.useAccountMenu?(Ie.value=!1,De.value=!0):(Ie.value=!0,De.value=!1),j.value=e.name):(Ie.value=!1,De.value=!1,j.value=null),e.name!=="is-404"&&((a=rl.value)!=null&&a.is404)){t({name:"is-404",params:{pathMatch:e.path.split("/").slice(1)}});return}t()});const re=f(window.__TG_STATE__||{}),il=f(""),rl=T(()=>re.value[il.value]),Tt=!!window.__STATE__.app.isProduction,co=!!window.__STATE__.app.isMobile,ge=f(!1),ww=f(!1);async function Se(e){var t;let n=Tw(e);if(!n||re.value[n])return n;try{_s(e)&&(e={name:e}),re.value[n]=await Ee("/api/tg/content",{params:e})||null,(t=re.value[n])!=null&&t.is404&&(re.value["is-404"]=re.value[n],n="is-404")}catch{}return n}async function Mw(e){il.value=await Se(e)}function Tw(e){let n=_s(e)?e:e.name;return n?(e.id&&(n+=`/${e.id}`),e.posterId&&(n+=`/${e.posterId}`),n):""}const Ie=f(!1),De=f(!1),j=f(""),Sn=f(!1),Zt=T(()=>Ie.value||De.value||j.value),Pn=f(0),vo=f(!1),rn=f(0);U(j,async()=>{j.value&&await Se("pages")});const Wt=T(()=>["join","faq","refund","membership","payment-confirm","donation-confirm","account","login","create","confirm","request","reset","delete","message","terms-of-use","terms-of-service","privacy-policy","cookie-policy","legal"].includes(j.value)),Jt=f(null);function Re(e,n){Jt.value=null,j.value=e}function et(){un(),ze.currentRoute.value.meta.isSide&&ze.replace({name:"home"})}function un(){Ie.value=!1,De.value=!1,j.value=null}function Lw(){Ie.value=!0,De.value=!1,j.value="about"}function Ve(){Ie.value=!1,De.value=!0,j.value="login",$o.value=!1}function on(){Ie.value=!1,De.value=!0,j.value="join"}function Cw(){Ie.value=!1,De.value=!0,j.value="account"}function as(){Ie.value=!1,De.value=!1,j.value="terms-of-use"}function Lt(){Ie.value=!1,De.value=!0,X.value?vt.value?j.value="account":yo.value?j.value="membership":j.value="join":j.value="login"}const O=Jl({mobile:"(max-width: 767.98px)",md:"(min-width: 768px) and (max-width: 991.98px)",lg:"(min-width: 992px) and (max-width: 1199.98px)",xl:"(min-width: 1200px) and (max-width: 1479.98px)",xxl:"(min-width: 1480px) and (max-width: 1899.98px)",xxxl:"(min-width: 1900px)"});async function Aw(){try{return await new Fl({apiKey:"AIzaSyDGJaw7E7NBWcf5rx7WKX8igI2IwV5KPiQ",libraries:["places"],language:"en-US"}).load(),!0}catch{}return!1}const ot={},Sw=f(!1),bt=f(null),st=f(null),eo=f(null),_T=f(0);Me.registerPlugin(ho);function Pw(e){Me.to(window,{duration:e?0:.84,ease:"Power2.easeInOut",scrollTo:{autoKill:!1,y:0}})}const xw={},Hw={focusable:"false",preserveAspectRatio:"xMidYMid meet",xmlns:"http://www.w3.org/2000/svg",width:"38",height:"32",viewBox:"0 0 38 32","aria-hidden":"true",class:"icon"},Iw=s("path",{d:"M8.6 19.1h18.9V21H8.6z"},null,-1),Ew=s("path",{d:"M1 3v24.6c0 1 .9 1.9 1.9 1.9h30.2c1 0 1.9-.9 1.9-1.9V3H1zm32.1 24.6H2.9V16.2h30.2v11.4zm0-13.3H2.9v-3.8h30.2v3.8zM2.9 8.7V4.9h30.2v3.8H2.9z"},null,-1),Bw=s("title",null,"Archive",-1),Vw=[Iw,Ew,Bw];function Ow(e,n){return l(),r("svg",Hw,Vw)}const Fw=te(xw,[["render",Ow]]),Nw={},Dw={focusable:"false",preserveAspectRatio:"xMidYMid meet",xmlns:"http://www.w3.org/2000/svg",width:"32",height:"32",viewBox:"0 0 32 32","aria-hidden":"true",class:"icon"},Uw=s("rect",{width:"24",height:"2",x:"4",y:"24"},null,-1),zw=s("rect",{width:"24",height:"2",x:"4",y:"12"},null,-1),jw=s("rect",{width:"24",height:"2",x:"4",y:"18"},null,-1),Rw=s("rect",{width:"24",height:"2",x:"4",y:"6"},null,-1),qw=s("title",null,"Menu",-1),Yw=[Uw,zw,jw,Rw,qw];function Gw(e,n){return l(),r("svg",Dw,Yw)}const Kw=te(Nw,[["render",Gw]]),Zw={},Ww={focusable:"false",preserveAspectRatio:"xMidYMid meet",xmlns:"http://www.w3.org/2000/svg",width:"32",height:"32",viewBox:"0 0 32 32","aria-hidden":"true",class:"icon"},Jw=s("path",{d:"M31,30H29V27a3,3,0,0,0-3-3H22a3,3,0,0,0-3,3v3H17V27a5,5,0,0,1,5-5h4a5,5,0,0,1,5,5Z"},null,-1),Qw=s("path",{d:"M24,12a3,3,0,1,1-3,3,3,3,0,0,1,3-3m0-2a5,5,0,1,0,5,5A5,5,0,0,0,24,10Z"},null,-1),Xw=s("path",{d:"M15,22H13V19a3,3,0,0,0-3-3H6a3,3,0,0,0-3,3v3H1V19a5,5,0,0,1,5-5h4a5,5,0,0,1,5,5Z"},null,-1),e3=s("path",{d:"M8,4A3,3,0,1,1,5,7,3,3,0,0,1,8,4M8,2a5,5,0,1,0,5,5A5,5,0,0,0,8,2Z"},null,-1),t3=s("title",null,"Authors",-1),n3=[Jw,Qw,Xw,e3,t3];function o3(e,n){return l(),r("svg",Ww,n3)}const s3=te(Zw,[["render",o3]]),l3={__name:"AccountIcon",setup(e){const n=T(()=>{var o,a;return((o=C.value)==null?void 0:o.profilePicture)||((a=C.value)==null?void 0:a.editProfilePicture)||""}),t=T(()=>!C.value||!C.value.firstName?"":`${C.value.firstName||""} ${C.value.lastName||""}`);return(o,a)=>t.value||n.value?(l(),H(Ze,{key:0,name:t.value,"image-path":n.value},null,8,["name","image-path"])):(l(),H(al,{key:1}))}},a3={id:"menu",class:"container split"},i3={class:"menu-left color-links"},r3=["innerHTML"],u3=["href"],c3={class:"menu-right"},d3={__name:"AppMenu",setup(e){const n=gs(),t=T(()=>O.mobile?"/":"typo/graphic posters"),o=f(null),a={archive:"Archive",authors:"Authors",author:"Author",profiles:"Profiles",profile:"Profiles",posters:"Posters",poster:"Posters",collections:"Collections",collection:"Collections","user-collections":"Collections","my-collections":"My Collections",likes:"My Likes",about:"About",more:"About (more)",apply:"Apply",menu:"Menu",credits:"Credits",support:"Support",account:"Account",login:"Account",reset:"Reset Password",request:"Request Access",create:"Create your account",refund:"Refund Policy",legal:"Legal","author-area":"Author Area","edit-profiles":"Select Author","author-area-of":"Author Area","author-area-of-tab":"Author Area",newsletters:"Newsletters","terms-of-use":"Terms of Use","privacy-policy":"Privacy Policy","terms-of-service":"Terms of Service","cookie-policy":"Cookie Policy",membership:"Membership","payment-confirm":"Payment Confirmation","donation-confirm":"Donation Confirmation",faq:"FAQ",contact:"Contact us",join:"Join us"},i=f(null),u=f(0),v=T(()=>{var S,_;return O.mobile||u.value<115?!1:n.name==="profile"?(S=re.value[`profile/${n.params.id}`])==null?void 0:S.name:n.name==="poster"?(_=re.value[`poster/${n.params.id}/${n.params.posterId}`])==null?void 0:_.profileName:!1});ke||(u.value=window.scrollY,xe("scroll",()=>{u.value=window.scrollY},{capture:!1,passive:!0}));const y=T(()=>o.value?`→ ${a[o.value]}`:j.value?a[j.value]?`→ ${a[j.value]}`:"":v.value?`→ ${v.value}`:n.meta.isSide?"":n.name==="poster"?"→ profiles":a[n.name]?`→ ${a[n.name]}`:""),d=T(()=>{if(j.value)return"";if(v.value)return"#top";switch(n.name){case"profile":case"author":return"/profiles";case"poster":return"/profiles";case"author-area":case"author-area-of":case"author-area-of-tab":case"edit-profiles":return"";case"user-collections":case"collection":return"/collections"}return`/${n.name}`});function p(){v.value?Pw():ze.push(d.value)}$e(()=>{i.value&&U(y,()=>{Me.killTweensOf(i.value),Me.to(i.value,{text:{value:y.value,type:"diff",speed:2},ease:"none"})},{immediate:!0})});function g(S){o.value=S,(S==="account"||S==="menu")&&(S="pages"),Se(S)}function m(){o.value=""}function $(){Ie.value?et():Lw()}function k(){De.value?et():Lt()}return(S,_)=>{const M=fe("router-link");return l(),r("header",a3,[s("div",i3,[b(M,{to:"/",onMouseenter:_[0]||(_[0]=A=>c(Se)("home"))},{default:se(()=>[s("h4",{class:"site-title",innerHTML:t.value},null,8,r3)]),_:1}),c(O).mobile?h("",!0):(l(),r("a",{key:0,href:d.value,class:P({"events-disabled":!d.value}),onClick:N(p,["prevent","stop"])},[s("h4",{ref_key:"titleTyper",ref:i,class:"title-typer"},null,512)],10,u3))]),s("div",c3,[b(M,{to:"/archive",class:"menu-icon archive",onMouseenter:_[1]||(_[1]=A=>g("archive")),onMouseleave:m},{default:se(()=>[b(Fw)]),_:1}),b(M,{to:"/profiles",class:"menu-icon",onMouseenter:_[2]||(_[2]=A=>g("profiles")),onMouseleave:m},{default:se(()=>[b(s3)]),_:1}),b(M,{to:"/collections",class:"menu-icon",onMouseenter:_[3]||(_[3]=A=>g("collections")),onMouseleave:m},{default:se(()=>[b(Rn)]),_:1}),s("a",{href:"/account",class:"account-toggle",onMouseenter:_[4]||(_[4]=A=>g("account")),onMouseleave:m,onClick:N(k,["prevent"])},[Q(b(l3,null,null,512),[[ae,!c(De)]]),Q(b(Nt,{title:"Account"},null,512),[[ae,c(De)]])],32),s("div",{class:"menu-toggle",onClick:$,onMouseenter:_[5]||(_[5]=A=>g("menu")),onMouseleave:m},[Q(b(Kw,null,null,512),[[ae,!c(Ie)]]),Q(b(Nt,{title:"Menu"},null,512),[[ae,c(Ie)]])],32)])])}}},v3=s("p",null,"New to typo/graphic posters?",-1),f3={class:"margin-top-5"},p3=s("hr",{class:"bkg off-content-pad"},null,-1),h3=s("p",null,"returning? login here",-1),m3={class:"split margin-top-2"},g3=["disabled","innerHTML"],y3=["innerHTML"],ul={__name:"Login",setup(e){const n=f(""),t=f(""),o=f(!1),a=f(!1),i=f(""),u=f("error"),v=f(!1);function y(m){return/^[^\s@]+@[^\s@]+\.[^\s@]+$/.test(m)}U(n,()=>{v.value=y(n.value)});const d=T(()=>!ge.value&&v.value&&t.value.length>=8),p=T(()=>ge.value?"please wait":v.value?t.value.length<8?"Fill your password":"Sign in":"Fill your e-mail");U([n,t],()=>{i.value="",u.value="error"});async function g(){var $,k,S;if(!d.value)return;const m=await ws(n.value,t.value);o.value=m.status==="success",a.value=!o.value,m.error==="confirmation required"?(await Ms(n.value),u.value="",i.value="All fine but we still need to confirm you are a human. Please click the link we sent you on your e-mail."):m.code===403?i.value="Temporary error":m.code&&(i.value="Invalid e-mail/password"),o.value&&(bt.value?(j.value="account",await bt.value(),bt.value=null):O.mobile?un():vt.value?Re("account"):yo.value?Re("membership"):($=C.value)!=null&&$.membershipIntent?Re("join"):!((k=C.value)!=null&&k.firstName)&&!((S=C.value)!=null&&S.lastName)?Re("account"):Re("join"))}return(m,$)=>(l(),r("div",null,[v3,s("button",{type:"button",class:"large-pill stateful",onClick:$[0]||($[0]=k=>c(Re)("create"))}," Create Account "),s("div",f3,[p3,h3,s("form",{onSubmit:N(g,["prevent"])},[b(He,{modelValue:n.value,"onUpdate:modelValue":$[1]||($[1]=k=>n.value=k),label:"E-mail",type:"email",autocomplete:"username","focus-on-mounted":!0},null,8,["modelValue"]),b(He,{modelValue:t.value,"onUpdate:modelValue":$[2]||($[2]=k=>t.value=k),label:"Password",type:"password",autocomplete:"current-password"},null,8,["modelValue"]),s("div",m3,[s("button",{class:"large-pill more-pad stateful",disabled:!d.value,innerHTML:p.value},null,8,g3),s("small",{class:"color-link inline-block",onClick:$[3]||($[3]=k=>c(Re)("request"))},"→ reset password")]),Q(s("p",{class:P(["padding-top-3",[`color-${u.value}`]]),innerHTML:i.value},null,10,y3),[[ae,i.value]])],32)])]))}},_3={key:0},$3={class:"margin-top-2"},k3=["disabled","innerHTML"],b3={key:1},w3=s("p",null,"Successfully reseted!",-1),M3=s("a",{href:"/login"},[s("button",{type:"button",class:"large-pill more-pad stateful"}," Login ")],-1),T3=[w3,M3],L3={key:2},C3=s("p",{class:"color-error"}," Error ",-1),A3=s("p",null,"Your credentials to reset your password are missing or have expired, please:",-1),S3=s("button",{type:"button",class:"large-pill more-pad stateful"}," Request Again ",-1),P3=[S3],cl={__name:"ResetPassword",setup(e){const n=new URLSearchParams(window.location.search),t=n.get("token"),o=n.get("tokenId"),a=n.get("email"),i=!!t&&!!o,u=f(""),v=f(""),y=f(!1),d=f(!i),p=T(()=>u.value.length&&u.value.length<8?"mininum 8 characters":""),g=T(()=>p.value||!v.value?"":u.value!==v.value?"passwords must match":""),m=T(()=>!ge.value&&u.value&&v.value&&!p.value&&!g.value),$=T(()=>m.value?"reset":"fill your new password"),k=async()=>{if(!m.value)return;const S=await Wl(u.value);y.value=S.status==="success",d.value=!y.value};return(S,_)=>(l(),r(Y,null,[!d.value&&!y.value?(l(),r("div",_3,[s("form",{onSubmit:N(k,["prevent"])},[b(He,{modelValue:c(a),"onUpdate:modelValue":_[0]||(_[0]=M=>en(a)?a.value=M:null),label:"E-mail",type:"email",autocomplete:"username",disabled:!0},null,8,["modelValue"]),b(He,{modelValue:u.value,"onUpdate:modelValue":_[1]||(_[1]=M=>u.value=M),label:"New password",type:"password",autocomplete:"new-password","focus-on-mounted":!0,"error-message":p.value},null,8,["modelValue","error-message"]),b(He,{modelValue:v.value,"onUpdate:modelValue":_[2]||(_[2]=M=>v.value=M),label:"Confirm new Password",type:"password",autocomplete:"new-password","error-message":g.value},null,8,["modelValue","error-message"]),s("div",$3,[s("button",{class:"large-pill more-pad stateful",disabled:!m.value,innerHTML:$.value},null,8,k3)])],32)])):h("",!0),y.value?(l(),r("div",b3,T3)):h("",!0),d.value?(l(),r("div",L3,[C3,A3,s("a",{href:"/login/request",onClick:_[3]||(_[3]=N(M=>c(Re)("request"),["prevent"]))},P3)])):h("",!0)],64))}},x3={key:0},H3=s("p",null,"Reset password",-1),I3={class:"margin-top-2"},E3=["disabled","innerHTML"],B3={key:1},V3=s("p",{class:"color-success"}," Success ",-1),O3=s("p",null,"please check your e-mail",-1),F3={key:2},N3={key:0},D3=s("p",null,"You don't have an account yet, just click here:",-1),U3=s("a",{href:"/login/create"},[s("button",{type:"button",class:"large-pill more-pad stateful"}," Create account ")],-1),z3=[D3,U3],j3={key:1},R3=s("p",{class:"color-error"}," Error ",-1),q3=s("p",null,"Please confirm your e-mail and:",-1),Y3=s("a",{href:"/login/request"},[s("button",{type:"button",class:"large-pill more-pad stateful"}," Try again ")],-1),G3=[R3,q3,Y3],dl={__name:"RequestNewPassword",props:{title:String},setup(e){const n=f(""),t=f(!1),o=f(!1),a=f(!1),i=f(0),u=f(!1);mt(async()=>{var g;X.value&&(await qe(),(g=C.value)!=null&&g.email&&(n.value=C.value.email,u.value=!0))});const v=g=>/^[^\s@]+@[^\s@]+\.[^\s@]+$/.test(g);U(n,()=>{t.value=v(n.value)});const y=T(()=>!ge.value&&t.value),d=T(()=>ge.value?"please wait":y.value?"request":"fill your e-mail"),p=async()=>{if(!y.value)return;const g=await Ts(n.value);o.value=g.status==="success",a.value=!o.value,i.value=g.code};return(g,m)=>(l(),r(Y,null,[!a.value&&!o.value?(l(),r("div",x3,[H3,b(He,{modelValue:n.value,"onUpdate:modelValue":m[0]||(m[0]=$=>n.value=$),label:u.value?"We'll send an email to":"E-mail",type:"email",autocomplete:"username",disabled:u.value},null,8,["modelValue","label","disabled"]),s("div",I3,[s("button",{class:"large-pill more-pad stateful",disabled:!y.value,onClick:p,innerHTML:d.value},null,8,E3)]),s("small",{class:"color-link margin-top-7 inline-block",onClick:m[1]||(m[1]=(...$)=>c(Lt)&&c(Lt)(...$))},"← back")])):h("",!0),o.value?(l(),r("div",B3,[V3,O3,s("small",{class:"color-link margin-top-4 inline-block",onClick:m[2]||(m[2]=(...$)=>c(et)&&c(et)(...$))},"← close")])):h("",!0),a.value?(l(),r("div",F3,[i.value===404?(l(),r("div",N3,z3)):(l(),r("div",j3,G3))])):h("",!0)],64))}},K3={components:{TextField:He},setup(){const e=f(""),n=f(!1),t=f(!1),o=f(!1),a=f(!1);mt(async()=>{const d=await Zl();o.value=d.status==="success",a.value=!o.value});const i=d=>/^[^\s@]+@[^\s@]+\.[^\s@]+$/.test(d);U(e,()=>{n.value=i(e.value)});const u=T(()=>!ge.value&&n.value),v=T(()=>u.value?"request again":"fill your e-mail");return{submit:async()=>{if(!u.value)return;const d=await Ms(e.value);o.value=d.status==="success",a.value=!o.value,d.code===400&&(o.value=!0,a.value=!o.value),d.code===404&&(t.value=!0)},email:e,wasSuccessful:o,wasError:a,buttonReady:u,buttonLabel:v,accountDoNotExist:t,changeSideMenu:Re}}},Z3={key:0},W3=s("p",null,"wait...",-1),J3=[W3],Q3={key:1},X3=s("p",{class:"color-success"}," Thank you. Welcome! ",-1),e4=s("p",null,"Please login:",-1),t4={key:2},n4=s("p",{class:"color-error"}," Error ",-1),o4=s("p",null,"We couldn't confirm that, maybe the link had expired, please request again:",-1),s4=["disabled","innerHTML"],l4={key:0,class:"margin-top-7"},a4=s("p",null,"no account found with that e-mail, please confirm or:",-1);function i4(e,n,t,o,a,i){const u=fe("TextField");return l(),r(Y,null,[!o.wasError&&!o.wasSuccessful?(l(),r("div",Z3,J3)):h("",!0),o.wasSuccessful?(l(),r("div",Q3,[X3,e4,s("button",{type:"button",class:"large-pill more-pad stateful",onClick:n[0]||(n[0]=v=>o.changeSideMenu("login"))}," Login ")])):h("",!0),o.wasError?(l(),r("div",t4,[n4,o4,s("form",{onSubmit:n[2]||(n[2]=N((...v)=>o.submit&&o.submit(...v),["prevent"]))},[b(u,{modelValue:o.email,"onUpdate:modelValue":n[1]||(n[1]=v=>o.email=v),label:"E-mail",type:"email",autocomplete:"username"},null,8,["modelValue"]),s("button",{disabled:!o.buttonReady,class:"margin-top-2 large-pill more-pad stateful",innerHTML:o.buttonLabel},null,8,s4)],32),o.accountDoNotExist?(l(),r("div",l4,[a4,s("button",{type:"button",class:"large-pill more-pad",onClick:n[3]||(n[3]=v=>o.changeSideMenu("create"))}," Create a new account ")])):h("",!0)])):h("",!0)],64)}const vl=te(K3,[["render",i4]]),r4={},u4={focusable:"false",preserveAspectRatio:"xMidYMid meet",xmlns:"http://www.w3.org/2000/svg",width:"32",height:"32",viewBox:"0 0 32 32","aria-hidden":"true",class:"upload-icon"},c4=s("polygon",{points:"6 17 7.41 18.41 15 10.83 15 30 17 30 17 10.83 24.59 18.41 26 17 16 7 6 17"},null,-1),d4=s("path",{d:"M6,8V4H26V8h2V4a2,2,0,0,0-2-2H6A2,2,0,0,0,4,4V8Z"},null,-1),v4=s("title",null,"Upload",-1),f4=[c4,d4,v4];function p4(e,n){return l(),r("svg",u4,f4)}const h4=te(r4,[["render",p4]]),m4={class:"upload-pill-icon"},g4={key:0,class:"upload-pill-spinner"},y4=["innerHTML"],_4=["innerHTML"],$4=["name","accept","multiple"],k4={__name:"UploadPill",props:{uploadMessage:{type:String,default:"upload"},upload:{type:Function,required:!0},requestParams:{type:Object,required:!0},mimeTypes:{type:Array,default:()=>["image/jpeg","image/png"]},maxSize:{type:Number,default:50},multiple:Boolean,name:{type:String,default:"file"},errorPositionSide:Boolean,watchFileDrop:String,drop:Boolean,dropAnywhere:Boolean,dontAddDropMessage:Boolean,dontAddDropColor:Boolean},emits:["uploading","isUploadingMultiple"],setup(e,{emit:n}){const t=e,o=n,a=f(!1),i=f(!1),u=f([]),v=T(()=>a.value?"uploading...":i.value&&!t.dontAddDropMessage?`${t.uploadMessage}<br>drop here`:t.uploadMessage),y={"image/jpeg":["jpg"],"image/png":["png"],"video/mp4":["mp4","m4v","mov"],"video/m4v":["mp4","m4v","mov"],"video/quicktime":["mp4","m4v","mov"]},d=T(()=>{if(!u.value.length)return"";let w="";for(const L of u.value)switch(w&&(w+="<br>"),w+=`(${L.file.name}) `,L.type){case"size":w+=`file too large, maximum of ${t.maxSize} Mb`;break;case"extension":w+="only jpg or png";break;case"mimeType":{const x=[];for(const G of t.mimeTypes)y[G].forEach(ie=>{x.includes(ie)||x.push(ie)});x.length>2?w+=`only ${x.slice(0,-1).join(", ")} or ${x.slice(-1)}`:w=`only ${x.join(" or ")}`}break;default:L.message?w+=L.message:w+="error, please try again";break}return w});function p(w,L){let{type:x,message:G,error:ie}=w;if(ie)try{G=JSON.parse(ie).message}catch{G=String(ie)}u.value.push({type:x,message:G,file:L})}const g=`file${Math.ceil(Math.random()*99999)}`;async function m(w){if(!w||!w.length)return;i.value=!1,a.value=!0,o("uploading"),o("isUploadingMultiple",w.length>1),u.value=[];let L=0;for(const x of w){if(L++,L>=w.length&&o("isUploadingMultiple",!1),t.maxSize&&x.size>t.maxSize*1024*1024){p({type:"size"},x);continue}if(!t.mimeTypes.includes(x.type)){p({type:"mimeType"},x);continue}try{const G=await ee.value.functions.uploadRequest({...t.requestParams,mimeType:x.type}),ie=await Ee(G.url,{method:"PUT",body:x});await t.upload(G)}catch(G){p(G,x)}}a.value=!1}async function $(w){await m(w.target.files)}t.watchFileDrop&&(ot[t.watchFileDrop]||(ot[t.watchFileDrop]=f([])),Qt(()=>{ot[t.watchFileDrop].value.length&&(m(ot[t.watchFileDrop].value),ot[t.watchFileDrop].value=[])}));const k=f(null);async function S(w){w.preventDefault(),i.value=!0}function _(w){w.preventDefault(),i.value=!1}function M(w){i.value=!1}async function A(w,L){if(_(w),w.dataTransfer.items){const x=[];for(const G of w.dataTransfer.items)G.kind==="file"&&x.push(G.getAsFile());await m(x)}}return t.drop&&!ke&&($e(()=>{window.addEventListener("dragenter",S),window.addEventListener("click",M),k.value.addEventListener("dragenter",S),k.value.addEventListener("dragover",S),k.value.addEventListener("drop",A)}),Ct(()=>{window.removeEventListener("dragenter",S),window.removeEventListener("click",M),k.value.removeEventListener("dragenter",S),k.value.removeEventListener("dragover",S),k.value.removeEventListener("drop",A)})),(w,L)=>(l(),r("div",{class:P(["upload-pill-group",{side:e.errorPositionSide,"is-dropping":i.value&&!e.dontAddDropColor,"is-uploading":a.value}])},[e.drop&&e.dropAnywhere&&!c(ke)?(l(),r("div",{key:0,class:P(["drop-anywhere",{active:i.value}]),onDragenter:L[0]||(L[0]=N(()=>{},["prevent"])),onDragover:L[1]||(L[1]=N(()=>{},["prevent"])),onDragleave:N(_,["prevent"]),onDrop:N(A,["prevent"])},null,34)):h("",!0),s("label",{for:g},[s("div",{ref_key:"pill",ref:k,class:"upload-pill"},[s("div",m4,[a.value?(l(),r("div",g4)):h("",!0),b(h4)]),s("div",null,[s("h6",{class:"upload-pill-message",innerHTML:v.value},null,8,y4)])],512)]),Q(s("small",{class:"upload-pill-error-message",innerHTML:d.value},null,8,_4),[[ae,d.value]]),s("input",{id:g,name:e.name,class:"upload-pill-input",type:"file",accept:e.mimeTypes.join(),multiple:e.multiple,onChange:$},null,40,$4)],2))}},b4={class:"profile-picture-pill-icon"},w4=["innerHTML"],M4={class:"profile-picture-pill-message"},T4=["innerHTML"],L4=["innerHTML"],C4={__name:"ProfilePictureUpload",props:{uploadMessage:{type:String,default:"upload your<br>profile picture"},removeMessage:{type:String,default:"remove picture"},message:{type:String,default:"profile picture"},profileId:String,profilePicture:String},emits:["uploaded","deleted"],setup(e,{emit:n}){const t=e,o=n,a=f(co),i=f(!1),u=T(()=>{var m;return t.profileId?t.profilePicture:(m=C.value)==null?void 0:m.profilePicture}),v=T(()=>!i.value&&(a.value||co)),y=T(()=>i.value?"wait ...":t.message),d=T(()=>t.profileId?{intent:"profile-picture",profileId:t.profileId}:{intent:"user-picture"});async function p(m){let $=null;i.value=!0,t.profileId?($=await ee.value.functions.profilePictureAdd({...m,profileId:t.profileId}),C.value.editProfileId===t.profileId&&(C.value.editProfilePicture=$.filePath)):($=await ee.value.functions.userPictureAdd(m),C.value.profilePicture=$.filePath),o("uploaded",$==null?void 0:$.filePath),i.value=!1}async function g(){i.value=!0,t.profileId?(await ee.value.functions.profileDeleteProfilePicture(t.profileId),C.value.editProfileId===t.profileId&&(C.value.editProfilePicture=null)):(await ee.value.functions.userDeleteProfilePicture(),C.value.profilePicture=null),o("deleted"),i.value=!1}return(m,$)=>(l(),r(Y,null,[Q(s("div",{class:P(["profile-picture-pill",{wait:i.value}]),onMouseenter:$[0]||($[0]=k=>a.value=!0),onMouseleave:$[1]||($[1]=k=>a.value=!1)},[s("div",b4,[s("div",{innerHTML:c(it)(u.value,"icon")},null,8,w4)]),s("div",null,[s("h6",M4,[Q(s("span",{class:"color-link error-hover",onClick:g,innerHTML:e.removeMessage},null,8,T4),[[ae,v.value]]),Q(s("span",{innerHTML:y.value},null,8,L4),[[ae,!v.value]])])])],34),[[ae,u.value]]),u.value?h("",!0):(l(),H(k4,{key:0,"upload-message":e.uploadMessage,upload:p,drop:!0,"request-params":d.value},null,8,["upload-message","request-params"]))],64))}},A4={key:0},S4={key:1},P4={key:0,class:"edit-profile-block"},x4=s("small",{class:"account-heading"},"my typo/graphic profile",-1),H4={class:"edit-profile-pill"},I4={key:1,class:"account-heading"},E4={key:2,class:"padding-bottom-2"},B4=s("br",null,null,-1),V4={class:"margin-top-2"},O4={class:"split margin-top-2"},F4=["disabled","innerHTML"],N4={key:0,class:"color-error"},D4={class:"margin-top-5"},U4={class:"margin-top-1"},z4={class:"margin-top-1"},fl={__name:"Account",setup(e){const n=f(!1),t=ds({firstName:"",lastName:"",newsletters:!1,location:null}),o=f(!1),a=f(!1),i=f(!1),u=f(!1),v=T(()=>!ge.value&&i.value),y=T(()=>ge.value?"wait...":v.value?"update":u.value?"thanks!":"keep your info updated");async function d(){ge.value=!0,a.value=!1;try{Je.value?(await ee.value.functions.userProfileUpdate({...t,canMessage:o.value}),C.value.canMessage=o.value):await ee.value.functions.userProfileUpdate(t),i.value=!1,u.value=!0,C.value.firstName=t.firstName,C.value.lastName=t.lastName,C.value.newsletters=t.newsletters}catch{a.value=!0}ge.value=!1}async function p(){v.value&&d()}const g=f(!1),m=f(!1);return mt(async()=>{var $,k,S,_,M;await qe(),g.value=!0,t.firstName=($=C.value)==null?void 0:$.firstName,t.lastName=(k=C.value)==null?void 0:k.lastName,t.newsletters=!!((S=C.value)!=null&&S.newsletters),t.location=(_=C.value)==null?void 0:_.location,n.value=t.newsletters,m.value=!t.firstName&&!t.lastName,Je.value&&(o.value=!!((M=C.value)!=null&&M.canMessage)),U(t,()=>{i.value=!0,a.value=!1,n.value=t.newsletters},!0),U([n,o],d)}),($,k)=>{const S=fe("router-link");return l(),r(Y,null,[g.value?h("",!0):(l(),r("p",A4," loading ... ")),g.value?(l(),r("div",S4,[c(It)&&!c(O).mobile?(l(),r("div",P4,[x4,b(S,{to:c($s),class:"edit-profile-pill-link"},{default:se(()=>[s("div",H4,[b(Ze,{name:c(C).editProfileName,"image-path":c(C).editProfilePicture},null,8,["name","image-path"]),s("h6",null,"Edit Profile"+E(c(C).editProfileSelect?"s":""),1)])]),_:1},8,["to"])])):h("",!0),c(It)&&!c(O).mobile?(l(),r("small",I4,"My Account")):h("",!0),m.value?(l(),r("p",E4,[D(" Welcome!"),B4,D("Please provide some basic info about you: ")])):h("",!0),b(C4,{message:"my picture","upload-message":"upload your<br>picture"}),s("div",V4,[s("form",{onSubmit:N(p,["prevent"])},[b(He,{modelValue:t.firstName,"onUpdate:modelValue":k[0]||(k[0]=_=>t.firstName=_),label:"First Name",autocomplete:"given-name"},null,8,["modelValue"]),b(He,{modelValue:t.lastName,"onUpdate:modelValue":k[1]||(k[1]=_=>t.lastName=_),label:"Last Name",autocomplete:"family-name"},null,8,["modelValue"]),b(Ys,{modelValue:t.location,"onUpdate:modelValue":k[2]||(k[2]=_=>t.location=_),label:"Country",types:["country"],placeholder:"Fill the country you live in"},null,8,["modelValue"]),b(Tn,{modelValue:t.newsletters,"onUpdate:modelValue":k[3]||(k[3]=_=>t.newsletters=_),label:"Newsletters","enabled-label":"Subscribed","disabled-label":"Unsubscribed"},null,8,["modelValue"]),c(Je)?(l(),H(Tn,{key:0,modelValue:o.value,"onUpdate:modelValue":k[4]||(k[4]=_=>o.value=_),label:"internal messages from typo/graphic posters","enabled-label":"Allowed","disabled-label":"Disabled"},null,8,["modelValue"])):h("",!0),s("div",O4,[s("button",{disabled:!v.value,class:"large-pill more-pad stateful",innerHTML:y.value},null,8,F4),a.value?(l(),r("small",N4,"an error occured")):h("",!0)])],32),s("div",D4,[s("small",{class:"color-link inline-block",onClick:k[5]||(k[5]=(..._)=>c(jo)&&c(jo)(..._))},"← logout")]),s("div",U4,[s("small",{class:"color-link inline-block",onClick:k[6]||(k[6]=_=>c(Re)("request"))},"→ change password")]),s("div",z4,[s("small",{class:"color-link inline-block error-hover",onClick:k[7]||(k[7]=_=>c(Re)("delete"))},"→ delete account")])])])):h("",!0)],64)}}},j4={key:0,class:"nav-ul"},R4=["href","target","rel","innerHTML"],q4=["href","onClick","innerHTML"],Y4=["href","onClick","innerHTML"],xn={__name:"SideMenuItems",props:{items:Array},setup(e){return(n,t)=>{const o=fe("router-link");return e.items.length?(l(),r("ul",j4,[(l(!0),r(Y,null,J(e.items,a=>(l(),r("li",{key:a.key,class:P(["nav-li",{break:a.break,active:c(j)===a.key||(c(j)==="payment-confirm"||c(j)==="membership")&&(a.key==="membership"||a.key==="join")}]),role:"list"},[a.routeTo?(l(),H(o,{key:0,to:a.routeTo,onMouseenter:i=>c(Se)(a.key),onClick:c(un),innerHTML:a.name},null,8,["to","onMouseenter","onClick","innerHTML"])):a.url?(l(),r("a",{key:1,href:a.url,target:a.self?null:"_blank",rel:a.self?null:"noopener",innerHTML:a.name},null,8,R4)):a.method?(l(),r("a",{key:2,href:"/"+a.key,onClick:N(a.method,["prevent"]),innerHTML:a.name},null,8,q4)):(l(),r("a",{key:3,href:"/"+a.key,onClick:N(i=>c(Re)(a.key),["prevent"]),innerHTML:a.name},null,8,Y4))],2))),128))])):h("",!0)}}},G4={props:{title:{type:String,default:"RSS"}}},K4={focusable:"false",preserveAspectRatio:"xMidYMid meet",xmlns:"http://www.w3.org/2000/svg",width:"32",height:"32",viewBox:"0 0 32 32","aria-hidden":"true",class:"social-icon"},Z4=s("path",{d:"M8 18c-3.3 0-6 2.7-6 6s2.7 6 6 6 6-2.7 6-6-2.7-6-6-6zm0 10c-2.2 0-4-1.8-4-4s1.8-4 4-4 4 1.8 4 4-1.8 4-4 4zm22-4h-2C28 13 19 4 8 4V2c12.1 0 22 9.9 22 22z"},null,-1),W4=s("path",{d:"M22 24h-2c0-6.6-5.4-12-12-12v-2c7.7 0 14 6.3 14 14z"},null,-1);function J4(e,n,t,o,a,i){return l(),r("svg",K4,[Z4,W4,s("title",null,E(t.title),1)])}const Q4=te(G4,[["render",J4]]),X4={components:{SharePinterest:Os,ShareTwitter:Lo,ShareInstagram:To,ShareFacebook:Vs,ShareRss:Q4},props:{items:{type:Array,required:!0}}},e8={class:"social-icons-wrap"},t8={class:"social-icons"},n8=["href"];function o8(e,n,t,o,a,i){return l(),r("div",e8,[s("div",t8,[(l(!0),r(Y,null,J(t.items,u=>(l(),r("div",{key:u.key,class:"social-icon"},[s("a",{href:u.url,target:"_blank",rel:"noopener"},[(l(),H(sn(`Share${u.name}`),{class:P(u.key),title:u.name},null,8,["class","title"]))],8,n8)]))),128))])])}const pl=te(X4,[["render",o8]]),s8={key:0},l8={key:0},a8={class:"color-error padding-bottom-3"},i8=s("br",null,null,-1),r8={key:0},u8=s("br",null,null,-1),c8=s("b",null,"That is irreversible.",-1),d8={class:"margin-top-2"},v8=["disabled","innerHTML"],f8={key:1,class:"margin-top-8 active-links"},p8=s("small",null,"Note:",-1),h8=s("a",{href:"mailto:andre@typographicposters.com"},"contact André directly",-1),m8={key:1},g8=s("p",{class:"color-success color-error"}," Account deleted successfully ",-1),y8={key:2},_8=s("p",{class:"color-error"}," Error ",-1),$8=s("p",null,"An error ocurred, please",-1),k8=s("a",{href:"/login/delete"},[s("button",{type:"button",class:"large-pill more-pad stateful"}," Try again ")],-1),b8=[_8,$8,k8],hl={__name:"DeleteAccount",setup(e){const n=f(""),t=f(""),o=f(!1),a=f(!1),i=T(()=>!ge.value&&t.value),u=T(()=>ge.value?"please wait":i.value?"delete account":"enter your password"),v=async()=>{if(!i.value)return;const y=await Gl(C.value.email,t.value);o.value=y.status==="success",a.value=!o.value};return mt(async()=>{var y;await qe(),(y=C.value)!=null&&y.email&&(n.value=C.value.email)}),(y,d)=>(l(),r(Y,null,[!a.value&&!o.value?(l(),r("div",s8,[s("p",null,[D("delete your account "),c(vt)?(l(),r("span",l8,"& cancel membership")):h("",!0)]),s("h5",a8,[D(" This will completely wipe your account and all your saved data."),i8,c(vt)?(l(),r("span",r8,[D("Also will cancel your membership right away."),u8])):h("",!0),c8]),n.value?(l(),H(He,{key:0,modelValue:n.value,"onUpdate:modelValue":d[0]||(d[0]=p=>n.value=p),label:"E-mail",type:"email",disabled:!0},null,8,["modelValue"])):h("",!0),b(He,{modelValue:t.value,"onUpdate:modelValue":d[1]||(d[1]=p=>t.value=p),label:"Re-enter your Password",type:"password",autocomplete:"current-password"},null,8,["modelValue"]),s("div",d8,[s("button",{class:"large-pill more-pad stateful warning",disabled:!i.value,onClick:v,innerHTML:u.value},null,8,v8)]),c(It)&&!c(C).isAdmin?(l(),r("p",f8,[p8,D(" Your profile"+E(c(C).allowedProfiles.length>1?"s":"")+' "'+E(c(C).allowedProfiles.map(p=>p.name).join('" and "'))+'" will not be deleted, only your user account will. To delete your profile and posters please ',1),h8,D(". ")])):h("",!0),s("small",{class:P(["color-link inline-block",{"margin-top-7":!c(It),"margin-top-2":c(It)}]),onClick:d[2]||(d[2]=(...p)=>c(Lt)&&c(Lt)(...p))},"← back",2)])):h("",!0),o.value?(l(),r("div",m8,[g8,s("small",{class:"color-link inline-block",onClick:d[3]||(d[3]=(...p)=>c(et)&&c(et)(...p))},"← close")])):h("",!0),a.value?(l(),r("div",y8,b8)):h("",!0)],64))}};let to;async function Gn(){return window.__STATE__.stripe?(to||(to=await Nl(window.__STATE__.stripe,{locale:"en"})),to):null}const w8={theme:"flat",labels:"floating",variables:{colorPrimary:"#000",colorBackground:"#f5f5f5",colorText:"#000",fontFamily:"system-ui, sans-serif",spacingUnit:"4px",fontSizeBase:"14px",borderRadius:"0"},rules:{".Input":{paddingTop:"11px",paddingBottom:"11px"},".Input:focus":{boxShadow:0},".Tab--selected:focus":{boxShadow:0},".Tab:focus":{boxShadow:0}}},M8={},T8={href:"https://stripe.com/",target:"_blank",rel:"noopener noreferrer",class:"hint--top-left hint--large","aria-label":"Payment information go straight to Stripe and do not touch our servers. Stripe is certified PCI Level 1, the highest level of certification in the payments industry."},L8=s("svg",{class:"stripe-powered","data-name":"Layer 1",xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 150 34",fill:"#635bff"},[s("path",{d:"M146 0H3.73A3.73 3.73 0 0 0 0 3.73v26.54A3.73 3.73 0 0 0 3.73 34H146a4 4 0 0 0 4-4V4a4 4 0 0 0-4-4Zm3 30a3 3 0 0 1-3 3H3.73A2.74 2.74 0 0 1 1 30.27V3.73A2.74 2.74 0 0 1 3.73 1H146a3 3 0 0 1 3 3Z"}),s("path",{d:"M17.07 11.24h-4.3V22h1.92v-4.16h2.38c2.4 0 3.9-1.16 3.9-3.3s-1.5-3.3-3.9-3.3Zm-.1 5h-2.28v-3.3H17c1.38 0 2.11.59 2.11 1.65s-.76 1.6-2.11 1.6ZM25.1 14a3.77 3.77 0 0 0-3.8 4.09 3.81 3.81 0 1 0 7.59 0A3.76 3.76 0 0 0 25.1 14Zm0 6.67c-1.22 0-2-1-2-2.58s.76-2.58 2-2.58 2 1 2 2.58-.79 2.57-2 2.57ZM36.78 19.35l-1.41-5.22h-1.48l-1.4 5.22-1.42-5.22h-1.85l2.37 7.88h1.56l1.44-5.16 1.44 5.16h1.56l2.37-7.88h-1.78l-1.4 5.22zM44 14a3.83 3.83 0 0 0-3.75 4.09 3.79 3.79 0 0 0 3.83 4.09A3.47 3.47 0 0 0 47.49 20L46 19.38a1.78 1.78 0 0 1-1.83 1.26A2.12 2.12 0 0 1 42 18.47h5.52v-.6C47.54 15.71 46.32 14 44 14Zm-1.93 3.13A1.92 1.92 0 0 1 44 15.5a1.56 1.56 0 0 1 1.69 1.62ZM50.69 15.3v-1.17h-1.8V22h1.8v-4.13a1.89 1.89 0 0 1 2-2 4.68 4.68 0 0 1 .66 0v-1.8h-.51a2.29 2.29 0 0 0-2.15 1.23ZM57.48 14a3.83 3.83 0 0 0-3.75 4.09 3.79 3.79 0 0 0 3.83 4.09A3.47 3.47 0 0 0 60.93 20l-1.54-.59a1.78 1.78 0 0 1-1.83 1.26 2.12 2.12 0 0 1-2.1-2.17H61v-.6c0-2.19-1.24-3.9-3.52-3.9Zm-1.93 3.13a1.92 1.92 0 0 1 1.92-1.62 1.56 1.56 0 0 1 1.69 1.62ZM67.56 15a2.85 2.85 0 0 0-2.26-1c-2.21 0-3.47 1.85-3.47 4.09s1.26 4.09 3.47 4.09a2.82 2.82 0 0 0 2.26-1V22h1.8V11.24h-1.8Zm0 3.35a2 2 0 0 1-2 2.28c-1.31 0-2-1-2-2.52s.7-2.52 2-2.52c1.11 0 2 .81 2 2.29ZM79.31 14A2.88 2.88 0 0 0 77 15v-3.76h-1.8V22H77v-.83a2.86 2.86 0 0 0 2.27 1c2.2 0 3.46-1.86 3.46-4.09S81.51 14 79.31 14ZM79 20.6a2 2 0 0 1-2-2.28v-.47c0-1.48.84-2.29 2-2.29 1.3 0 2 1 2 2.52s-.75 2.52-2 2.52ZM86.93 19.66 85 14.13h-1.9l2.9 7.59-.3.74a1 1 0 0 1-1.14.79 4.12 4.12 0 0 1-.6 0v1.51a4.62 4.62 0 0 0 .73.05 2.67 2.67 0 0 0 2.78-2l3.24-8.62h-1.89ZM125 12.43a3 3 0 0 0-2.13.87l-.14-.69h-2.39v12.92l2.72-.59v-3.13a3 3 0 0 0 1.93.7c1.94 0 3.72-1.59 3.72-5.11 0-3.22-1.8-4.97-3.71-4.97Zm-.65 7.63a1.61 1.61 0 0 1-1.28-.52v-4.11a1.64 1.64 0 0 1 1.3-.55c1 0 1.68 1.13 1.68 2.58s-.69 2.6-1.7 2.6ZM133.73 12.43c-2.62 0-4.21 2.26-4.21 5.11 0 3.37 1.88 5.08 4.56 5.08a6.12 6.12 0 0 0 3-.73v-2.25a5.79 5.79 0 0 1-2.7.62c-1.08 0-2-.39-2.14-1.7h5.38v-1c.09-2.87-1.27-5.13-3.89-5.13Zm-1.47 4.07c0-1.26.77-1.79 1.45-1.79s1.4.53 1.4 1.79ZM113 13.36l-.17-.82h-2.32v9.71h2.68v-6.58a1.87 1.87 0 0 1 2.05-.58v-2.55a1.8 1.8 0 0 0-2.24.82ZM99.46 15.46c0-.44.36-.61.93-.61a5.9 5.9 0 0 1 2.7.72v-2.63a7 7 0 0 0-2.7-.51c-2.21 0-3.68 1.18-3.68 3.16 0 3.1 4.14 2.6 4.14 3.93 0 .52-.44.69-1 .69a6.78 6.78 0 0 1-3-.9V22a7.38 7.38 0 0 0 3 .64c2.26 0 3.82-1.15 3.82-3.16-.05-3.36-4.21-2.76-4.21-4.02ZM107.28 10.24l-2.65.58v8.93a2.77 2.77 0 0 0 2.82 2.87 4.16 4.16 0 0 0 1.91-.37V20c-.35.15-2.06.66-2.06-1v-4h2.06v-2.34h-2.06ZM116.25 11.7l2.73-.57V8.97l-2.73.57v2.16zM116.25 12.61h2.73v9.64h-2.73z"})],-1),C8=[L8];function A8(e,n){return l(),r("a",T8,C8)}const fo=te(M8,[["render",A8]]),S8={class:"money-field"},P8={class:"amount"},x8=["value"],H8={key:0,class:"currency-select"},I8=["onClick"],E8={__name:"MoneyField",props:{modelValue:{type:Number,required:!0},currencies:{type:Object,required:!0},currency:{type:String,required:!0},focusOnMounted:{type:Boolean,default:!1}},emits:["update:modelValue","update:currency"],setup(e,{emit:n}){const t=e,o=n,a=`amount_${Math.floor(Math.random()*1e5)}`,i=f(null),u=f(+t.modelValue),v=f(u.value?u.value/100:""),y=T(()=>t.currency==="brl"?500:100);function d(){o("update:modelValue",u.value===0?0:Math.max(u.value,y.value))}let p;function g(S){let _=S.target.value;_=+_.replace(/[^0-9.]/g,"").replace(/(\..*)\./g,"$1"),v.value=_||"",u.value=_*100,p&&(clearTimeout(p),p=null),p=setTimeout(d,800)}function m(){p&&(clearTimeout(p),p=null),d(),Mn.value=!1}function $(){Mn.value=!0}function k(S){const _=S.which?S.which:S.keyCode;return _>31&&(_<48||_>57)?(S.preventDefault(),!1):!0}return t.focusOnMounted&&!ke&&$e(()=>{setTimeout(()=>{i.value&&i.value.focus()},300)}),(S,_)=>(l(),r("div",S8,[s("div",P8,[s("label",{for:a},E(e.currencies[e.currency].letterShort),1),s("input",{id:a,ref_key:"inputField",ref:i,value:v.value,class:"amount-input",type:"text",autocorrect:"off",spellcheck:"false",onKeypress:k,onInput:g,onBlur:m,onFocus:$},null,40,x8)]),Object.keys(e.currencies).length>1?(l(),r("div",H8,[(l(!0),r(Y,null,J(e.currencies,(M,A)=>(l(),r("div",{key:A,class:P(["currency-button",{selected:e.currency===A,"not-selected":e.currency&&e.currency!==A}]),onClick:w=>S.$emit("update:currency",A)},E(A),11,I8))),128))])):h("",!0)]))}},B8=["innerHTML"],V8={class:"donation-form"},O8={key:0,class:"donation-love"},F8={class:"button-group spread margin-top-2"},N8=["disabled","innerHTML"],D8=["innerHTML"],po=Object.assign({inheritAttrs:!1},{__name:"Donation",props:{content:String},setup(e){const n=f(!1),t=f(0),o=f("eur"),a=f(null),i={eur:{letter:"€",letterShort:"€"}};let u=null;const v=f(null),y=f(null),d=f(null),p=f(null),g=f(!1),m=f(!1),$=f(!1),k=f(!1),S=f("");let _,M;async function A(){var B,I,V,R,K;n.value||(u||(u=await Gn()),await qe(),g.value=!0,Object.keys(i).length>1&&(((I=(B=C.value)==null?void 0:B.location)==null?void 0:I.continentCode)==="SA"?o.value="brl":((R=(V=C.value)==null?void 0:V.location)==null?void 0:R.continentCode)==="EU"&&(o.value="eur")),a.value=(K=C.value)==null?void 0:K.email),n.value=!0}const w=T(()=>d.value==="succeeded"||d.value==="processing");Ct(L);function L(){M&&(M.destroy(),M=null),_&&(_=null),p.value=null}U([o,t],ie);const x=f({}),G=T(()=>x.value.amount?wa(x.value.amount,x.value.currency):"");async function ie(){if(S.value="",!o.value||!t.value||x.value.currency===o.value&&x.value.amount===t.value&&x.value.email===a.value)return;$.value=!0;const B={amount:t.value,currency:o.value,email:a.value};try{if(_&&p.value){const I=await Ee("/api/tg/stripe-payment-intent-update",{params:{...B,id:p.value}});if(!I||(I==null?void 0:I.status)==="error")throw new Error((I==null?void 0:I.message)||"An error ocurred, please try again");if(I.status==="requires_payment_method"){const{error:V}=await _.fetchUpdates();if(V!=null&&V.message)throw new Error(V==null?void 0:V.message)}}else{const I=await Ee("/api/tg/stripe-payment-intent",{params:{...B,description:"Donation to support typo/graphic posters",type:"donation"}}),V=I==null?void 0:I.clientSecret;if(p.value=I==null?void 0:I.paymentIntentId,!V)throw new Error((I==null?void 0:I.message)||"An error ocurred, please try again");_=u.elements({clientSecret:V,appearance:w8}),M=_.create("payment"),M.mount(v.value)}x.value=B,m.value=!0}catch(I){S.value=Ue(I)}finally{$.value=!1}}async function W(){$.value=!0,k.value=!0,S.value="";try{const{error:B,paymentIntent:I}=await u.confirmPayment({elements:_,confirmParams:{return_url:"https://www.typographicposters.com/donation-confirm"},redirect:"if_required"});d.value=(I==null?void 0:I.status)||"error",S.value=B==null?void 0:B.message}catch(B){S.value=Ue(B)}finally{$.value=!1,k.value=!1}}const z=T(()=>!$.value&&o.value&&t.value&&a.value),ue=T(()=>{if($.value)return"please wait";if(!o.value)return"choose your currency";if(!t.value)return"choose how much";if(!a.value)return"fill email for the receipt";if(!d.value)return`Donate ${G.value}`;switch(d.value){case"succeeded":return"Thank you!";case"processing":return"Donation processing";case"requires_payment_method":return"Try another payment method"}return"Try again"}),F=T(()=>{if(k.value||$.value)return"";if(S.value)return S.value;if(!d.value)return"";switch(d.value){case"succeeded":return"Success! Donation received.<br><br>Thank you for supporting us. Your donation will help enormously our journey to improve the platform for all.";case"processing":return"Payment processing. We'll send a receipt once received.<br><br>Thank you for supporting us. Your donation will help enormously our journey to improve the platform for all.";case"requires_payment_method":return"Payment failed. Try again."}return""});return(B,I)=>(l(),r("div",{class:P(["padding-bottom-4",{"wait-child":$.value}])},[e.content?(l(),r("div",{key:0,class:"content-style active-links padding-bottom-1",innerHTML:e.content},null,8,B8)):h("",!0),n.value?h("",!0):(l(),r("button",{key:1,type:"button",class:"outline serif",onClick:A}," Donate ")),Q(s("div",V8,[w.value?(l(),r("div",O8,[b(kt,{title:""})])):h("",!0),n.value&&!w.value?(l(),H(E8,{key:1,modelValue:t.value,"onUpdate:modelValue":I[0]||(I[0]=V=>t.value=V),currency:o.value,"onUpdate:currency":I[1]||(I[1]=V=>o.value=V),currencies:i,"focus-on-mounted":!0},null,8,["modelValue","currency"])):h("",!0),Q(s("form",{class:P(["donation-stripe-form",{loaded:m.value}]),onSubmit:N(W,["prevent"])},[s("div",{ref_key:"formEmail",ref:y,class:"stripe-email-field"},null,512),s("div",{ref_key:"form",ref:v},null,512),s("div",F8,[s("button",{class:"large-pill more-pad stateful",disabled:!z.value,innerHTML:ue.value},null,8,N8),s("div",null,[b(fo)])])],34),[[ae,!w.value]]),F.value?(l(),r("p",{key:2,class:P([{"color-error":S.value,"color-blue":w.value,small:S.value},"active-links padding-top-1 padding-bottom-2"]),innerHTML:F.value},null,10,D8)):h("",!0)],512),[[ae,g.value]])],2))}}),U8=Object.freeze(Object.defineProperty({__proto__:null,default:po},Symbol.toStringTag,{value:"Module"})),z8={focusable:"false",preserveAspectRatio:"xMidYMid meet",xmlns:"http://www.w3.org/2000/svg",width:"32",height:"32",viewBox:"0 0 32 32","aria-hidden":"true",class:"icon open-close-icon"},j8={d:"M17 15V5.7h-2V15H5.7v2H15v9.3h2V17h9.3v-2z"},R8={d:"M5.7 15h20.6v2H5.7z"},q8=["innerHTML"],Y8={__name:"OpenCloseIcon",props:{title:{type:String,default:"Toggle"},close:Boolean},setup(e){return(n,t)=>(l(),r("svg",z8,[Q(s("path",j8,null,512),[[ae,!e.close]]),Q(s("path",R8,null,512),[[ae,e.close]]),s("title",{innerHTML:e.title},null,8,q8)]))}},G8=s("hr",{class:"bkg"},null,-1),K8=["innerHTML"],Z8={class:"content-style"},W8=["innerHTML"],ml={__name:"FaqItem",props:{question:String,answer:String,index:Number,length:Number},setup(e){const n=Vo({self:!1,scrollOnClose:!1});return(t,o)=>(l(),r("li",{class:P(["faq-item",{active:c(n).isExpanded.value}])},[s("div",{class:"faq-header",onClick:o[0]||(o[0]=(...a)=>c(n).toggle&&c(n).toggle(...a))},[G8,s("h2",{class:"faq-question",innerHTML:e.question},null,8,K8),b(Y8,{title:"Toggle answer",close:c(n).isExpanded.value},null,8,["close"])]),s("div",{ref:c(n).content,class:"faq-content",style:we({"--h":`${c(n).height.value}px`})},[s("div",Z8,[s("div",{class:"faq-answer",innerHTML:e.answer},null,8,W8)])],4)],2))}},J8=Object.freeze(Object.defineProperty({__proto__:null,default:ml},Symbol.toStringTag,{value:"Module"})),Q8={class:"active-links"},X8={class:"faq-list"},eM={class:"padding-top-2"},tM=["href"],nM=Object.assign({inheritAttrs:!1},{__name:"Faq",props:{items:Array},setup(e){const n=f("");return $e(()=>{setTimeout(()=>{n.value="moc.sretsopcihpargopyt@troppus".split("").reverse().join("")},100)}),(t,o)=>(l(),r("div",Q8,[s("ul",X8,[(l(!0),r(Y,null,J(e.items,(a,i)=>(l(),H(ml,$n({key:`a${i}`},a,{index:i,length:e.items.length}),null,16,["index","length"]))),128))]),s("p",eM,[D(" Any questions contact us at "),s("a",{href:`mailto:${n.value}`},E(n.value),9,tM)])]))}}),oM=Object.freeze(Object.defineProperty({__proto__:null,default:nM},Symbol.toStringTag,{value:"Module"})),sM={class:"w-imgs"},lM=["innerHTML"],aM=["innerHTML"],iM=Object.assign({inheritAttrs:!1},{__name:"Image",props:{title:String,image:Object,imageMobile:Object,caption:String,outline:Boolean,rounded:Boolean,titleInsideCol:Boolean,largeCaption:Boolean},setup(e){const n=e;return(t,o)=>(l(),r("figure",sM,[e.title?(l(),r("h1",{key:0,class:P(["figtitle",{"inside-col":e.titleInsideCol}]),innerHTML:e.title},null,10,lM)):h("",!0),b(zn,mo(go(n)),null,16),e.caption?(l(),r("figcaption",{key:1,class:P({large:e.largeCaption}),innerHTML:e.caption},null,10,aM)):h("",!0)]))}}),rM=Object.freeze(Object.defineProperty({__proto__:null,default:iM},Symbol.toStringTag,{value:"Module"})),uM=["innerHTML"],cM=Object.assign({inheritAttrs:!1},{__name:"JoinUs",props:{content:String},setup(e){return(n,t)=>(l(),r("div",null,[e.content?(l(),r("div",{key:0,class:"content-style active-links padding-bottom-1",innerHTML:e.content},null,8,uM)):h("",!0),s("button",{type:"button",class:"outline serif",onClick:t[0]||(t[0]=o=>c(Re)("join"))}," Learn more ")]))}}),dM=Object.freeze(Object.defineProperty({__proto__:null,default:cM},Symbol.toStringTag,{value:"Module"})),vM=ys('<h1>typo/graphic membership</h1><div class="price"> € <span class="number">4</span> /month </div><div class="price-note"> get 25% discount if you subscribe yearly </div><ul class="feature-list"><li>Unlock the poster search</li><li>Support us to <b>push typo/graphic posters forward</b></li></ul><button class="large-pill stateful success" type="button"> Join us! </button>',5),fM=[vM],pM=Object.assign({inheritAttrs:!1},{__name:"SubscriptionCard",setup(e){mt(async()=>{await qe(),await Gn()});function n(){X.value?j.value="membership":(bt.value=()=>{j.value="membership"},j.value="login",$o.value=!0)}return(t,o)=>(l(),r("div",{class:"subscription-card",onClick:n},fM))}}),hM=Object.freeze(Object.defineProperty({__proto__:null,default:pM},Symbol.toStringTag,{value:"Module"})),mM={class:"text-split"},gM=["innerHTML"],yM=["innerHTML"],_M=["innerHTML"],$M=Object.assign({inheritAttrs:!1},{__name:"Text",props:{title:String,caption:String,content:String,larger:Boolean},setup(e){return(n,t)=>(l(),r("div",mM,[e.title?(l(),r("h1",{key:0,class:P(["figtitle",{medium:e.larger}]),innerHTML:e.title},null,10,gM)):h("",!0),e.caption?(l(),r("figcaption",{key:1,innerHTML:e.caption},null,8,yM)):h("",!0),e.content?(l(),r("div",{key:2,class:"content-style active-links",innerHTML:e.content},null,8,_M)):h("",!0)]))}}),kM=Object.freeze(Object.defineProperty({__proto__:null,default:$M},Symbol.toStringTag,{value:"Module"})),bM=["innerHTML"],wM=["innerHTML"],MM=Object.assign({inheritAttrs:!1},{__name:"Video",props:{video:String,videoHevc:String,videoMobile:String,videoHevcMobile:String,forcePreload:Boolean,autoplay:Boolean,loop:Boolean,controls:Boolean,mute:Boolean,image:Object,title:String,caption:String,ratioW:Number,ratioH:Number,oembed:String,outline:Boolean},setup(e){const n=e;return(t,o)=>(l(),r("figure",null,[e.title?(l(),r("h1",{key:0,class:"figtitle",innerHTML:e.title},null,8,bM)):h("",!0),e.caption?(l(),r("figcaption",{key:1,innerHTML:e.caption},null,8,wM)):h("",!0),b(jn,mo(go(n)),null,16)]))}}),TM=Object.freeze(Object.defineProperty({__proto__:null,default:MM},Symbol.toStringTag,{value:"Module"})),LM={key:0,class:"modules"},gl={__name:"Modules",props:{modules:Array},setup(e){const n={},t=Object.assign({"./modules/Donation.vue":U8,"./modules/Faq.vue":oM,"./modules/FaqItem.vue":J8,"./modules/Image.vue":rM,"./modules/JoinUs.vue":dM,"./modules/SubscriptionCard.vue":hM,"./modules/Text.vue":kM,"./modules/Video.vue":TM});for(const o in t)n[t[o].default.__name]=t[o].default;return(o,a)=>e.modules.length?(l(),r("div",LM,[(l(!0),r(Y,null,J(e.modules,i=>(l(),r("div",{key:i.id,class:P([[`${i.module}-module`],"module"]),style:we({"--bkg-color":i.bkgColor||null,"--text-color":i.textColor||null,marginTop:`${c(O).mobile?i.spacingTopMobile:i.spacingTop}px`})},[(l(),H(sn(n[i.component]),mo(go(i)),null,16))],6))),128))])):h("",!0)}},CM={class:"padding-bottom-5"},AM={class:"donation-love green margin-bottom-1 margin-top-1"},SM=s("p",{class:"active-links color-success"}," Success! Payment received. ",-1),PM=s("p",null,"Your typo/graphic membership is active!",-1),xM=s("p",null,"We hope you discover good references here, and always have good moments as if you were reading a good book.",-1),HM=s("a",{href:"/archive"},[s("button",{class:"large-pill more-pad stateful margin-top-1 success",type:"button"}," Start now ")],-1),yl={__name:"PaymentSuccessMessage",setup(e){return(n,t)=>(l(),r("div",CM,[s("div",AM,[b(kt,{title:""})]),SM,PM,xM,HM]))}},IM={key:0},EM={key:0,class:"payment-summary"},BM={class:"payment-header"},VM=["innerHTML"],OM={key:0,class:"payment-interval-cards"},FM=s("h1",null,"yearly",-1),NM={class:"price"},DM={class:"number"},UM={class:"price-note"},zM=s("br",null,null,-1),jM=s("h1",null,"monthly",-1),RM={class:"price"},qM={class:"number"},YM={class:"suffix"},GM=["innerHTML"],KM=["innerHTML"],ZM={class:"sizer"},WM={key:3,class:"payment-footer"},JM={class:"color-link"},QM={__name:"Payment",setup(e){const n={letter:"€",letterShort:"€",monthly:4,yearly:36},t=f("");let o=null;const a=f(null),i=f(null),u=f(null),v=f(!1),y=f(!1),d=f(""),p=T(()=>u.value==="succeeded"||u.value==="processing"),g=T(()=>u.value==="succeeded"),m=T(()=>t.value?"review and pay":"choose your preferred billing interval"),$=T(()=>{if(y.value)return"loading ...";if(d.value)return d.value;if(!u.value)return"";switch(u.value){case"succeeded":return"Success! Payment received.";case"processing":return"Payment processing. We'll update you when payment is received. Meanwhile:";case"requires_payment_method":return"Payment failed. Try again."}return"Something went wrong. Confirm you have been charged and visit the membership page to check the status."});async function k(A){t.value!==A&&(t.value=A,await S())}$e(async()=>{o=await Gn(),await qe(),v.value=!0}),Ct(M);async function S(){if(d.value="",M(),!!t.value){y.value=!0;try{a.value=await o.initEmbeddedCheckout({fetchClientSecret:_,onComplete:()=>{u.value="succeeded"}}),a.value.mount(i.value)}catch(A){d.value=Ue(A)}finally{y.value=!1}}}async function _(){const A=await Ee("/api/tg/stripe-checkout",{method:"POST",body:{interval:t.value,email:C.value.email}}),{clientSecret:w,status:L,message:x}=A;if(L==="error")throw new Error(x);return w}function M(){a.value&&(a.value.destroy(),a.value=null)}return(A,w)=>(l(),r("div",{class:P({"wait-payment-form":y.value})},[v.value?h("",!0):(l(),r("p",IM," loading ... ")),Q(s("div",null,[p.value?h("",!0):(l(),r("div",EM,[s("div",BM,[s("p",{innerHTML:m.value},null,8,VM)]),t.value?h("",!0):(l(),r("div",OM,[s("div",{class:P(["subscription-card",{selected:t.value==="yearly","not-selected":t.value&&t.value!=="yearly"}]),onClick:w[0]||(w[0]=L=>k("yearly"))},[FM,s("div",NM,[D(E(n.letter)+" ",1),s("span",DM,E(n.yearly),1),D(" /year ")]),s("div",UM,[D(" you will be saving 25% "),zM,D("("+E(n.letterShort)+E(n.yearly/12)+"/month) ",1)])],2),s("div",{class:P(["subscription-card",{selected:t.value==="monthly","not-selected":t.value&&t.value!=="monthly"}]),onClick:w[1]||(w[1]=L=>k("monthly"))},[jM,s("div",RM,[D(E(n.letter)+" ",1),s("span",qM,E(n.monthly),1),D(),s("div",YM,[D(" /month "),n.monthlyCents?(l(),r("div",{key:0,class:"cents",innerHTML:n.monthlyCents},null,8,GM)):h("",!0)])])],2)]))])),g.value?(l(),H(yl,{key:1})):$.value?(l(),r("p",{key:2,class:P([{"color-error":d.value,"color-success":u.value==="succeeded",small:d.value},"active-links padding-top-2"]),innerHTML:$.value},null,10,KM)):h("",!0),s("div",{class:P({"checkout-wrap":!!a.value})},[s("div",ZM,[s("div",{ref_key:"embedEl",ref:i},null,512)])],2),!g.value&&t.value?(l(),r("div",WM,[s("p",JM,[s("span",{onClick:w[2]||(w[2]=()=>k(""))},"← back")])])):h("",!0)],512),[[ae,v.value]])],2))}},XM={key:0},e6={class:"blue-text"},t6=["innerHTML"],n6=s("p",null," If you want to support us, you can still subscribe. Otherwise it's not needed, you already have full access. ",-1),o6=s("div",{class:"summary-row no-bottom-pad"},null,-1),s6={key:1,class:"active-links content-style"},l6=s("p",{class:"blue-text"}," Thank you for your interest in the membership program. Although As an author, you already have full access. ",-1),a6={key:0},i6=s("a",{href:"mailto:support@typographicposters.com"},"email us",-1),r6=s("p",null," The best way to support us is by sharing with your friends. Still, if you want, you can subscribe too. ",-1),u6=s("div",{class:"summary-row no-bottom-pad"},null,-1),c6=["innerHTML"],d6={key:3},v6={key:0},f6={key:1,class:"payment-summary"},p6={key:0,class:"margin-bottom-1"},h6=s("span",{class:"blue-text"},"Your subscription is canceled",-1),m6=s("br",null,null,-1),g6={class:"button-group spread margin-top-2 margin-bottom-1"},y6=["href"],_6=s("button",{class:"large-pill blue",type:"button"},"re-subscribe",-1),$6=[_6],k6=s("div",{class:"summary-row margin-top-2"},[s("small",{class:"active-links"},[D("Any help reach us at "),s("a",{href:"mailto:support@typographicposters.com"},"support@typographicposters.com")])],-1),b6={key:1},w6={key:0},M6=s("span",{style:{color:"#00f"}},"thank you!",-1),T6={key:1},L6={class:"summary-row"},C6={class:"no-spacing"},A6=s("b",null,"typo/graphic membership",-1),S6=s("br",null,null,-1),P6={class:"number"},x6={class:"summary-row"},H6={key:0,class:"blue-text"},I6={class:"button-group spread margin-top-1 margin-bottom-2"},E6=["href"],B6=s("button",{class:"large-pill blue",type:"button"},"billing portal",-1),V6=[B6],O6=s("div",{class:"summary-row"},[s("h6",{class:"spaced"}," use your billing portal to update or cancel your subscription, change payment method and download invoices. "),s("h6",{class:"active-links"},[D(" Any help reach us at "),s("a",{href:"mailto:support@typographicposters.com"},"support@typographicposters.com")])],-1),_l={__name:"Membership",setup(e){const n=f(!1),t=f(""),o=f({}),a=T(()=>n.value?t.value?t.value:"":"loading ..."),i=T(()=>{var u,v;return(v=(u=o.value)==null?void 0:u.subscriptions)==null?void 0:v[0]});return $e(async()=>{await qe();try{o.value=await ee.value.functions.stripeGetBilling()}catch(u){t.value=Ue(u)}n.value=!0}),(u,v)=>{var y,d;return l(),r("div",null,[(y=c(C))!=null&&y.complimentary&&!c(Je)&&!c(Pe)&&!i.value&&n.value?(l(),r("div",XM,[s("p",e6,[D(" You have a complimentary membership"),c(C).complimentaryUntil?(l(),r("span",{key:0,innerHTML:`, valid until ${new Intl.DateTimeFormat("en-GB",{dateStyle:"long"}).format(c(C).complimentaryUntil).replace(/\s/g," ")}`},null,8,t6)):h("",!0),D(". ")]),n6,b(po,{content:"<p>for one-time donations click here:</p>"}),o6])):h("",!0),(c(Je)||c(Pe))&&!i.value&&n.value?(l(),r("div",s6,[l6,(d=c(C))!=null&&d.isStudio?(l(),r("p",a6,[D(" You can also grant a free membership for your studio team, just "),i6,D(". ")])):h("",!0),r6,b(po,{content:"<p>for one-time donations click here:</p>"}),u6])):h("",!0),a.value?(l(),r("p",{key:2,class:P({"color-error":t.value,small:t.value}),innerHTML:a.value},null,10,c6)):h("",!0),n.value?(l(),r("div",d6,[i.value?(l(),r("div",f6,[o.value.isActive&&i.value.cancelAtEnd?(l(),r("div",p6,[s("p",null,[h6,m6,D(" still active until "+E(new Intl.DateTimeFormat("en-GB",{dateStyle:"long"}).format(i.value.end*1e3)),1)]),s("div",g6,[s("a",{href:o.value.portalUrl,target:"_blank"},$6,8,y6),b(fo)]),k6])):(l(),r("div",b6,[o.value.isActive?(l(),r("p",w6,[D(" Your membership is active, "),M6])):o.value.isPastDue?(l(),r("p",T6," Your membership is past due, use the button below to pay. ")):h("",!0),s("div",L6,[s("p",C6,[A6,S6,s("span",P6,E(new Intl.NumberFormat("en-US",{style:"currency",currency:i.value.currency}).format(i.value.value)),1),D("/"+E(i.value.interval),1)])]),s("div",x6,[s("h6",null,E(o.value.isPastDue?"Due date:":"Next Payment:")+" "+E(new Intl.DateTimeFormat("en-GB",{dateStyle:"long"}).format(i.value.end*1e3)),1),i.value.interval==="month"?(l(),r("h6",H6," upgrade to yearly subscription and save 25% ")):h("",!0)]),s("div",I6,[s("a",{href:o.value.portalUrl,target:"_blank"},V6,8,E6),b(fo)]),O6]))])):(l(),r("div",v6,[b(QM)]))])):h("",!0)])}}},F6={class:""},N6={key:0},D6={key:1,class:"active-links"},U6=["innerHTML"],z6=s("p",null,[D("Please "),s("a",{href:"/contact"},"contact us"),D(" for support.")],-1),$l={__name:"PaymentConfirm",setup(e){const n=f(!0),t=f(!1),o=f(null),i=new URLSearchParams(window.location.search).get("session_id"),u=Ee("/api/tg/stripe-checkout-session",{method:"POST",body:{session_id:i}});return $e(async()=>{const v=await u,{status:y,message:d}=v;y==="error"?(o.value=`error: ${d}`,i||window.location.replace("/join")):y==="open"?window.location.replace("/membership"):y==="complete"&&(t.value=!0),n.value=!1}),(v,y)=>(l(),r("div",F6,[n.value?(l(),r("p",N6," loading ")):h("",!0),o.value?(l(),r("div",D6,[s("p",{innerHTML:o.value},null,8,U6),z6])):h("",!0),t.value?(l(),H(yl,{key:2})):h("",!0)]))}},j6=["innerHTML"],R6=["innerHTML"],q6=["innerHTML"],kl={__name:"ApiMessage",setup(e){const n=new URLSearchParams(window.location.search),t=n.get("error")||"",o=n.get("success")||"",a=n.get("message")||"";return(i,u)=>(l(),r("div",null,[c(a)?(l(),r("p",{key:0,innerHTML:c(a)},null,8,j6)):h("",!0),c(o)?(l(),r("p",{key:1,class:"color-success",innerHTML:c(o)},null,8,R6)):h("",!0),c(t)?(l(),r("p",{key:2,class:"color-error",innerHTML:c(t)},null,8,q6)):h("",!0),s("button",{type:"button",class:"text-only no-pad margin-top-2",onClick:u[0]||(u[0]=(...v)=>c(et)&&c(et)(...v))}," ← close ")]))}},Y6={key:0,class:"donation-love"},G6=["innerHTML"],bl={__name:"DonationConfirm",setup(e){const n=new URLSearchParams(window.location.search).get("payment_intent_client_secret"),t=f("succeeded"),o=T(()=>{if(!t.value)return"loading ...";switch(t.value){case"succeeded":return"Success! Payment received.<br><br>Thank you for supporting us. Your donation will help enormously our journey to improve the platform for all.";case"processing":return"Payment processing. We'll update you when payment is received.";case"requires_payment_method":return"Payment failed. Try another payment method."}return"Something went wrong. Confirm you have been charged and visit the membership page to check the status."});return $e(async()=>{const a=await Gn();try{const{paymentIntent:i}=await a.retrievePaymentIntent(n);t.value=(i==null?void 0:i.status)||"error"}catch{t.value="error"}}),(a,i)=>(l(),r("div",null,[t.value==="succeeded"?(l(),r("div",Y6,[b(kt,{title:""})])):h("",!0),s("p",{class:P({"color-blue":t.value==="succeeded","padding-top-1":t.value==="succeeded"}),innerHTML:o.value},null,10,G6)]))}},K6=["innerHTML"],Z6={__name:"SideMenuDesktop",props:{items:Array,headerItems:Array,accountItems:Array,socialItems:Array,extraItems:Array,extraItemsAccount:Array,currentContent:Object,delayDomForms:Boolean},setup(e){const n=e,t=T(()=>j.value==="payment-confirm");function o(v){t.value?v.preventDefault():un()}const a=T(()=>j.value==="join");function i(){j.value=Jt.value,Jt.value=null}const u=T(()=>Wt.value?n.accountItems:[].concat(n.items).concat([{key:"spacer2",type:"spacer"}]).concat(n.headerItems));return(v,y)=>(l(),r(Y,null,[s("aside",{id:"side-menu",class:P(["white-theme color-links",{open:c(Zt)}])},[s("div",null,[s("nav",null,[b(xn,{items:u.value},null,8,["items"]),b(pl,{items:e.socialItems},null,8,["items"]),b(xn,{items:c(Wt)?e.extraItemsAccount:e.extraItems,class:"extra-items"},null,8,["items"])])])],2),s("div",{class:P(["side-menu-line",{open:c(Zt)}])},null,2),s("div",{class:P(["side-menu-bkg",{open:c(Zt),cant:t.value}]),onClick:o},null,2),s("div",{id:"side-menu-content",class:P(["white-theme",{open:c(j),wide:a.value}])},[b(Vt,{name:"side",mode:"out-in"},{default:se(()=>{var d,p;return[(l(),r("div",{id:"side-menu-content-wrap",key:c(j),class:P({wide:a.value})},[(d=e.currentContent)!=null&&d.content?(l(),r("span",{key:0,class:"content-style page active-links",innerHTML:e.currentContent.content},null,8,K6)):h("",!0),(p=e.currentContent)!=null&&p.modules?(l(),H(gl,{key:1,modules:e.currentContent.modules},null,8,["modules"])):h("",!0),c(Jt)?(l(),r("small",{key:2,class:"color-link margin-top-2 inline-block",onClick:i}," ← back ")):h("",!0),c(j)==="membership"&&!e.delayDomForms?(l(),H(_l,{key:3})):h("",!0),c(j)==="payment-confirm"&&!e.delayDomForms?(l(),H($l,{key:4})):h("",!0),c(j)==="donation-confirm"&&!e.delayDomForms?(l(),H(bl,{key:5})):h("",!0),c(j)==="login"&&!e.delayDomForms?(l(),H(ul,{key:6})):h("",!0),c(j)==="reset"&&!e.delayDomForms?(l(),H(cl,{key:7})):h("",!0),c(j)==="request"&&!e.delayDomForms?(l(),H(dl,{key:8})):h("",!0),c(j)==="confirm"&&!e.delayDomForms?(l(),H(vl,{key:9})):h("",!0),c(j)==="account"&&!e.delayDomForms?(l(),H(fl,{key:10})):h("",!0),c(j)==="create"&&!e.delayDomForms?(l(),H(Bo,{key:11})):h("",!0),c(j)==="delete"&&!e.delayDomForms?(l(),H(hl,{key:12})):h("",!0),c(j)==="message"?(l(),H(kl,{key:13})):h("",!0)],2))]}),_:1})],2)],64))}},W6=s("hr",{class:"bkg no-spacing"},null,-1),J6=["innerHTML"],Q6={class:"padding-bottom-5"},X6={key:0},eT={key:2},tT=s("hr",{class:"bkg"},null,-1),nT=["innerHTML"],oT={__name:"SideMenuMobile",props:{items:Array,headerItems:Array,accountItems:Array,socialItems:Array,extraItems:Array,extraItemsAccount:Array,currentContent:Object,delayDomForms:Boolean},setup(e){const n=e,t=T(()=>j.value==="payment-confirm");function o(v){t.value?v.preventDefault():un()}const a=T(()=>["terms-of-use","terms-of-service","privacy-policy","cookie-policy"].includes(j.value)),i=f(null);U(j,()=>{i.value.scrollTo(0,0)});const u=T(()=>{if(Wt.value){const v=[].concat(n.accountItems);return It.value&&O.mobile&&v.push({key:"edit-profile",routeTo:$s.value,self:!0,name:"Edit my profile"}),v}return[].concat(n.items)});return(v,y)=>(l(),r(Y,null,[s("aside",{id:"side-menu-mobile",ref_key:"menu",ref:i,class:P(["white-theme",{open:c(Zt)}])},[W6,s("div",null,[b(Vt,{name:"view",mode:"out-in"},{default:se(()=>{var d,p;return[a.value?h("",!0):(l(),r("div",{id:"side-menu-content-mobile",key:c(j),class:"container padding-top-3 padding-bottom-5"},[(d=e.currentContent)!=null&&d.content?(l(),r("div",{key:0,class:"content-style page active-links",innerHTML:e.currentContent.content},null,8,J6)):h("",!0),(p=e.currentContent)!=null&&p.modules?(l(),H(gl,{key:1,modules:e.currentContent.modules},null,8,["modules"])):h("",!0),c(j)==="membership"&&!e.delayDomForms?(l(),H(_l,{key:2})):h("",!0),c(j)==="payment-confirm"&&!e.delayDomForms?(l(),H($l,{key:3})):h("",!0),c(j)==="donation-confirm"&&!e.delayDomForms?(l(),H(bl,{key:4})):h("",!0),c(j)==="login"&&!e.delayDomForms?(l(),H(ul,{key:5})):h("",!0),c(j)==="reset"&&!e.delayDomForms?(l(),H(cl,{key:6})):h("",!0),c(j)==="request"&&!e.delayDomForms?(l(),H(dl,{key:7})):h("",!0),c(j)==="confirm"&&!e.delayDomForms?(l(),H(vl,{key:8})):h("",!0),c(j)==="account"&&!e.delayDomForms?(l(),H(fl,{key:9})):h("",!0),c(j)==="create"&&!e.delayDomForms?(l(),H(Bo,{key:10})):h("",!0),c(j)==="delete"&&!e.delayDomForms?(l(),H(hl,{key:11})):h("",!0),c(j)==="message"?(l(),H(kl,{key:12})):h("",!0)]))]}),_:1}),s("footer",Q6,[u.value.length?(l(),r("nav",X6,[b(xn,{items:u.value},null,8,["items"])])):h("",!0),c(Wt)?h("",!0):(l(),H(pl,{key:1,items:e.socialItems},null,8,["items"])),b(xn,{items:c(Wt)?e.extraItemsAccount:e.extraItems,class:"extra-items"},null,8,["items"]),e.currentContent&&a.value?(l(),r("div",eT,[tT,b(Vt,{name:"view",mode:"out-in"},{default:se(()=>{var d;return[(d=e.currentContent)!=null&&d.content?(l(),r("div",{key:c(j),class:"container content-style page active-links padding-top-2 padding-bottom-5",innerHTML:e.currentContent.content},null,8,nT)):h("",!0)]}),_:1})])):h("",!0)])])],2),s("div",{class:P(["side-menu-bkg",{open:c(Zt),cant:t.value}]),onClick:o},null,2)],64))}},sT={__name:"SideMenu",setup(e){const n=[{key:"about",name:"About"},{key:"apply",name:"Apply"},{key:"contact",name:"Contact"}],t=[{key:"archive",routeTo:"/archive",self:!0,name:"Poster Archive"},{key:"profiles",routeTo:"/profiles",self:!0,name:"profiles"}],o=T(()=>{if(X.value){const g=[];return g.push({key:"account",name:"Account"}),vt.value?g.push({key:"membership",name:"Membership"}):yo.value?(g.push({key:"membership",name:"Renew you Membership"}),g.push({key:"join",name:"More info"})):g.push({key:"join",name:"membership"}),_o.value&&g.push({key:"my-collections",routeTo:"/collections/my",self:!0,name:"My Collections"}),g.push({key:"likes",routeTo:"/likes",self:!0,name:"My Likes"}),g.push({key:"faq",name:"FAQ"}),g}return[{key:"login",name:"Login"},{key:"join",name:"membership"},{key:"faq",name:"FAQ"}]}),a=[{key:"instagram",name:"Instagram",url:"https://www.instagram.com/typographicposters"},{key:"twitter",name:"Twitter",url:"https://twitter.com/tgposters"},{key:"pinterest",name:"Pinterest",url:"https://www.pinterest.com/typographicposters/"},{key:"facebook",name:"Facebook",url:"https://www.facebook.com/typographicposters"}],i=[],u=[{key:"terms-of-use",name:"Terms of Use"},{key:"terms-of-service",name:"Terms of Service"},{key:"privacy-policy",name:"Privacy Policy"},{key:"cookie-policy",name:"Cookie Policy"},{key:"legal",name:"Legal"}],v=f(!!re.value.pages);v.value&&setTimeout(()=>{v.value=!1},200);let y=!1,d=!1;const p=T(()=>re.value.pages&&j.value&&re.value.pages[j.value]?(j.value==="about"&&!y&&(y=!0,re.value.pages.about.content=re.value.pages.about.content.replace("this email",`<a href="mailto:${"moc.sretsopcihpargopyt@yeh".split("").reverse().join("")}">this email</a>`)),j.value==="contact"&&!d&&(d=!0,re.value.pages.contact.content=re.value.pages.contact.content.replace("this email",`<a href="mailto:${"moc.sretsopcihpargopyt@yeh".split("").reverse().join("")}">this email</a>`)),re.value.pages[j.value]):null);return(g,m)=>(l(),r(Y,null,[c(O).mobile?h("",!0):(l(),H(Z6,{key:0,items:n,"header-items":t,"account-items":o.value,"social-items":a,"extra-items":i,"extra-items-account":u,"current-content":p.value,"delay-dom-forms":v.value},null,8,["account-items","current-content","delay-dom-forms"])),c(O).mobile?(l(),H(oT,{key:1,items:n,"header-items":t,"account-items":o.value,"social-items":a,"extra-items":i,"extra-items-account":u,"current-content":p.value,"delay-dom-forms":v.value},null,8,["account-items","current-content","delay-dom-forms"])):h("",!0)],64))}},lT=["innerHTML"],aT=["innerHTML"],iT=["onDragenter","onDragover","onDrop"],rT=["innerHTML"],is="max size 20MB, min height 1600px<br>RGB with AdobeRGB and DisplayP3 are preferred",uT={__name:"FileDrop",setup(e){const n=f(!1),t=f(!1),o=f(!1),a=f(null),i=T(()=>{var _,M;return X.value&&((M=(_=C.value)==null?void 0:_.allowedProfiles)==null?void 0:M.length)}),u=T(()=>{var _,M;return(M=(_=ze.currentRoute.value)==null?void 0:_.params)==null?void 0:M.profileId}),v=T(()=>{var _;return X.value&&((_=C.value)==null?void 0:_.editProfileSelect)&&!u.value}),y=T(()=>{var _,M;return v.value?!0:!Pe.value&&!Je.value?!1:X.value&&!((_=C.value)!=null&&_.editProfileSelect)&&!((M=C.value)!=null&&M.editProfileId)&&t.value});async function d(){var _,M;o.value||(o.value=!0,await qe(),i.value&&await Se("author-area"),(_=C.value)!=null&&_.isAdmin&&!((M=C.value)!=null&&M.allowedProfiles)&&(C.value.allowedProfiles=await ee.value.functions.profileGetAll()),o.value=!1)}async function p(_){var M;if(_.preventDefault(),t.value=!1,!Sw.value&&j.value!=="account"){if((M=_.dataTransfer.items)!=null&&M.length){let A=!0;for(const w of _.dataTransfer.items)if(w.kind==="file"){A=!1;break}if(A)return}Ie.value=!1,n.value=!0,await d()}}function g(_){n.value=!1}$e(()=>{window.addEventListener("dragenter",p)});function m(_,M){var A;if(!(!_||!_.length)){if(M||(M=u.value),M||(M=(A=C.value)==null?void 0:A.editProfileId),!Pe.value&&!(C.value.allowedProfiles||[]).find(w=>w.id===M)&&(M=!1),!M){n.value=!0;return}ot[M]||(ot[M]=f([])),ot[M].value=ot[M].value.concat(_),ze.push({name:"author-area-of-tab",params:{profileId:M,tab:"posters"}})}}async function $(_,M){_.preventDefault(),t.value=!0;const A=[];if(_.dataTransfer.items){for(const w of _.dataTransfer.items)if(w.kind==="file"){const L=w.getAsFile();A.push(L)}}if(!X.value){Ve(),n.value=!1,bt.value=async()=>{j.value=null,await d(),t.value=!0,m(A,M),n.value=!1};return}m(A,M),n.value=!1}function k(_){n.value=!0,a.value=null}const S=T(()=>{var _,M;return o.value?"loading...":X.value?v.value?`Hello${(_=C.value)!=null&&_.firstName?` ${C.value.firstName}`:""}!<br>Drop the poster into the profile you want to upload to.`:Pe.value||Je.value?`Hello${(M=C.value)!=null&&M.firstName?` ${C.value.firstName}`:""}!<br>Just drop the file and we'll upload for you.`:"Only members of the site can upload new posters.<br>In case you are, contact us and we'll help you in. ":"You need to login first.<br>Just drop the file and we'll redirect you there."});return(_,M)=>{var A;return l(),r(Y,null,[s("div",{class:P(["file-drop-null",{active:n.value}]),onDragenter:M[0]||(M[0]=N(()=>{},["prevent"])),onDragover:M[1]||(M[1]=N(()=>{},["prevent"])),onDragleave:M[2]||(M[2]=N(()=>{},["prevent"])),onDrop:N(g,["prevent"]),onClick:g},null,34),v.value?(l(),r("div",{key:1,class:P(["file-drop-multi",{active:n.value}])},[s("div",{class:"header",onDragenter:M[5]||(M[5]=N(()=>{},["prevent"])),onDragover:M[6]||(M[6]=N(()=>{},["prevent"])),onDragleave:M[7]||(M[7]=N(()=>{},["prevent"])),onDrop:N(g,["prevent"])},[s("p",{class:"pointer-events-none",innerHTML:S.value},null,8,aT),i.value?(l(),r("small",{key:0,class:"text-none pointer-events-none",innerHTML:is})):h("",!0),y.value?(l(),r("h6",{key:1,class:"close",onClick:g}," Close ")):h("",!0)],32),(A=c(C))!=null&&A.allowedProfiles?(l(),r("div",{key:0,class:P(["list",{long:c(C).allowedProfiles.length>20}]),style:we({"--profile-count":c(C).allowedProfiles.length})},[(l(!0),r(Y,null,J(c(C).allowedProfiles,w=>(l(),r("div",{key:w.id,class:P(["item",{active:a.value===w.id}]),onDragenter:N(L=>a.value=w.id,["prevent"]),onDragover:N(L=>a.value=w.id,["prevent"]),onDragleave:N(k,["prevent"]),onDrop:N(L=>$(L,w.id),["prevent"])},[s("h1",{innerHTML:w.name},null,8,rT)],42,iT))),128))],6)):h("",!0)],2)):(l(),r("div",{key:0,class:P(["file-drop",{active:n.value}]),onDragenter:M[3]||(M[3]=N(()=>{},["prevent"])),onDragover:M[4]||(M[4]=N(()=>{},["prevent"])),onDragleave:N(g,["prevent"]),onDrop:N($,["prevent"])},[s("p",{class:"message pointer-events-none",innerHTML:S.value},null,8,lT),i.value?(l(),r("small",{key:0,class:"text-none pointer-events-none",innerHTML:is})):h("",!0),y.value?(l(),r("h6",{key:1,class:"close",onClick:g}," Close ")):h("",!0)],34))],64)}}},rs="typo/graphic posters",cT={__name:"App",setup(e){return Dl({title:T(()=>{var n,t,o,a,i,u;return j.value?((a=(o=(t=(n=re.value)==null?void 0:n.pages)==null?void 0:t[j.value])==null?void 0:o.meta)==null?void 0:a.title)||rs:((u=(i=rl.value)==null?void 0:i.meta)==null?void 0:u.title)||rs})}),(n,t)=>{const o=fe("router-view");return l(),r("div",{class:P({loading:c(ge)||c(ww),"menu-can-hide":c(ke),"menu-hidden":c(Sn)})},[b(d3),b(sT),c(ke)?h("",!0):(l(),H(uT,{key:0})),b($c),b(Yi),s("div",{class:P(["view",{blur:c(Ie)}])},[b(o,null,{default:se(({Component:a,route:i})=>[b(Vt,{mode:"out-in",name:"view"},{default:se(()=>[(l(),H(sn(a),{key:i.meta.keep?i.name:i.path}))]),_:2},1024)]),_:1})],2)],2)}}},Fo=Ul(cT);Fo.use(ze);const dT=zl();Fo.use(dT);la();ze.isReady().then(()=>Fo.mount("#app"));export{X as $,pt as A,Tn as B,C4 as C,i$ as D,pT as E,Un as F,hT as G,P$ as H,fT as I,Bn as J,re as K,Ys as L,ln as M,$t as N,Mo as O,Xl as P,_i as Q,qo as R,_T as S,Us as T,tn as U,wt as V,co as W,gT as X,Mn as Y,et as Z,k4 as _,de as a,bt as a0,Ve as a1,qe as a2,C as a3,ge as a4,yT as a5,Ft as b,Ue as c,x_ as d,Ht as e,it as f,Ot as g,xo as h,Po as i,jt as j,Qr as k,Vn as l,O as m,te as n,Ze as o,We as p,He as q,Ds as r,zr as s,Ur as t,ee as u,ra as v,Sw as w,ze as x,mT as y,Nt as z};
